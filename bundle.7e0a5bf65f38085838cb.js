/*! For license information please see bundle.7e0a5bf65f38085838cb.js.LICENSE.txt */
(()=>{var t={8391:(t,e,n)=>{"use strict";n(3048),n(9247),n(8128),n(241),n(4918),n(9839),n(8878),n(3090),n(4184),n(1587),n(338),n(49),n(1497),n(6248)},3048:(t,e,n)=>{n(9823),n(9701),n(5843),n(8344),n(541),n(8904),n(4978),n(9770),n(8338),n(7941),n(3668),n(7070),n(9163),n(3310),n(9773),n(9020),n(4210),n(6139),n(8629),n(9745),n(5694),n(6130),n(5821),n(6349),n(8110),n(3689),n(2211),n(3730),n(6729),n(7374),n(2095),n(6362),n(6329),n(7463),n(5874),n(5886),n(91),n(6799),n(1570),n(6006),n(8377),n(108),n(905),n(8103),n(5937),n(9979),n(3601),n(4226),n(9750),n(1462),n(4773),n(2421),n(2763),n(1711),n(183),n(7472),n(516),n(427),n(3777),n(7238),n(5942),n(513),n(4186),n(5502),n(6213),n(9457),n(9876),n(9772),n(7174),n(5251),n(7984),n(3359),n(195),n(8586),n(817),n(5337),n(5079),n(5105),n(4163),n(5867),n(9606),n(9174),n(8466),n(7209),n(1796),n(7772),n(286),n(4434),n(3231),n(46),n(9399),n(8312),n(5155),n(3133),n(1601),n(453),n(1954),n(8703),n(652),n(7680),n(5506),n(5846),n(4321),n(751),n(4828),n(4208),n(2679),n(9236),n(2235),n(1239),n(8392),n(773),n(3623),n(345),n(8460),n(6788),n(6780),n(3620),n(3958),n(1592),n(5469),n(6471),n(3149),n(4637),n(1335),n(2603),n(4460),n(5970),n(4288),n(2039),n(4613),n(122),n(9484),n(1014),n(7150),n(8982),n(8868),n(8633),t.exports=n(66)},8128:(t,e,n)=>{n(7328),t.exports=n(66).Array.flatMap},9247:(t,e,n)=>{n(8081),t.exports=n(66).Array.includes},338:(t,e,n)=>{n(9716),t.exports=n(66).Object.entries},4184:(t,e,n)=>{n(7453),t.exports=n(66).Object.getOwnPropertyDescriptors},1587:(t,e,n)=>{n(27),t.exports=n(66).Object.values},49:(t,e,n)=>{"use strict";n(2235),n(6632),t.exports=n(66).Promise.finally},4918:(t,e,n)=>{n(8302),t.exports=n(66).String.padEnd},241:(t,e,n)=>{n(9447),t.exports=n(66).String.padStart},8878:(t,e,n)=>{n(152),t.exports=n(66).String.trimRight},9839:(t,e,n)=>{n(9324),t.exports=n(66).String.trimLeft},3090:(t,e,n)=>{n(3756),t.exports=n(9669).f("asyncIterator")},1829:(t,e,n)=>{n(1739),t.exports=n(7208).global},6610:t=>{t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},498:(t,e,n)=>{var r=n(9632);t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},7208:t=>{var e=t.exports={version:"2.6.12"};"number"==typeof __e&&(__e=e)},1725:(t,e,n)=>{var r=n(6610);t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}}},5179:(t,e,n)=>{t.exports=!n(472)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},8765:(t,e,n)=>{var r=n(9632),i=n(3280).document,o=r(i)&&r(i.createElement);t.exports=function(t){return o?i.createElement(t):{}}},8310:(t,e,n)=>{var r=n(3280),i=n(7208),o=n(1725),s=n(2292),a=n(657),u=function(t,e,n){var c,h,f,l=t&u.F,p=t&u.G,d=t&u.S,v=t&u.P,y=t&u.B,g=t&u.W,m=p?i:i[e]||(i[e]={}),b=m.prototype,w=p?r:d?r[e]:(r[e]||{}).prototype;for(c in p&&(n=e),n)(h=!l&&w&&void 0!==w[c])&&a(m,c)||(f=h?w[c]:n[c],m[c]=p&&"function"!=typeof w[c]?n[c]:y&&h?o(f,r):g&&w[c]==f?function(t){var e=function(e,n,r){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,n)}return new t(e,n,r)}return t.apply(this,arguments)};return e.prototype=t.prototype,e}(f):v&&"function"==typeof f?o(Function.call,f):f,v&&((m.virtual||(m.virtual={}))[c]=f,t&u.R&&b&&!b[c]&&s(b,c,f)))};u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,t.exports=u},472:t=>{t.exports=function(t){try{return!!t()}catch(t){return!0}}},3280:t=>{var e=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=e)},657:t=>{var e={}.hasOwnProperty;t.exports=function(t,n){return e.call(t,n)}},2292:(t,e,n)=>{var r=n(510),i=n(8439);t.exports=n(5179)?function(t,e,n){return r.f(t,e,i(1,n))}:function(t,e,n){return t[e]=n,t}},4457:(t,e,n)=>{t.exports=!n(5179)&&!n(472)((function(){return 7!=Object.defineProperty(n(8765)("div"),"a",{get:function(){return 7}}).a}))},9632:t=>{t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},510:(t,e,n)=>{var r=n(498),i=n(4457),o=n(2737),s=Object.defineProperty;e.f=n(5179)?Object.defineProperty:function(t,e,n){if(r(t),e=o(e,!0),r(n),i)try{return s(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},8439:t=>{t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},2737:(t,e,n)=>{var r=n(9632);t.exports=function(t,e){if(!r(t))return t;var n,i;if(e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;if("function"==typeof(n=t.valueOf)&&!r(i=n.call(t)))return i;if(!e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},1739:(t,e,n)=>{var r=n(8310);r(r.G,{global:n(3280)})},2761:t=>{t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},1525:(t,e,n)=>{var r=n(6688);t.exports=function(t,e){if("number"!=typeof t&&"Number"!=r(t))throw TypeError(e);return+t}},2094:(t,e,n)=>{var r=n(2190)("unscopables"),i=Array.prototype;null==i[r]&&n(4216)(i,r,{}),t.exports=function(t){i[r][t]=!0}},8492:(t,e,n)=>{"use strict";var r=n(2070)(!0);t.exports=function(t,e,n){return e+(n?r(t,e).length:1)}},5824:t=>{t.exports=function(t,e,n,r){if(!(t instanceof e)||void 0!==r&&r in t)throw TypeError(n+": incorrect invocation!");return t}},6365:(t,e,n)=>{var r=n(7334);t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},6257:(t,e,n)=>{"use strict";var r=n(6033),i=n(8615),o=n(6078);t.exports=[].copyWithin||function(t,e){var n=r(this),s=o(n.length),a=i(t,s),u=i(e,s),c=arguments.length>2?arguments[2]:void 0,h=Math.min((void 0===c?s:i(c,s))-u,s-a),f=1;for(u<a&&a<u+h&&(f=-1,u+=h-1,a+=h-1);h-- >0;)u in n?n[a]=n[u]:delete n[a],a+=f,u+=f;return n}},3195:(t,e,n)=>{"use strict";var r=n(6033),i=n(8615),o=n(6078);t.exports=function(t){for(var e=r(this),n=o(e.length),s=arguments.length,a=i(s>1?arguments[1]:void 0,n),u=s>2?arguments[2]:void 0,c=void 0===u?n:i(u,n);c>a;)e[a++]=t;return e}},9021:(t,e,n)=>{var r=n(5703),i=n(6078),o=n(8615);t.exports=function(t){return function(e,n,s){var a,u=r(e),c=i(u.length),h=o(s,c);if(t&&n!=n){for(;c>h;)if((a=u[h++])!=a)return!0}else for(;c>h;h++)if((t||h in u)&&u[h]===n)return t||h||0;return!t&&-1}}},8309:(t,e,n)=>{var r=n(1528),i=n(8467),o=n(6033),s=n(6078),a=n(3531);t.exports=function(t,e){var n=1==t,u=2==t,c=3==t,h=4==t,f=6==t,l=5==t||f,p=e||a;return function(e,a,d){for(var v,y,g=o(e),m=i(g),b=r(a,d,3),w=s(m.length),_=0,I=n?p(e,w):u?p(e,0):void 0;w>_;_++)if((l||_ in m)&&(y=b(v=m[_],_,g),t))if(n)I[_]=y;else if(y)switch(t){case 3:return!0;case 5:return v;case 6:return _;case 2:I.push(v)}else if(h)return!1;return f?-1:c||h?h:I}}},9291:(t,e,n)=>{var r=n(2761),i=n(6033),o=n(8467),s=n(6078);t.exports=function(t,e,n,a,u){r(e);var c=i(t),h=o(c),f=s(c.length),l=u?f-1:0,p=u?-1:1;if(n<2)for(;;){if(l in h){a=h[l],l+=p;break}if(l+=p,u?l<0:f<=l)throw TypeError("Reduce of empty array with no initial value")}for(;u?l>=0:f>l;l+=p)l in h&&(a=e(a,h[l],l,c));return a}},1071:(t,e,n)=>{var r=n(7334),i=n(9141),o=n(2190)("species");t.exports=function(t){var e;return i(t)&&("function"!=typeof(e=t.constructor)||e!==Array&&!i(e.prototype)||(e=void 0),r(e)&&null===(e=e[o])&&(e=void 0)),void 0===e?Array:e}},3531:(t,e,n)=>{var r=n(1071);t.exports=function(t,e){return new(r(t))(e)}},9337:(t,e,n)=>{"use strict";var r=n(2761),i=n(7334),o=n(7757),s=[].slice,a={},u=function(t,e,n){if(!(e in a)){for(var r=[],i=0;i<e;i++)r[i]="a["+i+"]";a[e]=Function("F,a","return new F("+r.join(",")+")")}return a[e](t,n)};t.exports=Function.bind||function(t){var e=r(this),n=s.call(arguments,1),a=function(){var r=n.concat(s.call(arguments));return this instanceof a?u(e,r.length,r):o(e,r,t)};return i(e.prototype)&&(a.prototype=e.prototype),a}},106:(t,e,n)=>{var r=n(6688),i=n(2190)("toStringTag"),o="Arguments"==r(function(){return arguments}());t.exports=function(t){var e,n,s;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),i))?n:o?r(e):"Object"==(s=r(e))&&"function"==typeof e.callee?"Arguments":s}},6688:t=>{var e={}.toString;t.exports=function(t){return e.call(t).slice(8,-1)}},8156:(t,e,n)=>{"use strict";var r=n(8558).f,i=n(2897),o=n(2243),s=n(1528),a=n(5824),u=n(1891),c=n(1195),h=n(5038),f=n(9766),l=n(6628),p=n(998).fastKey,d=n(9060),v=l?"_s":"size",y=function(t,e){var n,r=p(e);if("F"!==r)return t._i[r];for(n=t._f;n;n=n.n)if(n.k==e)return n};t.exports={getConstructor:function(t,e,n,c){var h=t((function(t,r){a(t,h,e,"_i"),t._t=e,t._i=i(null),t._f=void 0,t._l=void 0,t[v]=0,null!=r&&u(r,n,t[c],t)}));return o(h.prototype,{clear:function(){for(var t=d(this,e),n=t._i,r=t._f;r;r=r.n)r.r=!0,r.p&&(r.p=r.p.n=void 0),delete n[r.i];t._f=t._l=void 0,t[v]=0},delete:function(t){var n=d(this,e),r=y(n,t);if(r){var i=r.n,o=r.p;delete n._i[r.i],r.r=!0,o&&(o.n=i),i&&(i.p=o),n._f==r&&(n._f=i),n._l==r&&(n._l=o),n[v]--}return!!r},forEach:function(t){d(this,e);for(var n,r=s(t,arguments.length>1?arguments[1]:void 0,3);n=n?n.n:this._f;)for(r(n.v,n.k,this);n&&n.r;)n=n.p},has:function(t){return!!y(d(this,e),t)}}),l&&r(h.prototype,"size",{get:function(){return d(this,e)[v]}}),h},def:function(t,e,n){var r,i,o=y(t,e);return o?o.v=n:(t._l=o={i:i=p(e,!0),k:e,v:n,p:r=t._l,n:void 0,r:!1},t._f||(t._f=o),r&&(r.n=o),t[v]++,"F"!==i&&(t._i[i]=o)),t},getEntry:y,setStrong:function(t,e,n){c(t,e,(function(t,n){this._t=d(t,e),this._k=n,this._l=void 0}),(function(){for(var t=this,e=t._k,n=t._l;n&&n.r;)n=n.p;return t._t&&(t._l=n=n?n.n:t._t._f)?h(0,"keys"==e?n.k:"values"==e?n.v:[n.k,n.v]):(t._t=void 0,h(1))}),n?"entries":"values",!n,!0),f(e)}}},6339:(t,e,n)=>{"use strict";var r=n(2243),i=n(998).getWeak,o=n(6365),s=n(7334),a=n(5824),u=n(1891),c=n(8309),h=n(4040),f=n(9060),l=c(5),p=c(6),d=0,v=function(t){return t._l||(t._l=new y)},y=function(){this.a=[]},g=function(t,e){return l(t.a,(function(t){return t[0]===e}))};y.prototype={get:function(t){var e=g(this,t);if(e)return e[1]},has:function(t){return!!g(this,t)},set:function(t,e){var n=g(this,t);n?n[1]=e:this.a.push([t,e])},delete:function(t){var e=p(this.a,(function(e){return e[0]===t}));return~e&&this.a.splice(e,1),!!~e}},t.exports={getConstructor:function(t,e,n,o){var c=t((function(t,r){a(t,c,e,"_i"),t._t=e,t._i=d++,t._l=void 0,null!=r&&u(r,n,t[o],t)}));return r(c.prototype,{delete:function(t){if(!s(t))return!1;var n=i(t);return!0===n?v(f(this,e)).delete(t):n&&h(n,this._i)&&delete n[this._i]},has:function(t){if(!s(t))return!1;var n=i(t);return!0===n?v(f(this,e)).has(t):n&&h(n,this._i)}}),c},def:function(t,e,n){var r=i(o(e),!0);return!0===r?v(t).set(e,n):r[t._i]=n,t},ufstore:v}},7611:(t,e,n)=>{"use strict";var r=n(8113),i=n(5772),o=n(7738),s=n(2243),a=n(998),u=n(1891),c=n(5824),h=n(7334),f=n(8625),l=n(3143),p=n(5727),d=n(8938);t.exports=function(t,e,n,v,y,g){var m=r[t],b=m,w=y?"set":"add",_=b&&b.prototype,I={},E=function(t){var e=_[t];o(_,t,"delete"==t||"has"==t?function(t){return!(g&&!h(t))&&e.call(this,0===t?0:t)}:"get"==t?function(t){return g&&!h(t)?void 0:e.call(this,0===t?0:t)}:"add"==t?function(t){return e.call(this,0===t?0:t),this}:function(t,n){return e.call(this,0===t?0:t,n),this})};if("function"==typeof b&&(g||_.forEach&&!f((function(){(new b).entries().next()})))){var T=new b,S=T[w](g?{}:-0,1)!=T,A=f((function(){T.has(1)})),N=l((function(t){new b(t)})),k=!g&&f((function(){for(var t=new b,e=5;e--;)t[w](e,e);return!t.has(-0)}));N||((b=e((function(e,n){c(e,b,t);var r=d(new m,e,b);return null!=n&&u(n,y,r[w],r),r}))).prototype=_,_.constructor=b),(A||k)&&(E("delete"),E("has"),y&&E("get")),(k||S)&&E(w),g&&_.clear&&delete _.clear}else b=v.getConstructor(e,t,y,w),s(b.prototype,n),a.NEED=!0;return p(b,t),I[t]=b,i(i.G+i.W+i.F*(b!=m),I),g||v.setStrong(b,t,y),b}},66:t=>{var e=t.exports={version:"2.6.12"};"number"==typeof __e&&(__e=e)},6644:(t,e,n)=>{"use strict";var r=n(8558),i=n(6061);t.exports=function(t,e,n){e in t?r.f(t,e,i(0,n)):t[e]=n}},1528:(t,e,n)=>{var r=n(2761);t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}}},2626:(t,e,n)=>{"use strict";var r=n(8625),i=Date.prototype.getTime,o=Date.prototype.toISOString,s=function(t){return t>9?t:"0"+t};t.exports=r((function(){return"0385-07-25T07:06:39.999Z"!=o.call(new Date(-50000000000001))}))||!r((function(){o.call(new Date(NaN))}))?function(){if(!isFinite(i.call(this)))throw RangeError("Invalid time value");var t=this,e=t.getUTCFullYear(),n=t.getUTCMilliseconds(),r=e<0?"-":e>9999?"+":"";return r+("00000"+Math.abs(e)).slice(r?-6:-4)+"-"+s(t.getUTCMonth()+1)+"-"+s(t.getUTCDate())+"T"+s(t.getUTCHours())+":"+s(t.getUTCMinutes())+":"+s(t.getUTCSeconds())+"."+(n>99?n:"0"+s(n))+"Z"}:o},9296:(t,e,n)=>{"use strict";var r=n(6365),i=n(1382),o="number";t.exports=function(t){if("string"!==t&&t!==o&&"default"!==t)throw TypeError("Incorrect hint");return i(r(this),t!=o)}},1622:t=>{t.exports=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t}},6628:(t,e,n)=>{t.exports=!n(8625)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},5050:(t,e,n)=>{var r=n(7334),i=n(8113).document,o=r(i)&&r(i.createElement);t.exports=function(t){return o?i.createElement(t):{}}},3603:t=>{t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},7820:(t,e,n)=>{var r=n(2912),i=n(7957),o=n(5873);t.exports=function(t){var e=r(t),n=i.f;if(n)for(var s,a=n(t),u=o.f,c=0;a.length>c;)u.call(t,s=a[c++])&&e.push(s);return e}},5772:(t,e,n)=>{var r=n(8113),i=n(66),o=n(4216),s=n(7738),a=n(1528),u=function(t,e,n){var c,h,f,l,p=t&u.F,d=t&u.G,v=t&u.S,y=t&u.P,g=t&u.B,m=d?r:v?r[e]||(r[e]={}):(r[e]||{}).prototype,b=d?i:i[e]||(i[e]={}),w=b.prototype||(b.prototype={});for(c in d&&(n=e),n)f=((h=!p&&m&&void 0!==m[c])?m:n)[c],l=g&&h?a(f,r):y&&"function"==typeof f?a(Function.call,f):f,m&&s(m,c,f,t&u.U),b[c]!=f&&o(b,c,l),y&&w[c]!=f&&(w[c]=f)};r.core=i,u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,t.exports=u},6570:(t,e,n)=>{var r=n(2190)("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[r]=!1,!"/./"[t](e)}catch(t){}}return!0}},8625:t=>{t.exports=function(t){try{return!!t()}catch(t){return!0}}},8897:(t,e,n)=>{"use strict";n(5846);var r=n(7738),i=n(4216),o=n(8625),s=n(1622),a=n(2190),u=n(3288),c=a("species"),h=!o((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),f=function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2===n.length&&"a"===n[0]&&"b"===n[1]}();t.exports=function(t,e,n){var l=a(t),p=!o((function(){var e={};return e[l]=function(){return 7},7!=""[t](e)})),d=p?!o((function(){var e=!1,n=/a/;return n.exec=function(){return e=!0,null},"split"===t&&(n.constructor={},n.constructor[c]=function(){return n}),n[l](""),!e})):void 0;if(!p||!d||"replace"===t&&!h||"split"===t&&!f){var v=/./[l],y=n(s,l,""[t],(function(t,e,n,r,i){return e.exec===u?p&&!i?{done:!0,value:v.call(e,n,r)}:{done:!0,value:t.call(n,e,r)}:{done:!1}})),g=y[0],m=y[1];r(String.prototype,t,g),i(RegExp.prototype,l,2==e?function(t,e){return m.call(t,this,e)}:function(t){return m.call(t,this)})}}},4859:(t,e,n)=>{"use strict";var r=n(6365);t.exports=function(){var t=r(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},2674:(t,e,n)=>{"use strict";var r=n(9141),i=n(7334),o=n(6078),s=n(1528),a=n(2190)("isConcatSpreadable");t.exports=function t(e,n,u,c,h,f,l,p){for(var d,v,y=h,g=0,m=!!l&&s(l,p,3);g<c;){if(g in u){if(d=m?m(u[g],g,n):u[g],v=!1,i(d)&&(v=void 0!==(v=d[a])?!!v:r(d)),v&&f>0)y=t(e,n,d,o(d.length),y,f-1)-1;else{if(y>=9007199254740991)throw TypeError();e[y]=d}y++}g++}return y}},1891:(t,e,n)=>{var r=n(1528),i=n(3221),o=n(8908),s=n(6365),a=n(6078),u=n(7107),c={},h={},f=t.exports=function(t,e,n,f,l){var p,d,v,y,g=l?function(){return t}:u(t),m=r(n,f,e?2:1),b=0;if("function"!=typeof g)throw TypeError(t+" is not iterable!");if(o(g)){for(p=a(t.length);p>b;b++)if((y=e?m(s(d=t[b])[0],d[1]):m(t[b]))===c||y===h)return y}else for(v=g.call(t);!(d=v.next()).done;)if((y=i(v,m,d.value,e))===c||y===h)return y};f.BREAK=c,f.RETURN=h},646:(t,e,n)=>{t.exports=n(8655)("native-function-to-string",Function.toString)},8113:t=>{var e=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=e)},4040:t=>{var e={}.hasOwnProperty;t.exports=function(t,n){return e.call(t,n)}},4216:(t,e,n)=>{var r=n(8558),i=n(6061);t.exports=n(6628)?function(t,e,n){return r.f(t,e,i(1,n))}:function(t,e,n){return t[e]=n,t}},8954:(t,e,n)=>{var r=n(8113).document;t.exports=r&&r.documentElement},5100:(t,e,n)=>{t.exports=!n(6628)&&!n(8625)((function(){return 7!=Object.defineProperty(n(5050)("div"),"a",{get:function(){return 7}}).a}))},8938:(t,e,n)=>{var r=n(7334),i=n(6095).set;t.exports=function(t,e,n){var o,s=e.constructor;return s!==n&&"function"==typeof s&&(o=s.prototype)!==n.prototype&&r(o)&&i&&i(t,o),t}},7757:t=>{t.exports=function(t,e,n){var r=void 0===n;switch(e.length){case 0:return r?t():t.call(n);case 1:return r?t(e[0]):t.call(n,e[0]);case 2:return r?t(e[0],e[1]):t.call(n,e[0],e[1]);case 3:return r?t(e[0],e[1],e[2]):t.call(n,e[0],e[1],e[2]);case 4:return r?t(e[0],e[1],e[2],e[3]):t.call(n,e[0],e[1],e[2],e[3])}return t.apply(n,e)}},8467:(t,e,n)=>{var r=n(6688);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==r(t)?t.split(""):Object(t)}},8908:(t,e,n)=>{var r=n(3988),i=n(2190)("iterator"),o=Array.prototype;t.exports=function(t){return void 0!==t&&(r.Array===t||o[i]===t)}},9141:(t,e,n)=>{var r=n(6688);t.exports=Array.isArray||function(t){return"Array"==r(t)}},3917:(t,e,n)=>{var r=n(7334),i=Math.floor;t.exports=function(t){return!r(t)&&isFinite(t)&&i(t)===t}},7334:t=>{t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},4587:(t,e,n)=>{var r=n(7334),i=n(6688),o=n(2190)("match");t.exports=function(t){var e;return r(t)&&(void 0!==(e=t[o])?!!e:"RegExp"==i(t))}},3221:(t,e,n)=>{var r=n(6365);t.exports=function(t,e,n,i){try{return i?e(r(n)[0],n[1]):e(n)}catch(e){var o=t.return;throw void 0!==o&&r(o.call(t)),e}}},6445:(t,e,n)=>{"use strict";var r=n(2897),i=n(6061),o=n(5727),s={};n(4216)(s,n(2190)("iterator"),(function(){return this})),t.exports=function(t,e,n){t.prototype=r(s,{next:i(1,n)}),o(t,e+" Iterator")}},1195:(t,e,n)=>{"use strict";var r=n(1422),i=n(5772),o=n(7738),s=n(4216),a=n(3988),u=n(6445),c=n(5727),h=n(9002),f=n(2190)("iterator"),l=!([].keys&&"next"in[].keys()),p="keys",d="values",v=function(){return this};t.exports=function(t,e,n,y,g,m,b){u(n,e,y);var w,_,I,E=function(t){if(!l&&t in N)return N[t];switch(t){case p:case d:return function(){return new n(this,t)}}return function(){return new n(this,t)}},T=e+" Iterator",S=g==d,A=!1,N=t.prototype,k=N[f]||N["@@iterator"]||g&&N[g],x=k||E(g),O=g?S?E("entries"):x:void 0,P="Array"==e&&N.entries||k;if(P&&(I=h(P.call(new t)))!==Object.prototype&&I.next&&(c(I,T,!0),r||"function"==typeof I[f]||s(I,f,v)),S&&k&&k.name!==d&&(A=!0,x=function(){return k.call(this)}),r&&!b||!l&&!A&&N[f]||s(N,f,x),a[e]=x,a[T]=v,g)if(w={values:S?x:E(d),keys:m?x:E(p),entries:O},b)for(_ in w)_ in N||o(N,_,w[_]);else i(i.P+i.F*(l||A),e,w);return w}},3143:(t,e,n)=>{var r=n(2190)("iterator"),i=!1;try{var o=[7][r]();o.return=function(){i=!0},Array.from(o,(function(){throw 2}))}catch(t){}t.exports=function(t,e){if(!e&&!i)return!1;var n=!1;try{var o=[7],s=o[r]();s.next=function(){return{done:n=!0}},o[r]=function(){return s},t(o)}catch(t){}return n}},5038:t=>{t.exports=function(t,e){return{value:e,done:!!t}}},3988:t=>{t.exports={}},1422:t=>{t.exports=!1},9489:t=>{var e=Math.expm1;t.exports=!e||e(10)>22025.465794806718||e(10)<22025.465794806718||-2e-17!=e(-2e-17)?function(t){return 0==(t=+t)?t:t>-1e-6&&t<1e-6?t+t*t/2:Math.exp(t)-1}:e},4519:(t,e,n)=>{var r=n(2697),i=Math.pow,o=i(2,-52),s=i(2,-23),a=i(2,127)*(2-s),u=i(2,-126);t.exports=Math.fround||function(t){var e,n,i=Math.abs(t),c=r(t);return i<u?c*(i/u/s+1/o-1/o)*u*s:(n=(e=(1+s/o)*i)-(e-i))>a||n!=n?c*(1/0):c*n}},922:t=>{t.exports=Math.log1p||function(t){return(t=+t)>-1e-8&&t<1e-8?t-t*t/2:Math.log(1+t)}},2697:t=>{t.exports=Math.sign||function(t){return 0==(t=+t)||t!=t?t:t<0?-1:1}},998:(t,e,n)=>{var r=n(5078)("meta"),i=n(7334),o=n(4040),s=n(8558).f,a=0,u=Object.isExtensible||function(){return!0},c=!n(8625)((function(){return u(Object.preventExtensions({}))})),h=function(t){s(t,r,{value:{i:"O"+ ++a,w:{}}})},f=t.exports={KEY:r,NEED:!1,fastKey:function(t,e){if(!i(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!o(t,r)){if(!u(t))return"F";if(!e)return"E";h(t)}return t[r].i},getWeak:function(t,e){if(!o(t,r)){if(!u(t))return!0;if(!e)return!1;h(t)}return t[r].w},onFreeze:function(t){return c&&f.NEED&&u(t)&&!o(t,r)&&h(t),t}}},3492:(t,e,n)=>{var r=n(8113),i=n(9124).set,o=r.MutationObserver||r.WebKitMutationObserver,s=r.process,a=r.Promise,u="process"==n(6688)(s);t.exports=function(){var t,e,n,c=function(){var r,i;for(u&&(r=s.domain)&&r.exit();t;){i=t.fn,t=t.next;try{i()}catch(r){throw t?n():e=void 0,r}}e=void 0,r&&r.enter()};if(u)n=function(){s.nextTick(c)};else if(!o||r.navigator&&r.navigator.standalone)if(a&&a.resolve){var h=a.resolve(void 0);n=function(){h.then(c)}}else n=function(){i.call(r,c)};else{var f=!0,l=document.createTextNode("");new o(c).observe(l,{characterData:!0}),n=function(){l.data=f=!f}}return function(r){var i={fn:r,next:void 0};e&&(e.next=i),t||(t=i,n()),e=i}}},8577:(t,e,n)=>{"use strict";var r=n(2761);function i(t){var e,n;this.promise=new t((function(t,r){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=r})),this.resolve=r(e),this.reject=r(n)}t.exports.f=function(t){return new i(t)}},7029:(t,e,n)=>{"use strict";var r=n(6628),i=n(2912),o=n(7957),s=n(5873),a=n(6033),u=n(8467),c=Object.assign;t.exports=!c||n(8625)((function(){var t={},e={},n=Symbol(),r="abcdefghijklmnopqrst";return t[n]=7,r.split("").forEach((function(t){e[t]=t})),7!=c({},t)[n]||Object.keys(c({},e)).join("")!=r}))?function(t,e){for(var n=a(t),c=arguments.length,h=1,f=o.f,l=s.f;c>h;)for(var p,d=u(arguments[h++]),v=f?i(d).concat(f(d)):i(d),y=v.length,g=0;y>g;)p=v[g++],r&&!l.call(d,p)||(n[p]=d[p]);return n}:c},2897:(t,e,n)=>{var r=n(6365),i=n(7331),o=n(3603),s=n(8034)("IE_PROTO"),a=function(){},u=function(){var t,e=n(5050)("iframe"),r=o.length;for(e.style.display="none",n(8954).appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),u=t.F;r--;)delete u.prototype[o[r]];return u()};t.exports=Object.create||function(t,e){var n;return null!==t?(a.prototype=r(t),n=new a,a.prototype=null,n[s]=t):n=u(),void 0===e?n:i(n,e)}},8558:(t,e,n)=>{var r=n(6365),i=n(5100),o=n(1382),s=Object.defineProperty;e.f=n(6628)?Object.defineProperty:function(t,e,n){if(r(t),e=o(e,!0),r(n),i)try{return s(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},7331:(t,e,n)=>{var r=n(8558),i=n(6365),o=n(2912);t.exports=n(6628)?Object.defineProperties:function(t,e){i(t);for(var n,s=o(e),a=s.length,u=0;a>u;)r.f(t,n=s[u++],e[n]);return t}},4662:(t,e,n)=>{var r=n(5873),i=n(6061),o=n(5703),s=n(1382),a=n(4040),u=n(5100),c=Object.getOwnPropertyDescriptor;e.f=n(6628)?c:function(t,e){if(t=o(t),e=s(e,!0),u)try{return c(t,e)}catch(t){}if(a(t,e))return i(!r.f.call(t,e),t[e])}},5259:(t,e,n)=>{var r=n(5703),i=n(6604).f,o={}.toString,s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return s&&"[object Window]"==o.call(t)?function(t){try{return i(t)}catch(t){return s.slice()}}(t):i(r(t))}},6604:(t,e,n)=>{var r=n(5547),i=n(3603).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,i)}},7957:(t,e)=>{e.f=Object.getOwnPropertySymbols},9002:(t,e,n)=>{var r=n(4040),i=n(6033),o=n(8034)("IE_PROTO"),s=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=i(t),r(t,o)?t[o]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?s:null}},5547:(t,e,n)=>{var r=n(4040),i=n(5703),o=n(9021)(!1),s=n(8034)("IE_PROTO");t.exports=function(t,e){var n,a=i(t),u=0,c=[];for(n in a)n!=s&&r(a,n)&&c.push(n);for(;e.length>u;)r(a,n=e[u++])&&(~o(c,n)||c.push(n));return c}},2912:(t,e,n)=>{var r=n(5547),i=n(3603);t.exports=Object.keys||function(t){return r(t,i)}},5873:(t,e)=>{e.f={}.propertyIsEnumerable},468:(t,e,n)=>{var r=n(5772),i=n(66),o=n(8625);t.exports=function(t,e){var n=(i.Object||{})[t]||Object[t],s={};s[t]=e(n),r(r.S+r.F*o((function(){n(1)})),"Object",s)}},758:(t,e,n)=>{var r=n(6628),i=n(2912),o=n(5703),s=n(5873).f;t.exports=function(t){return function(e){for(var n,a=o(e),u=i(a),c=u.length,h=0,f=[];c>h;)n=u[h++],r&&!s.call(a,n)||f.push(t?[n,a[n]]:a[n]);return f}}},6831:(t,e,n)=>{var r=n(6604),i=n(7957),o=n(6365),s=n(8113).Reflect;t.exports=s&&s.ownKeys||function(t){var e=r.f(o(t)),n=i.f;return n?e.concat(n(t)):e}},5575:(t,e,n)=>{var r=n(8113).parseFloat,i=n(8487).trim;t.exports=1/r(n(8021)+"-0")!=-1/0?function(t){var e=i(String(t),3),n=r(e);return 0===n&&"-"==e.charAt(0)?-0:n}:r},929:(t,e,n)=>{var r=n(8113).parseInt,i=n(8487).trim,o=n(8021),s=/^[-+]?0[xX]/;t.exports=8!==r(o+"08")||22!==r(o+"0x16")?function(t,e){var n=i(String(t),3);return r(n,e>>>0||(s.test(n)?16:10))}:r},9739:t=>{t.exports=function(t){try{return{e:!1,v:t()}}catch(t){return{e:!0,v:t}}}},5151:(t,e,n)=>{var r=n(6365),i=n(7334),o=n(8577);t.exports=function(t,e){if(r(t),i(e)&&e.constructor===t)return e;var n=o.f(t);return(0,n.resolve)(e),n.promise}},6061:t=>{t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},2243:(t,e,n)=>{var r=n(7738);t.exports=function(t,e,n){for(var i in e)r(t,i,e[i],n);return t}},7738:(t,e,n)=>{var r=n(8113),i=n(4216),o=n(4040),s=n(5078)("src"),a=n(646),u="toString",c=(""+a).split(u);n(66).inspectSource=function(t){return a.call(t)},(t.exports=function(t,e,n,a){var u="function"==typeof n;u&&(o(n,"name")||i(n,"name",e)),t[e]!==n&&(u&&(o(n,s)||i(n,s,t[e]?""+t[e]:c.join(String(e)))),t===r?t[e]=n:a?t[e]?t[e]=n:i(t,e,n):(delete t[e],i(t,e,n)))})(Function.prototype,u,(function(){return"function"==typeof this&&this[s]||a.call(this)}))},2404:(t,e,n)=>{"use strict";var r=n(106),i=RegExp.prototype.exec;t.exports=function(t,e){var n=t.exec;if("function"==typeof n){var o=n.call(t,e);if("object"!=typeof o)throw new TypeError("RegExp exec method returned something other than an Object or null");return o}if("RegExp"!==r(t))throw new TypeError("RegExp#exec called on incompatible receiver");return i.call(t,e)}},3288:(t,e,n)=>{"use strict";var r,i,o=n(4859),s=RegExp.prototype.exec,a=String.prototype.replace,u=s,c=(r=/a/,i=/b*/g,s.call(r,"a"),s.call(i,"a"),0!==r.lastIndex||0!==i.lastIndex),h=void 0!==/()??/.exec("")[1];(c||h)&&(u=function(t){var e,n,r,i,u=this;return h&&(n=new RegExp("^"+u.source+"$(?!\\s)",o.call(u))),c&&(e=u.lastIndex),r=s.call(u,t),c&&r&&(u.lastIndex=u.global?r.index+r[0].length:e),h&&r&&r.length>1&&a.call(r[0],n,(function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(r[i]=void 0)})),r}),t.exports=u},339:t=>{t.exports=Object.is||function(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}},6095:(t,e,n)=>{var r=n(7334),i=n(6365),o=function(t,e){if(i(t),!r(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,r){try{(r=n(1528)(Function.call,n(4662).f(Object.prototype,"__proto__").set,2))(t,[]),e=!(t instanceof Array)}catch(t){e=!0}return function(t,n){return o(t,n),e?t.__proto__=n:r(t,n),t}}({},!1):void 0),check:o}},9766:(t,e,n)=>{"use strict";var r=n(8113),i=n(8558),o=n(6628),s=n(2190)("species");t.exports=function(t){var e=r[t];o&&e&&!e[s]&&i.f(e,s,{configurable:!0,get:function(){return this}})}},5727:(t,e,n)=>{var r=n(8558).f,i=n(4040),o=n(2190)("toStringTag");t.exports=function(t,e,n){t&&!i(t=n?t:t.prototype,o)&&r(t,o,{configurable:!0,value:e})}},8034:(t,e,n)=>{var r=n(8655)("keys"),i=n(5078);t.exports=function(t){return r[t]||(r[t]=i(t))}},8655:(t,e,n)=>{var r=n(66),i=n(8113),o="__core-js_shared__",s=i[o]||(i[o]={});(t.exports=function(t,e){return s[t]||(s[t]=void 0!==e?e:{})})("versions",[]).push({version:r.version,mode:n(1422)?"pure":"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})},1987:(t,e,n)=>{var r=n(6365),i=n(2761),o=n(2190)("species");t.exports=function(t,e){var n,s=r(t).constructor;return void 0===s||null==(n=r(s)[o])?e:i(n)}},225:(t,e,n)=>{"use strict";var r=n(8625);t.exports=function(t,e){return!!t&&r((function(){e?t.call(null,(function(){}),1):t.call(null)}))}},2070:(t,e,n)=>{var r=n(3338),i=n(1622);t.exports=function(t){return function(e,n){var o,s,a=String(i(e)),u=r(n),c=a.length;return u<0||u>=c?t?"":void 0:(o=a.charCodeAt(u))<55296||o>56319||u+1===c||(s=a.charCodeAt(u+1))<56320||s>57343?t?a.charAt(u):o:t?a.slice(u,u+2):s-56320+(o-55296<<10)+65536}}},465:(t,e,n)=>{var r=n(4587),i=n(1622);t.exports=function(t,e,n){if(r(e))throw TypeError("String#"+n+" doesn't accept regex!");return String(i(t))}},5776:(t,e,n)=>{var r=n(5772),i=n(8625),o=n(1622),s=/"/g,a=function(t,e,n,r){var i=String(o(t)),a="<"+e;return""!==n&&(a+=" "+n+'="'+String(r).replace(s,"&quot;")+'"'),a+">"+i+"</"+e+">"};t.exports=function(t,e){var n={};n[t]=e(a),r(r.P+r.F*i((function(){var e=""[t]('"');return e!==e.toLowerCase()||e.split('"').length>3})),"String",n)}},6283:(t,e,n)=>{var r=n(6078),i=n(7160),o=n(1622);t.exports=function(t,e,n,s){var a=String(o(t)),u=a.length,c=void 0===n?" ":String(n),h=r(e);if(h<=u||""==c)return a;var f=h-u,l=i.call(c,Math.ceil(f/c.length));return l.length>f&&(l=l.slice(0,f)),s?l+a:a+l}},7160:(t,e,n)=>{"use strict";var r=n(3338),i=n(1622);t.exports=function(t){var e=String(i(this)),n="",o=r(t);if(o<0||o==1/0)throw RangeError("Count can't be negative");for(;o>0;(o>>>=1)&&(e+=e))1&o&&(n+=e);return n}},8487:(t,e,n)=>{var r=n(5772),i=n(1622),o=n(8625),s=n(8021),a="["+s+"]",u=RegExp("^"+a+a+"*"),c=RegExp(a+a+"*$"),h=function(t,e,n){var i={},a=o((function(){return!!s[t]()||"​"!="​"[t]()})),u=i[t]=a?e(f):s[t];n&&(i[n]=u),r(r.P+r.F*a,"String",i)},f=h.trim=function(t,e){return t=String(i(t)),1&e&&(t=t.replace(u,"")),2&e&&(t=t.replace(c,"")),t};t.exports=h},8021:t=>{t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},9124:(t,e,n)=>{var r,i,o,s=n(1528),a=n(7757),u=n(8954),c=n(5050),h=n(8113),f=h.process,l=h.setImmediate,p=h.clearImmediate,d=h.MessageChannel,v=h.Dispatch,y=0,g={},m=function(){var t=+this;if(g.hasOwnProperty(t)){var e=g[t];delete g[t],e()}},b=function(t){m.call(t.data)};l&&p||(l=function(t){for(var e=[],n=1;arguments.length>n;)e.push(arguments[n++]);return g[++y]=function(){a("function"==typeof t?t:Function(t),e)},r(y),y},p=function(t){delete g[t]},"process"==n(6688)(f)?r=function(t){f.nextTick(s(m,t,1))}:v&&v.now?r=function(t){v.now(s(m,t,1))}:d?(o=(i=new d).port2,i.port1.onmessage=b,r=s(o.postMessage,o,1)):h.addEventListener&&"function"==typeof postMessage&&!h.importScripts?(r=function(t){h.postMessage(t+"","*")},h.addEventListener("message",b,!1)):r="onreadystatechange"in c("script")?function(t){u.appendChild(c("script")).onreadystatechange=function(){u.removeChild(this),m.call(t)}}:function(t){setTimeout(s(m,t,1),0)}),t.exports={set:l,clear:p}},8615:(t,e,n)=>{var r=n(3338),i=Math.max,o=Math.min;t.exports=function(t,e){return(t=r(t))<0?i(t+e,0):o(t,e)}},1982:(t,e,n)=>{var r=n(3338),i=n(6078);t.exports=function(t){if(void 0===t)return 0;var e=r(t),n=i(e);if(e!==n)throw RangeError("Wrong length!");return n}},3338:t=>{var e=Math.ceil,n=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?n:e)(t)}},5703:(t,e,n)=>{var r=n(8467),i=n(1622);t.exports=function(t){return r(i(t))}},6078:(t,e,n)=>{var r=n(3338),i=Math.min;t.exports=function(t){return t>0?i(r(t),9007199254740991):0}},6033:(t,e,n)=>{var r=n(1622);t.exports=function(t){return Object(r(t))}},1382:(t,e,n)=>{var r=n(7334);t.exports=function(t,e){if(!r(t))return t;var n,i;if(e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;if("function"==typeof(n=t.valueOf)&&!r(i=n.call(t)))return i;if(!e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},7978:(t,e,n)=>{"use strict";if(n(6628)){var r=n(1422),i=n(8113),o=n(8625),s=n(5772),a=n(5949),u=n(4972),c=n(1528),h=n(5824),f=n(6061),l=n(4216),p=n(2243),d=n(3338),v=n(6078),y=n(1982),g=n(8615),m=n(1382),b=n(4040),w=n(106),_=n(7334),I=n(6033),E=n(8908),T=n(2897),S=n(9002),A=n(6604).f,N=n(7107),k=n(5078),x=n(2190),O=n(8309),P=n(9021),R=n(1987),D=n(7680),C=n(3988),L=n(3143),M=n(9766),j=n(3195),U=n(6257),F=n(8558),V=n(4662),q=F.f,B=V.f,G=i.RangeError,z=i.TypeError,H=i.Uint8Array,K="ArrayBuffer",W="SharedArrayBuffer",X="BYTES_PER_ELEMENT",$=Array.prototype,Y=u.ArrayBuffer,Q=u.DataView,J=O(0),Z=O(2),tt=O(3),et=O(4),nt=O(5),rt=O(6),it=P(!0),ot=P(!1),st=D.values,at=D.keys,ut=D.entries,ct=$.lastIndexOf,ht=$.reduce,ft=$.reduceRight,lt=$.join,pt=$.sort,dt=$.slice,vt=$.toString,yt=$.toLocaleString,gt=x("iterator"),mt=x("toStringTag"),bt=k("typed_constructor"),wt=k("def_constructor"),_t=a.CONSTR,It=a.TYPED,Et=a.VIEW,Tt="Wrong length!",St=O(1,(function(t,e){return Ot(R(t,t[wt]),e)})),At=o((function(){return 1===new H(new Uint16Array([1]).buffer)[0]})),Nt=!!H&&!!H.prototype.set&&o((function(){new H(1).set({})})),kt=function(t,e){var n=d(t);if(n<0||n%e)throw G("Wrong offset!");return n},xt=function(t){if(_(t)&&It in t)return t;throw z(t+" is not a typed array!")},Ot=function(t,e){if(!_(t)||!(bt in t))throw z("It is not a typed array constructor!");return new t(e)},Pt=function(t,e){return Rt(R(t,t[wt]),e)},Rt=function(t,e){for(var n=0,r=e.length,i=Ot(t,r);r>n;)i[n]=e[n++];return i},Dt=function(t,e,n){q(t,e,{get:function(){return this._d[n]}})},Ct=function(t){var e,n,r,i,o,s,a=I(t),u=arguments.length,h=u>1?arguments[1]:void 0,f=void 0!==h,l=N(a);if(null!=l&&!E(l)){for(s=l.call(a),r=[],e=0;!(o=s.next()).done;e++)r.push(o.value);a=r}for(f&&u>2&&(h=c(h,arguments[2],2)),e=0,n=v(a.length),i=Ot(this,n);n>e;e++)i[e]=f?h(a[e],e):a[e];return i},Lt=function(){for(var t=0,e=arguments.length,n=Ot(this,e);e>t;)n[t]=arguments[t++];return n},Mt=!!H&&o((function(){yt.call(new H(1))})),jt=function(){return yt.apply(Mt?dt.call(xt(this)):xt(this),arguments)},Ut={copyWithin:function(t,e){return U.call(xt(this),t,e,arguments.length>2?arguments[2]:void 0)},every:function(t){return et(xt(this),t,arguments.length>1?arguments[1]:void 0)},fill:function(t){return j.apply(xt(this),arguments)},filter:function(t){return Pt(this,Z(xt(this),t,arguments.length>1?arguments[1]:void 0))},find:function(t){return nt(xt(this),t,arguments.length>1?arguments[1]:void 0)},findIndex:function(t){return rt(xt(this),t,arguments.length>1?arguments[1]:void 0)},forEach:function(t){J(xt(this),t,arguments.length>1?arguments[1]:void 0)},indexOf:function(t){return ot(xt(this),t,arguments.length>1?arguments[1]:void 0)},includes:function(t){return it(xt(this),t,arguments.length>1?arguments[1]:void 0)},join:function(t){return lt.apply(xt(this),arguments)},lastIndexOf:function(t){return ct.apply(xt(this),arguments)},map:function(t){return St(xt(this),t,arguments.length>1?arguments[1]:void 0)},reduce:function(t){return ht.apply(xt(this),arguments)},reduceRight:function(t){return ft.apply(xt(this),arguments)},reverse:function(){for(var t,e=this,n=xt(e).length,r=Math.floor(n/2),i=0;i<r;)t=e[i],e[i++]=e[--n],e[n]=t;return e},some:function(t){return tt(xt(this),t,arguments.length>1?arguments[1]:void 0)},sort:function(t){return pt.call(xt(this),t)},subarray:function(t,e){var n=xt(this),r=n.length,i=g(t,r);return new(R(n,n[wt]))(n.buffer,n.byteOffset+i*n.BYTES_PER_ELEMENT,v((void 0===e?r:g(e,r))-i))}},Ft=function(t,e){return Pt(this,dt.call(xt(this),t,e))},Vt=function(t){xt(this);var e=kt(arguments[1],1),n=this.length,r=I(t),i=v(r.length),o=0;if(i+e>n)throw G(Tt);for(;o<i;)this[e+o]=r[o++]},qt={entries:function(){return ut.call(xt(this))},keys:function(){return at.call(xt(this))},values:function(){return st.call(xt(this))}},Bt=function(t,e){return _(t)&&t[It]&&"symbol"!=typeof e&&e in t&&String(+e)==String(e)},Gt=function(t,e){return Bt(t,e=m(e,!0))?f(2,t[e]):B(t,e)},zt=function(t,e,n){return!(Bt(t,e=m(e,!0))&&_(n)&&b(n,"value"))||b(n,"get")||b(n,"set")||n.configurable||b(n,"writable")&&!n.writable||b(n,"enumerable")&&!n.enumerable?q(t,e,n):(t[e]=n.value,t)};_t||(V.f=Gt,F.f=zt),s(s.S+s.F*!_t,"Object",{getOwnPropertyDescriptor:Gt,defineProperty:zt}),o((function(){vt.call({})}))&&(vt=yt=function(){return lt.call(this)});var Ht=p({},Ut);p(Ht,qt),l(Ht,gt,qt.values),p(Ht,{slice:Ft,set:Vt,constructor:function(){},toString:vt,toLocaleString:jt}),Dt(Ht,"buffer","b"),Dt(Ht,"byteOffset","o"),Dt(Ht,"byteLength","l"),Dt(Ht,"length","e"),q(Ht,mt,{get:function(){return this[It]}}),t.exports=function(t,e,n,u){var c=t+((u=!!u)?"Clamped":"")+"Array",f="get"+t,p="set"+t,d=i[c],g=d||{},m=d&&S(d),b=!d||!a.ABV,I={},E=d&&d.prototype,N=function(t,n){q(t,n,{get:function(){return function(t,n){var r=t._d;return r.v[f](n*e+r.o,At)}(this,n)},set:function(t){return function(t,n,r){var i=t._d;u&&(r=(r=Math.round(r))<0?0:r>255?255:255&r),i.v[p](n*e+i.o,r,At)}(this,n,t)},enumerable:!0})};b?(d=n((function(t,n,r,i){h(t,d,c,"_d");var o,s,a,u,f=0,p=0;if(_(n)){if(!(n instanceof Y||(u=w(n))==K||u==W))return It in n?Rt(d,n):Ct.call(d,n);o=n,p=kt(r,e);var g=n.byteLength;if(void 0===i){if(g%e)throw G(Tt);if((s=g-p)<0)throw G(Tt)}else if((s=v(i)*e)+p>g)throw G(Tt);a=s/e}else a=y(n),o=new Y(s=a*e);for(l(t,"_d",{b:o,o:p,l:s,e:a,v:new Q(o)});f<a;)N(t,f++)})),E=d.prototype=T(Ht),l(E,"constructor",d)):o((function(){d(1)}))&&o((function(){new d(-1)}))&&L((function(t){new d,new d(null),new d(1.5),new d(t)}),!0)||(d=n((function(t,n,r,i){var o;return h(t,d,c),_(n)?n instanceof Y||(o=w(n))==K||o==W?void 0!==i?new g(n,kt(r,e),i):void 0!==r?new g(n,kt(r,e)):new g(n):It in n?Rt(d,n):Ct.call(d,n):new g(y(n))})),J(m!==Function.prototype?A(g).concat(A(m)):A(g),(function(t){t in d||l(d,t,g[t])})),d.prototype=E,r||(E.constructor=d));var k=E[gt],x=!!k&&("values"==k.name||null==k.name),O=qt.values;l(d,bt,!0),l(E,It,c),l(E,Et,!0),l(E,wt,d),(u?new d(1)[mt]==c:mt in E)||q(E,mt,{get:function(){return c}}),I[c]=d,s(s.G+s.W+s.F*(d!=g),I),s(s.S,c,{BYTES_PER_ELEMENT:e}),s(s.S+s.F*o((function(){g.of.call(d,1)})),c,{from:Ct,of:Lt}),X in E||l(E,X,e),s(s.P,c,Ut),M(c),s(s.P+s.F*Nt,c,{set:Vt}),s(s.P+s.F*!x,c,qt),r||E.toString==vt||(E.toString=vt),s(s.P+s.F*o((function(){new d(1).slice()})),c,{slice:Ft}),s(s.P+s.F*(o((function(){return[1,2].toLocaleString()!=new d([1,2]).toLocaleString()}))||!o((function(){E.toLocaleString.call([1,2])}))),c,{toLocaleString:jt}),C[c]=x?k:O,r||x||l(E,gt,O)}}else t.exports=function(){}},4972:(t,e,n)=>{"use strict";var r=n(8113),i=n(6628),o=n(1422),s=n(5949),a=n(4216),u=n(2243),c=n(8625),h=n(5824),f=n(3338),l=n(6078),p=n(1982),d=n(6604).f,v=n(8558).f,y=n(3195),g=n(5727),m="ArrayBuffer",b="DataView",w="Wrong index!",_=r.ArrayBuffer,I=r.DataView,E=r.Math,T=r.RangeError,S=r.Infinity,A=_,N=E.abs,k=E.pow,x=E.floor,O=E.log,P=E.LN2,R="buffer",D="byteLength",C="byteOffset",L=i?"_b":R,M=i?"_l":D,j=i?"_o":C;function U(t,e,n){var r,i,o,s=new Array(n),a=8*n-e-1,u=(1<<a)-1,c=u>>1,h=23===e?k(2,-24)-k(2,-77):0,f=0,l=t<0||0===t&&1/t<0?1:0;for((t=N(t))!=t||t===S?(i=t!=t?1:0,r=u):(r=x(O(t)/P),t*(o=k(2,-r))<1&&(r--,o*=2),(t+=r+c>=1?h/o:h*k(2,1-c))*o>=2&&(r++,o/=2),r+c>=u?(i=0,r=u):r+c>=1?(i=(t*o-1)*k(2,e),r+=c):(i=t*k(2,c-1)*k(2,e),r=0));e>=8;s[f++]=255&i,i/=256,e-=8);for(r=r<<e|i,a+=e;a>0;s[f++]=255&r,r/=256,a-=8);return s[--f]|=128*l,s}function F(t,e,n){var r,i=8*n-e-1,o=(1<<i)-1,s=o>>1,a=i-7,u=n-1,c=t[u--],h=127&c;for(c>>=7;a>0;h=256*h+t[u],u--,a-=8);for(r=h&(1<<-a)-1,h>>=-a,a+=e;a>0;r=256*r+t[u],u--,a-=8);if(0===h)h=1-s;else{if(h===o)return r?NaN:c?-S:S;r+=k(2,e),h-=s}return(c?-1:1)*r*k(2,h-e)}function V(t){return t[3]<<24|t[2]<<16|t[1]<<8|t[0]}function q(t){return[255&t]}function B(t){return[255&t,t>>8&255]}function G(t){return[255&t,t>>8&255,t>>16&255,t>>24&255]}function z(t){return U(t,52,8)}function H(t){return U(t,23,4)}function K(t,e,n){v(t.prototype,e,{get:function(){return this[n]}})}function W(t,e,n,r){var i=p(+n);if(i+e>t[M])throw T(w);var o=t[L]._b,s=i+t[j],a=o.slice(s,s+e);return r?a:a.reverse()}function X(t,e,n,r,i,o){var s=p(+n);if(s+e>t[M])throw T(w);for(var a=t[L]._b,u=s+t[j],c=r(+i),h=0;h<e;h++)a[u+h]=c[o?h:e-h-1]}if(s.ABV){if(!c((function(){_(1)}))||!c((function(){new _(-1)}))||c((function(){return new _,new _(1.5),new _(NaN),_.name!=m}))){for(var $,Y=(_=function(t){return h(this,_),new A(p(t))}).prototype=A.prototype,Q=d(A),J=0;Q.length>J;)($=Q[J++])in _||a(_,$,A[$]);o||(Y.constructor=_)}var Z=new I(new _(2)),tt=I.prototype.setInt8;Z.setInt8(0,2147483648),Z.setInt8(1,2147483649),!Z.getInt8(0)&&Z.getInt8(1)||u(I.prototype,{setInt8:function(t,e){tt.call(this,t,e<<24>>24)},setUint8:function(t,e){tt.call(this,t,e<<24>>24)}},!0)}else _=function(t){h(this,_,m);var e=p(t);this._b=y.call(new Array(e),0),this[M]=e},I=function(t,e,n){h(this,I,b),h(t,_,b);var r=t[M],i=f(e);if(i<0||i>r)throw T("Wrong offset!");if(i+(n=void 0===n?r-i:l(n))>r)throw T("Wrong length!");this[L]=t,this[j]=i,this[M]=n},i&&(K(_,D,"_l"),K(I,R,"_b"),K(I,D,"_l"),K(I,C,"_o")),u(I.prototype,{getInt8:function(t){return W(this,1,t)[0]<<24>>24},getUint8:function(t){return W(this,1,t)[0]},getInt16:function(t){var e=W(this,2,t,arguments[1]);return(e[1]<<8|e[0])<<16>>16},getUint16:function(t){var e=W(this,2,t,arguments[1]);return e[1]<<8|e[0]},getInt32:function(t){return V(W(this,4,t,arguments[1]))},getUint32:function(t){return V(W(this,4,t,arguments[1]))>>>0},getFloat32:function(t){return F(W(this,4,t,arguments[1]),23,4)},getFloat64:function(t){return F(W(this,8,t,arguments[1]),52,8)},setInt8:function(t,e){X(this,1,t,q,e)},setUint8:function(t,e){X(this,1,t,q,e)},setInt16:function(t,e){X(this,2,t,B,e,arguments[2])},setUint16:function(t,e){X(this,2,t,B,e,arguments[2])},setInt32:function(t,e){X(this,4,t,G,e,arguments[2])},setUint32:function(t,e){X(this,4,t,G,e,arguments[2])},setFloat32:function(t,e){X(this,4,t,H,e,arguments[2])},setFloat64:function(t,e){X(this,8,t,z,e,arguments[2])}});g(_,m),g(I,b),a(I.prototype,s.VIEW,!0),e.ArrayBuffer=_,e.DataView=I},5949:(t,e,n)=>{for(var r,i=n(8113),o=n(4216),s=n(5078),a=s("typed_array"),u=s("view"),c=!(!i.ArrayBuffer||!i.DataView),h=c,f=0,l="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");f<9;)(r=i[l[f++]])?(o(r.prototype,a,!0),o(r.prototype,u,!0)):h=!1;t.exports={ABV:c,CONSTR:h,TYPED:a,VIEW:u}},5078:t=>{var e=0,n=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++e+n).toString(36))}},5822:(t,e,n)=>{var r=n(8113).navigator;t.exports=r&&r.userAgent||""},9060:(t,e,n)=>{var r=n(7334);t.exports=function(t,e){if(!r(t)||t._t!==e)throw TypeError("Incompatible receiver, "+e+" required!");return t}},5660:(t,e,n)=>{var r=n(8113),i=n(66),o=n(1422),s=n(9669),a=n(8558).f;t.exports=function(t){var e=i.Symbol||(i.Symbol=o?{}:r.Symbol||{});"_"==t.charAt(0)||t in e||a(e,t,{value:s.f(t)})}},9669:(t,e,n)=>{e.f=n(2190)},2190:(t,e,n)=>{var r=n(8655)("wks"),i=n(5078),o=n(8113).Symbol,s="function"==typeof o;(t.exports=function(t){return r[t]||(r[t]=s&&o[t]||(s?o:i)("Symbol."+t))}).store=r},7107:(t,e,n)=>{var r=n(106),i=n(2190)("iterator"),o=n(3988);t.exports=n(66).getIteratorMethod=function(t){if(null!=t)return t[i]||t["@@iterator"]||o[r(t)]}},1601:(t,e,n)=>{var r=n(5772);r(r.P,"Array",{copyWithin:n(6257)}),n(2094)("copyWithin")},46:(t,e,n)=>{"use strict";var r=n(5772),i=n(8309)(4);r(r.P+r.F*!n(225)([].every,!0),"Array",{every:function(t){return i(this,t,arguments[1])}})},453:(t,e,n)=>{var r=n(5772);r(r.P,"Array",{fill:n(3195)}),n(2094)("fill")},4434:(t,e,n)=>{"use strict";var r=n(5772),i=n(8309)(2);r(r.P+r.F*!n(225)([].filter,!0),"Array",{filter:function(t){return i(this,t,arguments[1])}})},8703:(t,e,n)=>{"use strict";var r=n(5772),i=n(8309)(6),o="findIndex",s=!0;o in[]&&Array(1)[o]((function(){s=!1})),r(r.P+r.F*s,"Array",{findIndex:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),n(2094)(o)},1954:(t,e,n)=>{"use strict";var r=n(5772),i=n(8309)(5),o="find",s=!0;o in[]&&Array(1).find((function(){s=!1})),r(r.P+r.F*s,"Array",{find:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),n(2094)(o)},7772:(t,e,n)=>{"use strict";var r=n(5772),i=n(8309)(0),o=n(225)([].forEach,!0);r(r.P+r.F*!o,"Array",{forEach:function(t){return i(this,t,arguments[1])}})},9606:(t,e,n)=>{"use strict";var r=n(1528),i=n(5772),o=n(6033),s=n(3221),a=n(8908),u=n(6078),c=n(6644),h=n(7107);i(i.S+i.F*!n(3143)((function(t){Array.from(t)})),"Array",{from:function(t){var e,n,i,f,l=o(t),p="function"==typeof this?this:Array,d=arguments.length,v=d>1?arguments[1]:void 0,y=void 0!==v,g=0,m=h(l);if(y&&(v=r(v,d>2?arguments[2]:void 0,2)),null==m||p==Array&&a(m))for(n=new p(e=u(l.length));e>g;g++)c(n,g,y?v(l[g],g):l[g]);else for(f=m.call(l),n=new p;!(i=f.next()).done;g++)c(n,g,y?s(f,v,[i.value,g],!0):i.value);return n.length=g,n}})},5155:(t,e,n)=>{"use strict";var r=n(5772),i=n(9021)(!1),o=[].indexOf,s=!!o&&1/[1].indexOf(1,-0)<0;r(r.P+r.F*(s||!n(225)(o)),"Array",{indexOf:function(t){return s?o.apply(this,arguments)||0:i(this,t,arguments[1])}})},5867:(t,e,n)=>{var r=n(5772);r(r.S,"Array",{isArray:n(9141)})},7680:(t,e,n)=>{"use strict";var r=n(2094),i=n(5038),o=n(3988),s=n(5703);t.exports=n(1195)(Array,"Array",(function(t,e){this._t=s(t),this._i=0,this._k=e}),(function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,i(1)):i(0,"keys"==e?n:"values"==e?t[n]:[n,t[n]])}),"values"),o.Arguments=o.Array,r("keys"),r("values"),r("entries")},8466:(t,e,n)=>{"use strict";var r=n(5772),i=n(5703),o=[].join;r(r.P+r.F*(n(8467)!=Object||!n(225)(o)),"Array",{join:function(t){return o.call(i(this),void 0===t?",":t)}})},3133:(t,e,n)=>{"use strict";var r=n(5772),i=n(5703),o=n(3338),s=n(6078),a=[].lastIndexOf,u=!!a&&1/[1].lastIndexOf(1,-0)<0;r(r.P+r.F*(u||!n(225)(a)),"Array",{lastIndexOf:function(t){if(u)return a.apply(this,arguments)||0;var e=i(this),n=s(e.length),r=n-1;for(arguments.length>1&&(r=Math.min(r,o(arguments[1]))),r<0&&(r=n+r);r>=0;r--)if(r in e&&e[r]===t)return r||0;return-1}})},286:(t,e,n)=>{"use strict";var r=n(5772),i=n(8309)(1);r(r.P+r.F*!n(225)([].map,!0),"Array",{map:function(t){return i(this,t,arguments[1])}})},9174:(t,e,n)=>{"use strict";var r=n(5772),i=n(6644);r(r.S+r.F*n(8625)((function(){function t(){}return!(Array.of.call(t)instanceof t)})),"Array",{of:function(){for(var t=0,e=arguments.length,n=new("function"==typeof this?this:Array)(e);e>t;)i(n,t,arguments[t++]);return n.length=e,n}})},8312:(t,e,n)=>{"use strict";var r=n(5772),i=n(9291);r(r.P+r.F*!n(225)([].reduceRight,!0),"Array",{reduceRight:function(t){return i(this,t,arguments.length,arguments[1],!0)}})},9399:(t,e,n)=>{"use strict";var r=n(5772),i=n(9291);r(r.P+r.F*!n(225)([].reduce,!0),"Array",{reduce:function(t){return i(this,t,arguments.length,arguments[1],!1)}})},7209:(t,e,n)=>{"use strict";var r=n(5772),i=n(8954),o=n(6688),s=n(8615),a=n(6078),u=[].slice;r(r.P+r.F*n(8625)((function(){i&&u.call(i)})),"Array",{slice:function(t,e){var n=a(this.length),r=o(this);if(e=void 0===e?n:e,"Array"==r)return u.call(this,t,e);for(var i=s(t,n),c=s(e,n),h=a(c-i),f=new Array(h),l=0;l<h;l++)f[l]="String"==r?this.charAt(i+l):this[i+l];return f}})},3231:(t,e,n)=>{"use strict";var r=n(5772),i=n(8309)(3);r(r.P+r.F*!n(225)([].some,!0),"Array",{some:function(t){return i(this,t,arguments[1])}})},1796:(t,e,n)=>{"use strict";var r=n(5772),i=n(2761),o=n(6033),s=n(8625),a=[].sort,u=[1,2,3];r(r.P+r.F*(s((function(){u.sort(void 0)}))||!s((function(){u.sort(null)}))||!n(225)(a)),"Array",{sort:function(t){return void 0===t?a.call(o(this)):a.call(o(this),i(t))}})},652:(t,e,n)=>{n(9766)("Array")},817:(t,e,n)=>{var r=n(5772);r(r.S,"Date",{now:function(){return(new Date).getTime()}})},5079:(t,e,n)=>{var r=n(5772),i=n(2626);r(r.P+r.F*(Date.prototype.toISOString!==i),"Date",{toISOString:i})},5337:(t,e,n)=>{"use strict";var r=n(5772),i=n(6033),o=n(1382);r(r.P+r.F*n(8625)((function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})})),"Date",{toJSON:function(t){var e=i(this),n=o(e);return"number"!=typeof n||isFinite(n)?e.toISOString():null}})},4163:(t,e,n)=>{var r=n(2190)("toPrimitive"),i=Date.prototype;r in i||n(4216)(i,r,n(9296))},5105:(t,e,n)=>{var r=Date.prototype,i="Invalid Date",o=r.toString,s=r.getTime;new Date(NaN)+""!=i&&n(7738)(r,"toString",(function(){var t=s.call(this);return t==t?o.call(this):i}))},8629:(t,e,n)=>{var r=n(5772);r(r.P,"Function",{bind:n(9337)})},5694:(t,e,n)=>{"use strict";var r=n(7334),i=n(9002),o=n(2190)("hasInstance"),s=Function.prototype;o in s||n(8558).f(s,o,{value:function(t){if("function"!=typeof this||!r(t))return!1;if(!r(this.prototype))return t instanceof this;for(;t=i(t);)if(this.prototype===t)return!0;return!1}})},9745:(t,e,n)=>{var r=n(8558).f,i=Function.prototype,o=/^\s*function ([^ (]*)/,s="name";s in i||n(6628)&&r(i,s,{configurable:!0,get:function(){try{return(""+this).match(o)[1]}catch(t){return""}}})},1239:(t,e,n)=>{"use strict";var r=n(8156),i=n(9060),o="Map";t.exports=n(7611)(o,(function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}}),{get:function(t){var e=r.getEntry(i(this,o),t);return e&&e.v},set:function(t,e){return r.def(i(this,o),0===t?0:t,e)}},r,!0)},5886:(t,e,n)=>{var r=n(5772),i=n(922),o=Math.sqrt,s=Math.acosh;r(r.S+r.F*!(s&&710==Math.floor(s(Number.MAX_VALUE))&&s(1/0)==1/0),"Math",{acosh:function(t){return(t=+t)<1?NaN:t>94906265.62425156?Math.log(t)+Math.LN2:i(t-1+o(t-1)*o(t+1))}})},91:(t,e,n)=>{var r=n(5772),i=Math.asinh;r(r.S+r.F*!(i&&1/i(0)>0),"Math",{asinh:function t(e){return isFinite(e=+e)&&0!=e?e<0?-t(-e):Math.log(e+Math.sqrt(e*e+1)):e}})},6799:(t,e,n)=>{var r=n(5772),i=Math.atanh;r(r.S+r.F*!(i&&1/i(-0)<0),"Math",{atanh:function(t){return 0==(t=+t)?t:Math.log((1+t)/(1-t))/2}})},1570:(t,e,n)=>{var r=n(5772),i=n(2697);r(r.S,"Math",{cbrt:function(t){return i(t=+t)*Math.pow(Math.abs(t),1/3)}})},6006:(t,e,n)=>{var r=n(5772);r(r.S,"Math",{clz32:function(t){return(t>>>=0)?31-Math.floor(Math.log(t+.5)*Math.LOG2E):32}})},8377:(t,e,n)=>{var r=n(5772),i=Math.exp;r(r.S,"Math",{cosh:function(t){return(i(t=+t)+i(-t))/2}})},108:(t,e,n)=>{var r=n(5772),i=n(9489);r(r.S+r.F*(i!=Math.expm1),"Math",{expm1:i})},905:(t,e,n)=>{var r=n(5772);r(r.S,"Math",{fround:n(4519)})},8103:(t,e,n)=>{var r=n(5772),i=Math.abs;r(r.S,"Math",{hypot:function(t,e){for(var n,r,o=0,s=0,a=arguments.length,u=0;s<a;)u<(n=i(arguments[s++]))?(o=o*(r=u/n)*r+1,u=n):o+=n>0?(r=n/u)*r:n;return u===1/0?1/0:u*Math.sqrt(o)}})},5937:(t,e,n)=>{var r=n(5772),i=Math.imul;r(r.S+r.F*n(8625)((function(){return-5!=i(4294967295,5)||2!=i.length})),"Math",{imul:function(t,e){var n=65535,r=+t,i=+e,o=n&r,s=n&i;return 0|o*s+((n&r>>>16)*s+o*(n&i>>>16)<<16>>>0)}})},9979:(t,e,n)=>{var r=n(5772);r(r.S,"Math",{log10:function(t){return Math.log(t)*Math.LOG10E}})},3601:(t,e,n)=>{var r=n(5772);r(r.S,"Math",{log1p:n(922)})},4226:(t,e,n)=>{var r=n(5772);r(r.S,"Math",{log2:function(t){return Math.log(t)/Math.LN2}})},9750:(t,e,n)=>{var r=n(5772);r(r.S,"Math",{sign:n(2697)})},1462:(t,e,n)=>{var r=n(5772),i=n(9489),o=Math.exp;r(r.S+r.F*n(8625)((function(){return-2e-17!=!Math.sinh(-2e-17)})),"Math",{sinh:function(t){return Math.abs(t=+t)<1?(i(t)-i(-t))/2:(o(t-1)-o(-t-1))*(Math.E/2)}})},4773:(t,e,n)=>{var r=n(5772),i=n(9489),o=Math.exp;r(r.S,"Math",{tanh:function(t){var e=i(t=+t),n=i(-t);return e==1/0?1:n==1/0?-1:(e-n)/(o(t)+o(-t))}})},2421:(t,e,n)=>{var r=n(5772);r(r.S,"Math",{trunc:function(t){return(t>0?Math.floor:Math.ceil)(t)}})},6349:(t,e,n)=>{"use strict";var r=n(8113),i=n(4040),o=n(6688),s=n(8938),a=n(1382),u=n(8625),c=n(6604).f,h=n(4662).f,f=n(8558).f,l=n(8487).trim,p="Number",d=r.Number,v=d,y=d.prototype,g=o(n(2897)(y))==p,m="trim"in String.prototype,b=function(t){var e=a(t,!1);if("string"==typeof e&&e.length>2){var n,r,i,o=(e=m?e.trim():l(e,3)).charCodeAt(0);if(43===o||45===o){if(88===(n=e.charCodeAt(2))||120===n)return NaN}else if(48===o){switch(e.charCodeAt(1)){case 66:case 98:r=2,i=49;break;case 79:case 111:r=8,i=55;break;default:return+e}for(var s,u=e.slice(2),c=0,h=u.length;c<h;c++)if((s=u.charCodeAt(c))<48||s>i)return NaN;return parseInt(u,r)}}return+e};if(!d(" 0o1")||!d("0b1")||d("+0x1")){d=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof d&&(g?u((function(){y.valueOf.call(n)})):o(n)!=p)?s(new v(b(e)),n,d):b(e)};for(var w,_=n(6628)?c(v):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),I=0;_.length>I;I++)i(v,w=_[I])&&!i(d,w)&&f(d,w,h(v,w));d.prototype=y,y.constructor=d,n(7738)(r,p,d)}},2211:(t,e,n)=>{var r=n(5772);r(r.S,"Number",{EPSILON:Math.pow(2,-52)})},3730:(t,e,n)=>{var r=n(5772),i=n(8113).isFinite;r(r.S,"Number",{isFinite:function(t){return"number"==typeof t&&i(t)}})},6729:(t,e,n)=>{var r=n(5772);r(r.S,"Number",{isInteger:n(3917)})},7374:(t,e,n)=>{var r=n(5772);r(r.S,"Number",{isNaN:function(t){return t!=t}})},2095:(t,e,n)=>{var r=n(5772),i=n(3917),o=Math.abs;r(r.S,"Number",{isSafeInteger:function(t){return i(t)&&o(t)<=9007199254740991}})},6362:(t,e,n)=>{var r=n(5772);r(r.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},6329:(t,e,n)=>{var r=n(5772);r(r.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},7463:(t,e,n)=>{var r=n(5772),i=n(5575);r(r.S+r.F*(Number.parseFloat!=i),"Number",{parseFloat:i})},5874:(t,e,n)=>{var r=n(5772),i=n(929);r(r.S+r.F*(Number.parseInt!=i),"Number",{parseInt:i})},8110:(t,e,n)=>{"use strict";var r=n(5772),i=n(3338),o=n(1525),s=n(7160),a=1..toFixed,u=Math.floor,c=[0,0,0,0,0,0],h="Number.toFixed: incorrect invocation!",f="0",l=function(t,e){for(var n=-1,r=e;++n<6;)r+=t*c[n],c[n]=r%1e7,r=u(r/1e7)},p=function(t){for(var e=6,n=0;--e>=0;)n+=c[e],c[e]=u(n/t),n=n%t*1e7},d=function(){for(var t=6,e="";--t>=0;)if(""!==e||0===t||0!==c[t]){var n=String(c[t]);e=""===e?n:e+s.call(f,7-n.length)+n}return e},v=function(t,e,n){return 0===e?n:e%2==1?v(t,e-1,n*t):v(t*t,e/2,n)};r(r.P+r.F*(!!a&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!n(8625)((function(){a.call({})}))),"Number",{toFixed:function(t){var e,n,r,a,u=o(this,h),c=i(t),y="",g=f;if(c<0||c>20)throw RangeError(h);if(u!=u)return"NaN";if(u<=-1e21||u>=1e21)return String(u);if(u<0&&(y="-",u=-u),u>1e-21)if(n=(e=function(t){for(var e=0,n=t;n>=4096;)e+=12,n/=4096;for(;n>=2;)e+=1,n/=2;return e}(u*v(2,69,1))-69)<0?u*v(2,-e,1):u/v(2,e,1),n*=4503599627370496,(e=52-e)>0){for(l(0,n),r=c;r>=7;)l(1e7,0),r-=7;for(l(v(10,r,1),0),r=e-1;r>=23;)p(1<<23),r-=23;p(1<<r),l(1,1),p(2),g=d()}else l(0,n),l(1<<-e,0),g=d()+s.call(f,c);return c>0?y+((a=g.length)<=c?"0."+s.call(f,c-a)+g:g.slice(0,a-c)+"."+g.slice(a-c)):y+g}})},3689:(t,e,n)=>{"use strict";var r=n(5772),i=n(8625),o=n(1525),s=1..toPrecision;r(r.P+r.F*(i((function(){return"1"!==s.call(1,void 0)}))||!i((function(){s.call({})}))),"Number",{toPrecision:function(t){var e=o(this,"Number#toPrecision: incorrect invocation!");return void 0===t?s.call(e):s.call(e,t)}})},9773:(t,e,n)=>{var r=n(5772);r(r.S+r.F,"Object",{assign:n(7029)})},9701:(t,e,n)=>{var r=n(5772);r(r.S,"Object",{create:n(2897)})},8344:(t,e,n)=>{var r=n(5772);r(r.S+r.F*!n(6628),"Object",{defineProperties:n(7331)})},5843:(t,e,n)=>{var r=n(5772);r(r.S+r.F*!n(6628),"Object",{defineProperty:n(8558).f})},8338:(t,e,n)=>{var r=n(7334),i=n(998).onFreeze;n(468)("freeze",(function(t){return function(e){return t&&r(e)?t(i(e)):e}}))},541:(t,e,n)=>{var r=n(5703),i=n(4662).f;n(468)("getOwnPropertyDescriptor",(function(){return function(t,e){return i(r(t),e)}}))},9770:(t,e,n)=>{n(468)("getOwnPropertyNames",(function(){return n(5259).f}))},8904:(t,e,n)=>{var r=n(6033),i=n(9002);n(468)("getPrototypeOf",(function(){return function(t){return i(r(t))}}))},3310:(t,e,n)=>{var r=n(7334);n(468)("isExtensible",(function(t){return function(e){return!!r(e)&&(!t||t(e))}}))},7070:(t,e,n)=>{var r=n(7334);n(468)("isFrozen",(function(t){return function(e){return!r(e)||!!t&&t(e)}}))},9163:(t,e,n)=>{var r=n(7334);n(468)("isSealed",(function(t){return function(e){return!r(e)||!!t&&t(e)}}))},9020:(t,e,n)=>{var r=n(5772);r(r.S,"Object",{is:n(339)})},4978:(t,e,n)=>{var r=n(6033),i=n(2912);n(468)("keys",(function(){return function(t){return i(r(t))}}))},3668:(t,e,n)=>{var r=n(7334),i=n(998).onFreeze;n(468)("preventExtensions",(function(t){return function(e){return t&&r(e)?t(i(e)):e}}))},7941:(t,e,n)=>{var r=n(7334),i=n(998).onFreeze;n(468)("seal",(function(t){return function(e){return t&&r(e)?t(i(e)):e}}))},4210:(t,e,n)=>{var r=n(5772);r(r.S,"Object",{setPrototypeOf:n(6095).set})},6139:(t,e,n)=>{"use strict";var r=n(106),i={};i[n(2190)("toStringTag")]="z",i+""!="[object z]"&&n(7738)(Object.prototype,"toString",(function(){return"[object "+r(this)+"]"}),!0)},5821:(t,e,n)=>{var r=n(5772),i=n(5575);r(r.G+r.F*(parseFloat!=i),{parseFloat:i})},6130:(t,e,n)=>{var r=n(5772),i=n(929);r(r.G+r.F*(parseInt!=i),{parseInt:i})},2235:(t,e,n)=>{"use strict";var r,i,o,s,a=n(1422),u=n(8113),c=n(1528),h=n(106),f=n(5772),l=n(7334),p=n(2761),d=n(5824),v=n(1891),y=n(1987),g=n(9124).set,m=n(3492)(),b=n(8577),w=n(9739),_=n(5822),I=n(5151),E="Promise",T=u.TypeError,S=u.process,A=S&&S.versions,N=A&&A.v8||"",k=u.Promise,x="process"==h(S),O=function(){},P=i=b.f,R=!!function(){try{var t=k.resolve(1),e=(t.constructor={})[n(2190)("species")]=function(t){t(O,O)};return(x||"function"==typeof PromiseRejectionEvent)&&t.then(O)instanceof e&&0!==N.indexOf("6.6")&&-1===_.indexOf("Chrome/66")}catch(t){}}(),D=function(t){var e;return!(!l(t)||"function"!=typeof(e=t.then))&&e},C=function(t,e){if(!t._n){t._n=!0;var n=t._c;m((function(){for(var r=t._v,i=1==t._s,o=0,s=function(e){var n,o,s,a=i?e.ok:e.fail,u=e.resolve,c=e.reject,h=e.domain;try{a?(i||(2==t._h&&j(t),t._h=1),!0===a?n=r:(h&&h.enter(),n=a(r),h&&(h.exit(),s=!0)),n===e.promise?c(T("Promise-chain cycle")):(o=D(n))?o.call(n,u,c):u(n)):c(r)}catch(t){h&&!s&&h.exit(),c(t)}};n.length>o;)s(n[o++]);t._c=[],t._n=!1,e&&!t._h&&L(t)}))}},L=function(t){g.call(u,(function(){var e,n,r,i=t._v,o=M(t);if(o&&(e=w((function(){x?S.emit("unhandledRejection",i,t):(n=u.onunhandledrejection)?n({promise:t,reason:i}):(r=u.console)&&r.error&&r.error("Unhandled promise rejection",i)})),t._h=x||M(t)?2:1),t._a=void 0,o&&e.e)throw e.v}))},M=function(t){return 1!==t._h&&0===(t._a||t._c).length},j=function(t){g.call(u,(function(){var e;x?S.emit("rejectionHandled",t):(e=u.onrejectionhandled)&&e({promise:t,reason:t._v})}))},U=function(t){var e=this;e._d||(e._d=!0,(e=e._w||e)._v=t,e._s=2,e._a||(e._a=e._c.slice()),C(e,!0))},F=function(t){var e,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===t)throw T("Promise can't be resolved itself");(e=D(t))?m((function(){var r={_w:n,_d:!1};try{e.call(t,c(F,r,1),c(U,r,1))}catch(t){U.call(r,t)}})):(n._v=t,n._s=1,C(n,!1))}catch(t){U.call({_w:n,_d:!1},t)}}};R||(k=function(t){d(this,k,E,"_h"),p(t),r.call(this);try{t(c(F,this,1),c(U,this,1))}catch(t){U.call(this,t)}},(r=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=n(2243)(k.prototype,{then:function(t,e){var n=P(y(this,k));return n.ok="function"!=typeof t||t,n.fail="function"==typeof e&&e,n.domain=x?S.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&C(this,!1),n.promise},catch:function(t){return this.then(void 0,t)}}),o=function(){var t=new r;this.promise=t,this.resolve=c(F,t,1),this.reject=c(U,t,1)},b.f=P=function(t){return t===k||t===s?new o(t):i(t)}),f(f.G+f.W+f.F*!R,{Promise:k}),n(5727)(k,E),n(9766)(E),s=n(66).Promise,f(f.S+f.F*!R,E,{reject:function(t){var e=P(this);return(0,e.reject)(t),e.promise}}),f(f.S+f.F*(a||!R),E,{resolve:function(t){return I(a&&this===s?k:this,t)}}),f(f.S+f.F*!(R&&n(3143)((function(t){k.all(t).catch(O)}))),E,{all:function(t){var e=this,n=P(e),r=n.resolve,i=n.reject,o=w((function(){var n=[],o=0,s=1;v(t,!1,(function(t){var a=o++,u=!1;n.push(void 0),s++,e.resolve(t).then((function(t){u||(u=!0,n[a]=t,--s||r(n))}),i)})),--s||r(n)}));return o.e&&i(o.v),n.promise},race:function(t){var e=this,n=P(e),r=n.reject,i=w((function(){v(t,!1,(function(t){e.resolve(t).then(n.resolve,r)}))}));return i.e&&r(i.v),n.promise}})},1335:(t,e,n)=>{var r=n(5772),i=n(2761),o=n(6365),s=(n(8113).Reflect||{}).apply,a=Function.apply;r(r.S+r.F*!n(8625)((function(){s((function(){}))})),"Reflect",{apply:function(t,e,n){var r=i(t),u=o(n);return s?s(r,e,u):a.call(r,e,u)}})},2603:(t,e,n)=>{var r=n(5772),i=n(2897),o=n(2761),s=n(6365),a=n(7334),u=n(8625),c=n(9337),h=(n(8113).Reflect||{}).construct,f=u((function(){function t(){}return!(h((function(){}),[],t)instanceof t)})),l=!u((function(){h((function(){}))}));r(r.S+r.F*(f||l),"Reflect",{construct:function(t,e){o(t),s(e);var n=arguments.length<3?t:o(arguments[2]);if(l&&!f)return h(t,e,n);if(t==n){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var r=[null];return r.push.apply(r,e),new(c.apply(t,r))}var u=n.prototype,p=i(a(u)?u:Object.prototype),d=Function.apply.call(t,p,e);return a(d)?d:p}})},4460:(t,e,n)=>{var r=n(8558),i=n(5772),o=n(6365),s=n(1382);i(i.S+i.F*n(8625)((function(){Reflect.defineProperty(r.f({},1,{value:1}),1,{value:2})})),"Reflect",{defineProperty:function(t,e,n){o(t),e=s(e,!0),o(n);try{return r.f(t,e,n),!0}catch(t){return!1}}})},5970:(t,e,n)=>{var r=n(5772),i=n(4662).f,o=n(6365);r(r.S,"Reflect",{deleteProperty:function(t,e){var n=i(o(t),e);return!(n&&!n.configurable)&&delete t[e]}})},4288:(t,e,n)=>{"use strict";var r=n(5772),i=n(6365),o=function(t){this._t=i(t),this._i=0;var e,n=this._k=[];for(e in t)n.push(e)};n(6445)(o,"Object",(function(){var t,e=this,n=e._k;do{if(e._i>=n.length)return{value:void 0,done:!0}}while(!((t=n[e._i++])in e._t));return{value:t,done:!1}})),r(r.S,"Reflect",{enumerate:function(t){return new o(t)}})},4613:(t,e,n)=>{var r=n(4662),i=n(5772),o=n(6365);i(i.S,"Reflect",{getOwnPropertyDescriptor:function(t,e){return r.f(o(t),e)}})},122:(t,e,n)=>{var r=n(5772),i=n(9002),o=n(6365);r(r.S,"Reflect",{getPrototypeOf:function(t){return i(o(t))}})},2039:(t,e,n)=>{var r=n(4662),i=n(9002),o=n(4040),s=n(5772),a=n(7334),u=n(6365);s(s.S,"Reflect",{get:function t(e,n){var s,c,h=arguments.length<3?e:arguments[2];return u(e)===h?e[n]:(s=r.f(e,n))?o(s,"value")?s.value:void 0!==s.get?s.get.call(h):void 0:a(c=i(e))?t(c,n,h):void 0}})},9484:(t,e,n)=>{var r=n(5772);r(r.S,"Reflect",{has:function(t,e){return e in t}})},1014:(t,e,n)=>{var r=n(5772),i=n(6365),o=Object.isExtensible;r(r.S,"Reflect",{isExtensible:function(t){return i(t),!o||o(t)}})},7150:(t,e,n)=>{var r=n(5772);r(r.S,"Reflect",{ownKeys:n(6831)})},8982:(t,e,n)=>{var r=n(5772),i=n(6365),o=Object.preventExtensions;r(r.S,"Reflect",{preventExtensions:function(t){i(t);try{return o&&o(t),!0}catch(t){return!1}}})},8633:(t,e,n)=>{var r=n(5772),i=n(6095);i&&r(r.S,"Reflect",{setPrototypeOf:function(t,e){i.check(t,e);try{return i.set(t,e),!0}catch(t){return!1}}})},8868:(t,e,n)=>{var r=n(8558),i=n(4662),o=n(9002),s=n(4040),a=n(5772),u=n(6061),c=n(6365),h=n(7334);a(a.S,"Reflect",{set:function t(e,n,a){var f,l,p=arguments.length<4?e:arguments[3],d=i.f(c(e),n);if(!d){if(h(l=o(e)))return t(l,n,a,p);d=u(0)}if(s(d,"value")){if(!1===d.writable||!h(p))return!1;if(f=i.f(p,n)){if(f.get||f.set||!1===f.writable)return!1;f.value=a,r.f(p,n,f)}else r.f(p,n,u(0,a));return!0}return void 0!==d.set&&(d.set.call(p,a),!0)}})},5506:(t,e,n)=>{var r=n(8113),i=n(8938),o=n(8558).f,s=n(6604).f,a=n(4587),u=n(4859),c=r.RegExp,h=c,f=c.prototype,l=/a/g,p=/a/g,d=new c(l)!==l;if(n(6628)&&(!d||n(8625)((function(){return p[n(2190)("match")]=!1,c(l)!=l||c(p)==p||"/a/i"!=c(l,"i")})))){c=function(t,e){var n=this instanceof c,r=a(t),o=void 0===e;return!n&&r&&t.constructor===c&&o?t:i(d?new h(r&&!o?t.source:t,e):h((r=t instanceof c)?t.source:t,r&&o?u.call(t):e),n?this:f,c)};for(var v=function(t){t in c||o(c,t,{configurable:!0,get:function(){return h[t]},set:function(e){h[t]=e}})},y=s(h),g=0;y.length>g;)v(y[g++]);f.constructor=c,c.prototype=f,n(7738)(r,"RegExp",c)}n(9766)("RegExp")},5846:(t,e,n)=>{"use strict";var r=n(3288);n(5772)({target:"RegExp",proto:!0,forced:r!==/./.exec},{exec:r})},751:(t,e,n)=>{n(6628)&&"g"!=/./g.flags&&n(8558).f(RegExp.prototype,"flags",{configurable:!0,get:n(4859)})},4828:(t,e,n)=>{"use strict";var r=n(6365),i=n(6078),o=n(8492),s=n(2404);n(8897)("match",1,(function(t,e,n,a){return[function(n){var r=t(this),i=null==n?void 0:n[e];return void 0!==i?i.call(n,r):new RegExp(n)[e](String(r))},function(t){var e=a(n,t,this);if(e.done)return e.value;var u=r(t),c=String(this);if(!u.global)return s(u,c);var h=u.unicode;u.lastIndex=0;for(var f,l=[],p=0;null!==(f=s(u,c));){var d=String(f[0]);l[p]=d,""===d&&(u.lastIndex=o(c,i(u.lastIndex),h)),p++}return 0===p?null:l}]}))},4208:(t,e,n)=>{"use strict";var r=n(6365),i=n(6033),o=n(6078),s=n(3338),a=n(8492),u=n(2404),c=Math.max,h=Math.min,f=Math.floor,l=/\$([$&`']|\d\d?|<[^>]*>)/g,p=/\$([$&`']|\d\d?)/g;n(8897)("replace",2,(function(t,e,n,d){return[function(r,i){var o=t(this),s=null==r?void 0:r[e];return void 0!==s?s.call(r,o,i):n.call(String(o),r,i)},function(t,e){var i=d(n,t,this,e);if(i.done)return i.value;var f=r(t),l=String(this),p="function"==typeof e;p||(e=String(e));var y=f.global;if(y){var g=f.unicode;f.lastIndex=0}for(var m=[];;){var b=u(f,l);if(null===b)break;if(m.push(b),!y)break;""===String(b[0])&&(f.lastIndex=a(l,o(f.lastIndex),g))}for(var w,_="",I=0,E=0;E<m.length;E++){b=m[E];for(var T=String(b[0]),S=c(h(s(b.index),l.length),0),A=[],N=1;N<b.length;N++)A.push(void 0===(w=b[N])?w:String(w));var k=b.groups;if(p){var x=[T].concat(A,S,l);void 0!==k&&x.push(k);var O=String(e.apply(void 0,x))}else O=v(T,l,S,A,k,e);S>=I&&(_+=l.slice(I,S)+O,I=S+T.length)}return _+l.slice(I)}];function v(t,e,r,o,s,a){var u=r+t.length,c=o.length,h=p;return void 0!==s&&(s=i(s),h=l),n.call(a,h,(function(n,i){var a;switch(i.charAt(0)){case"$":return"$";case"&":return t;case"`":return e.slice(0,r);case"'":return e.slice(u);case"<":a=s[i.slice(1,-1)];break;default:var h=+i;if(0===h)return n;if(h>c){var l=f(h/10);return 0===l?n:l<=c?void 0===o[l-1]?i.charAt(1):o[l-1]+i.charAt(1):n}a=o[h-1]}return void 0===a?"":a}))}}))},2679:(t,e,n)=>{"use strict";var r=n(6365),i=n(339),o=n(2404);n(8897)("search",1,(function(t,e,n,s){return[function(n){var r=t(this),i=null==n?void 0:n[e];return void 0!==i?i.call(n,r):new RegExp(n)[e](String(r))},function(t){var e=s(n,t,this);if(e.done)return e.value;var a=r(t),u=String(this),c=a.lastIndex;i(c,0)||(a.lastIndex=0);var h=o(a,u);return i(a.lastIndex,c)||(a.lastIndex=c),null===h?-1:h.index}]}))},9236:(t,e,n)=>{"use strict";var r=n(4587),i=n(6365),o=n(1987),s=n(8492),a=n(6078),u=n(2404),c=n(3288),h=n(8625),f=Math.min,l=[].push,p=4294967295,d=!h((function(){RegExp(p,"y")}));n(8897)("split",2,(function(t,e,n,h){var v;return v="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,e){var i=String(this);if(void 0===t&&0===e)return[];if(!r(t))return n.call(i,t,e);for(var o,s,a,u=[],h=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),f=0,d=void 0===e?p:e>>>0,v=new RegExp(t.source,h+"g");(o=c.call(v,i))&&!((s=v.lastIndex)>f&&(u.push(i.slice(f,o.index)),o.length>1&&o.index<i.length&&l.apply(u,o.slice(1)),a=o[0].length,f=s,u.length>=d));)v.lastIndex===o.index&&v.lastIndex++;return f===i.length?!a&&v.test("")||u.push(""):u.push(i.slice(f)),u.length>d?u.slice(0,d):u}:"0".split(void 0,0).length?function(t,e){return void 0===t&&0===e?[]:n.call(this,t,e)}:n,[function(n,r){var i=t(this),o=null==n?void 0:n[e];return void 0!==o?o.call(n,i,r):v.call(String(i),n,r)},function(t,e){var r=h(v,t,this,e,v!==n);if(r.done)return r.value;var c=i(t),l=String(this),y=o(c,RegExp),g=c.unicode,m=(c.ignoreCase?"i":"")+(c.multiline?"m":"")+(c.unicode?"u":"")+(d?"y":"g"),b=new y(d?c:"^(?:"+c.source+")",m),w=void 0===e?p:e>>>0;if(0===w)return[];if(0===l.length)return null===u(b,l)?[l]:[];for(var _=0,I=0,E=[];I<l.length;){b.lastIndex=d?I:0;var T,S=u(b,d?l:l.slice(I));if(null===S||(T=f(a(b.lastIndex+(d?0:I)),l.length))===_)I=s(l,I,g);else{if(E.push(l.slice(_,I)),E.length===w)return E;for(var A=1;A<=S.length-1;A++)if(E.push(S[A]),E.length===w)return E;I=_=T}}return E.push(l.slice(_)),E}]}))},4321:(t,e,n)=>{"use strict";n(751);var r=n(6365),i=n(4859),o=n(6628),s="toString",a=/./.toString,u=function(t){n(7738)(RegExp.prototype,s,t,!0)};n(8625)((function(){return"/a/b"!=a.call({source:"a",flags:"b"})}))?u((function(){var t=r(this);return"/".concat(t.source,"/","flags"in t?t.flags:!o&&t instanceof RegExp?i.call(t):void 0)})):a.name!=s&&u((function(){return a.call(this)}))},8392:(t,e,n)=>{"use strict";var r=n(8156),i=n(9060);t.exports=n(7611)("Set",(function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}}),{add:function(t){return r.def(i(this,"Set"),t=0===t?0:t,t)}},r)},513:(t,e,n)=>{"use strict";n(5776)("anchor",(function(t){return function(e){return t(this,"a","name",e)}}))},4186:(t,e,n)=>{"use strict";n(5776)("big",(function(t){return function(){return t(this,"big","","")}}))},5502:(t,e,n)=>{"use strict";n(5776)("blink",(function(t){return function(){return t(this,"blink","","")}}))},6213:(t,e,n)=>{"use strict";n(5776)("bold",(function(t){return function(){return t(this,"b","","")}}))},516:(t,e,n)=>{"use strict";var r=n(5772),i=n(2070)(!1);r(r.P,"String",{codePointAt:function(t){return i(this,t)}})},427:(t,e,n)=>{"use strict";var r=n(5772),i=n(6078),o=n(465),s="endsWith",a="".endsWith;r(r.P+r.F*n(6570)(s),"String",{endsWith:function(t){var e=o(this,t,s),n=arguments.length>1?arguments[1]:void 0,r=i(e.length),u=void 0===n?r:Math.min(i(n),r),c=String(t);return a?a.call(e,c,u):e.slice(u-c.length,u)===c}})},9457:(t,e,n)=>{"use strict";n(5776)("fixed",(function(t){return function(){return t(this,"tt","","")}}))},9876:(t,e,n)=>{"use strict";n(5776)("fontcolor",(function(t){return function(e){return t(this,"font","color",e)}}))},9772:(t,e,n)=>{"use strict";n(5776)("fontsize",(function(t){return function(e){return t(this,"font","size",e)}}))},2763:(t,e,n)=>{var r=n(5772),i=n(8615),o=String.fromCharCode,s=String.fromCodePoint;r(r.S+r.F*(!!s&&1!=s.length),"String",{fromCodePoint:function(t){for(var e,n=[],r=arguments.length,s=0;r>s;){if(e=+arguments[s++],i(e,1114111)!==e)throw RangeError(e+" is not a valid code point");n.push(e<65536?o(e):o(55296+((e-=65536)>>10),e%1024+56320))}return n.join("")}})},3777:(t,e,n)=>{"use strict";var r=n(5772),i=n(465),o="includes";r(r.P+r.F*n(6570)(o),"String",{includes:function(t){return!!~i(this,t,o).indexOf(t,arguments.length>1?arguments[1]:void 0)}})},7174:(t,e,n)=>{"use strict";n(5776)("italics",(function(t){return function(){return t(this,"i","","")}}))},7472:(t,e,n)=>{"use strict";var r=n(2070)(!0);n(1195)(String,"String",(function(t){this._t=String(t),this._i=0}),(function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=r(e,n),this._i+=t.length,{value:t,done:!1})}))},5251:(t,e,n)=>{"use strict";n(5776)("link",(function(t){return function(e){return t(this,"a","href",e)}}))},1711:(t,e,n)=>{var r=n(5772),i=n(5703),o=n(6078);r(r.S,"String",{raw:function(t){for(var e=i(t.raw),n=o(e.length),r=arguments.length,s=[],a=0;n>a;)s.push(String(e[a++])),a<r&&s.push(String(arguments[a]));return s.join("")}})},7238:(t,e,n)=>{var r=n(5772);r(r.P,"String",{repeat:n(7160)})},7984:(t,e,n)=>{"use strict";n(5776)("small",(function(t){return function(){return t(this,"small","","")}}))},5942:(t,e,n)=>{"use strict";var r=n(5772),i=n(6078),o=n(465),s="startsWith",a="".startsWith;r(r.P+r.F*n(6570)(s),"String",{startsWith:function(t){var e=o(this,t,s),n=i(Math.min(arguments.length>1?arguments[1]:void 0,e.length)),r=String(t);return a?a.call(e,r,n):e.slice(n,n+r.length)===r}})},3359:(t,e,n)=>{"use strict";n(5776)("strike",(function(t){return function(){return t(this,"strike","","")}}))},195:(t,e,n)=>{"use strict";n(5776)("sub",(function(t){return function(){return t(this,"sub","","")}}))},8586:(t,e,n)=>{"use strict";n(5776)("sup",(function(t){return function(){return t(this,"sup","","")}}))},183:(t,e,n)=>{"use strict";n(8487)("trim",(function(t){return function(){return t(this,3)}}))},9823:(t,e,n)=>{"use strict";var r=n(8113),i=n(4040),o=n(6628),s=n(5772),a=n(7738),u=n(998).KEY,c=n(8625),h=n(8655),f=n(5727),l=n(5078),p=n(2190),d=n(9669),v=n(5660),y=n(7820),g=n(9141),m=n(6365),b=n(7334),w=n(6033),_=n(5703),I=n(1382),E=n(6061),T=n(2897),S=n(5259),A=n(4662),N=n(7957),k=n(8558),x=n(2912),O=A.f,P=k.f,R=S.f,D=r.Symbol,C=r.JSON,L=C&&C.stringify,M=p("_hidden"),j=p("toPrimitive"),U={}.propertyIsEnumerable,F=h("symbol-registry"),V=h("symbols"),q=h("op-symbols"),B=Object.prototype,G="function"==typeof D&&!!N.f,z=r.QObject,H=!z||!z.prototype||!z.prototype.findChild,K=o&&c((function(){return 7!=T(P({},"a",{get:function(){return P(this,"a",{value:7}).a}})).a}))?function(t,e,n){var r=O(B,e);r&&delete B[e],P(t,e,n),r&&t!==B&&P(B,e,r)}:P,W=function(t){var e=V[t]=T(D.prototype);return e._k=t,e},X=G&&"symbol"==typeof D.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof D},$=function(t,e,n){return t===B&&$(q,e,n),m(t),e=I(e,!0),m(n),i(V,e)?(n.enumerable?(i(t,M)&&t[M][e]&&(t[M][e]=!1),n=T(n,{enumerable:E(0,!1)})):(i(t,M)||P(t,M,E(1,{})),t[M][e]=!0),K(t,e,n)):P(t,e,n)},Y=function(t,e){m(t);for(var n,r=y(e=_(e)),i=0,o=r.length;o>i;)$(t,n=r[i++],e[n]);return t},Q=function(t){var e=U.call(this,t=I(t,!0));return!(this===B&&i(V,t)&&!i(q,t))&&(!(e||!i(this,t)||!i(V,t)||i(this,M)&&this[M][t])||e)},J=function(t,e){if(t=_(t),e=I(e,!0),t!==B||!i(V,e)||i(q,e)){var n=O(t,e);return!n||!i(V,e)||i(t,M)&&t[M][e]||(n.enumerable=!0),n}},Z=function(t){for(var e,n=R(_(t)),r=[],o=0;n.length>o;)i(V,e=n[o++])||e==M||e==u||r.push(e);return r},tt=function(t){for(var e,n=t===B,r=R(n?q:_(t)),o=[],s=0;r.length>s;)!i(V,e=r[s++])||n&&!i(B,e)||o.push(V[e]);return o};G||(a((D=function(){if(this instanceof D)throw TypeError("Symbol is not a constructor!");var t=l(arguments.length>0?arguments[0]:void 0),e=function(n){this===B&&e.call(q,n),i(this,M)&&i(this[M],t)&&(this[M][t]=!1),K(this,t,E(1,n))};return o&&H&&K(B,t,{configurable:!0,set:e}),W(t)}).prototype,"toString",(function(){return this._k})),A.f=J,k.f=$,n(6604).f=S.f=Z,n(5873).f=Q,N.f=tt,o&&!n(1422)&&a(B,"propertyIsEnumerable",Q,!0),d.f=function(t){return W(p(t))}),s(s.G+s.W+s.F*!G,{Symbol:D});for(var et="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),nt=0;et.length>nt;)p(et[nt++]);for(var rt=x(p.store),it=0;rt.length>it;)v(rt[it++]);s(s.S+s.F*!G,"Symbol",{for:function(t){return i(F,t+="")?F[t]:F[t]=D(t)},keyFor:function(t){if(!X(t))throw TypeError(t+" is not a symbol!");for(var e in F)if(F[e]===t)return e},useSetter:function(){H=!0},useSimple:function(){H=!1}}),s(s.S+s.F*!G,"Object",{create:function(t,e){return void 0===e?T(t):Y(T(t),e)},defineProperty:$,defineProperties:Y,getOwnPropertyDescriptor:J,getOwnPropertyNames:Z,getOwnPropertySymbols:tt});var ot=c((function(){N.f(1)}));s(s.S+s.F*ot,"Object",{getOwnPropertySymbols:function(t){return N.f(w(t))}}),C&&s(s.S+s.F*(!G||c((function(){var t=D();return"[null]"!=L([t])||"{}"!=L({a:t})||"{}"!=L(Object(t))}))),"JSON",{stringify:function(t){for(var e,n,r=[t],i=1;arguments.length>i;)r.push(arguments[i++]);if(n=e=r[1],(b(e)||void 0!==t)&&!X(t))return g(e)||(e=function(t,e){if("function"==typeof n&&(e=n.call(this,t,e)),!X(e))return e}),r[1]=e,L.apply(C,r)}}),D.prototype[j]||n(4216)(D.prototype,j,D.prototype.valueOf),f(D,"Symbol"),f(Math,"Math",!0),f(r.JSON,"JSON",!0)},345:(t,e,n)=>{"use strict";var r=n(5772),i=n(5949),o=n(4972),s=n(6365),a=n(8615),u=n(6078),c=n(7334),h=n(8113).ArrayBuffer,f=n(1987),l=o.ArrayBuffer,p=o.DataView,d=i.ABV&&h.isView,v=l.prototype.slice,y=i.VIEW,g="ArrayBuffer";r(r.G+r.W+r.F*(h!==l),{ArrayBuffer:l}),r(r.S+r.F*!i.CONSTR,g,{isView:function(t){return d&&d(t)||c(t)&&y in t}}),r(r.P+r.U+r.F*n(8625)((function(){return!new l(2).slice(1,void 0).byteLength})),g,{slice:function(t,e){if(void 0!==v&&void 0===e)return v.call(s(this),t);for(var n=s(this).byteLength,r=a(t,n),i=a(void 0===e?n:e,n),o=new(f(this,l))(u(i-r)),c=new p(this),h=new p(o),d=0;r<i;)h.setUint8(d++,c.getUint8(r++));return o}}),n(9766)(g)},8460:(t,e,n)=>{var r=n(5772);r(r.G+r.W+r.F*!n(5949).ABV,{DataView:n(4972).DataView})},3149:(t,e,n)=>{n(7978)("Float32",4,(function(t){return function(e,n,r){return t(this,e,n,r)}}))},4637:(t,e,n)=>{n(7978)("Float64",8,(function(t){return function(e,n,r){return t(this,e,n,r)}}))},3958:(t,e,n)=>{n(7978)("Int16",2,(function(t){return function(e,n,r){return t(this,e,n,r)}}))},5469:(t,e,n)=>{n(7978)("Int32",4,(function(t){return function(e,n,r){return t(this,e,n,r)}}))},6788:(t,e,n)=>{n(7978)("Int8",1,(function(t){return function(e,n,r){return t(this,e,n,r)}}))},1592:(t,e,n)=>{n(7978)("Uint16",2,(function(t){return function(e,n,r){return t(this,e,n,r)}}))},6471:(t,e,n)=>{n(7978)("Uint32",4,(function(t){return function(e,n,r){return t(this,e,n,r)}}))},6780:(t,e,n)=>{n(7978)("Uint8",1,(function(t){return function(e,n,r){return t(this,e,n,r)}}))},3620:(t,e,n)=>{n(7978)("Uint8",1,(function(t){return function(e,n,r){return t(this,e,n,r)}}),!0)},773:(t,e,n)=>{"use strict";var r,i=n(8113),o=n(8309)(0),s=n(7738),a=n(998),u=n(7029),c=n(6339),h=n(7334),f=n(9060),l=n(9060),p=!i.ActiveXObject&&"ActiveXObject"in i,d="WeakMap",v=a.getWeak,y=Object.isExtensible,g=c.ufstore,m=function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},b={get:function(t){if(h(t)){var e=v(t);return!0===e?g(f(this,d)).get(t):e?e[this._i]:void 0}},set:function(t,e){return c.def(f(this,d),t,e)}},w=t.exports=n(7611)(d,m,b,c,!0,!0);l&&p&&(u((r=c.getConstructor(m,d)).prototype,b),a.NEED=!0,o(["delete","has","get","set"],(function(t){var e=w.prototype,n=e[t];s(e,t,(function(e,i){if(h(e)&&!y(e)){this._f||(this._f=new r);var o=this._f[t](e,i);return"set"==t?this:o}return n.call(this,e,i)}))})))},3623:(t,e,n)=>{"use strict";var r=n(6339),i=n(9060),o="WeakSet";n(7611)(o,(function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}}),{add:function(t){return r.def(i(this,o),t,!0)}},r,!1,!0)},7328:(t,e,n)=>{"use strict";var r=n(5772),i=n(2674),o=n(6033),s=n(6078),a=n(2761),u=n(3531);r(r.P,"Array",{flatMap:function(t){var e,n,r=o(this);return a(t),e=s(r.length),n=u(r,0),i(n,r,r,e,0,1,t,arguments[1]),n}}),n(2094)("flatMap")},8081:(t,e,n)=>{"use strict";var r=n(5772),i=n(9021)(!0);r(r.P,"Array",{includes:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),n(2094)("includes")},9716:(t,e,n)=>{var r=n(5772),i=n(758)(!0);r(r.S,"Object",{entries:function(t){return i(t)}})},7453:(t,e,n)=>{var r=n(5772),i=n(6831),o=n(5703),s=n(4662),a=n(6644);r(r.S,"Object",{getOwnPropertyDescriptors:function(t){for(var e,n,r=o(t),u=s.f,c=i(r),h={},f=0;c.length>f;)void 0!==(n=u(r,e=c[f++]))&&a(h,e,n);return h}})},27:(t,e,n)=>{var r=n(5772),i=n(758)(!1);r(r.S,"Object",{values:function(t){return i(t)}})},6632:(t,e,n)=>{"use strict";var r=n(5772),i=n(66),o=n(8113),s=n(1987),a=n(5151);r(r.P+r.R,"Promise",{finally:function(t){var e=s(this,i.Promise||o.Promise),n="function"==typeof t;return this.then(n?function(n){return a(e,t()).then((function(){return n}))}:t,n?function(n){return a(e,t()).then((function(){throw n}))}:t)}})},8302:(t,e,n)=>{"use strict";var r=n(5772),i=n(6283),o=n(5822),s=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(o);r(r.P+r.F*s,"String",{padEnd:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0,!1)}})},9447:(t,e,n)=>{"use strict";var r=n(5772),i=n(6283),o=n(5822),s=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(o);r(r.P+r.F*s,"String",{padStart:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0,!0)}})},9324:(t,e,n)=>{"use strict";n(8487)("trimLeft",(function(t){return function(){return t(this,1)}}),"trimStart")},152:(t,e,n)=>{"use strict";n(8487)("trimRight",(function(t){return function(){return t(this,2)}}),"trimEnd")},3756:(t,e,n)=>{n(5660)("asyncIterator")},3085:(t,e,n)=>{for(var r=n(7680),i=n(2912),o=n(7738),s=n(8113),a=n(4216),u=n(3988),c=n(2190),h=c("iterator"),f=c("toStringTag"),l=u.Array,p={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},d=i(p),v=0;v<d.length;v++){var y,g=d[v],m=p[g],b=s[g],w=b&&b.prototype;if(w&&(w[h]||a(w,h,l),w[f]||a(w,f,g),u[g]=l,m))for(y in r)w[y]||o(w,y,r[y],!0)}},6282:(t,e,n)=>{var r=n(5772),i=n(9124);r(r.G+r.B,{setImmediate:i.set,clearImmediate:i.clear})},6252:(t,e,n)=>{var r=n(8113),i=n(5772),o=n(5822),s=[].slice,a=/MSIE .\./.test(o),u=function(t){return function(e,n){var r=arguments.length>2,i=!!r&&s.call(arguments,2);return t(r?function(){("function"==typeof e?e:Function(e)).apply(this,i)}:e,n)}};i(i.G+i.B+i.F*a,{setTimeout:u(r.setTimeout),setInterval:u(r.setInterval)})},1497:(t,e,n)=>{n(6252),n(6282),n(3085),t.exports=n(66)},6248:t=>{var e=function(t){"use strict";var e,n=Object.prototype,r=n.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",a=i.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,n){return t[e]=n}}function c(t,e,n,r){var i=e&&e.prototype instanceof y?e:y,o=Object.create(i.prototype),s=new k(r||[]);return o._invoke=function(t,e,n){var r=f;return function(i,o){if(r===p)throw new Error("Generator is already running");if(r===d){if("throw"===i)throw o;return O()}for(n.method=i,n.arg=o;;){var s=n.delegate;if(s){var a=S(s,n);if(a){if(a===v)continue;return a}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===f)throw r=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=p;var u=h(t,e,n);if("normal"===u.type){if(r=n.done?d:l,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r=d,n.method="throw",n.arg=u.arg)}}}(t,n,s),o}function h(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var f="suspendedStart",l="suspendedYield",p="executing",d="completed",v={};function y(){}function g(){}function m(){}var b={};b[o]=function(){return this};var w=Object.getPrototypeOf,_=w&&w(w(x([])));_&&_!==n&&r.call(_,o)&&(b=_);var I=m.prototype=y.prototype=Object.create(b);function E(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function T(t,e){function n(i,o,s,a){var u=h(t[i],t,o);if("throw"!==u.type){var c=u.arg,f=c.value;return f&&"object"==typeof f&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,s,a)}),(function(t){n("throw",t,s,a)})):e.resolve(f).then((function(t){c.value=t,s(c)}),(function(t){return n("throw",t,s,a)}))}a(u.arg)}var i;this._invoke=function(t,r){function o(){return new e((function(e,i){n(t,r,e,i)}))}return i=i?i.then(o,o):o()}}function S(t,n){var r=t.iterator[n.method];if(r===e){if(n.delegate=null,"throw"===n.method){if(t.iterator.return&&(n.method="return",n.arg=e,S(t,n),"throw"===n.method))return v;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var i=h(r,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var o=i.arg;return o?o.done?(n[t.resultName]=o.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,v):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function A(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function N(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function k(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(A,this),this.reset(!0)}function x(t){if(t){var n=t[o];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,s=function n(){for(;++i<t.length;)if(r.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return s.next=s}}return{next:O}}function O(){return{value:e,done:!0}}return g.prototype=I.constructor=m,m.constructor=g,g.displayName=u(m,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,m):(t.__proto__=m,u(t,a,"GeneratorFunction")),t.prototype=Object.create(I),t},t.awrap=function(t){return{__await:t}},E(T.prototype),T.prototype[s]=function(){return this},t.AsyncIterator=T,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var s=new T(c(e,n,r,i),o);return t.isGeneratorFunction(n)?s:s.next().then((function(t){return t.done?t.value:s.next()}))},E(I),u(I,a,"Generator"),I[o]=function(){return this},I.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=x,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(N),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function i(r,i){return a.type="throw",a.arg=t,n.next=r,i&&(n.method="next",n.arg=e),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var s=this.tryEntries[o],a=s.completion;if("root"===s.tryLoc)return i("end");if(s.tryLoc<=this.prev){var u=r.call(s,"catchLoc"),c=r.call(s,"finallyLoc");if(u&&c){if(this.prev<s.catchLoc)return i(s.catchLoc,!0);if(this.prev<s.finallyLoc)return i(s.finallyLoc)}else if(u){if(this.prev<s.catchLoc)return i(s.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return i(s.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=t,s.arg=e,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(s)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),N(n),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;N(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:x(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),v}},t}(t.exports);try{regeneratorRuntime=e}catch(t){Function("r","regeneratorRuntime = r")(e)}}},e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={exports:{}};return t[r](i,i.exports,n),i.exports}n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),(()=>{"use strict";n(8391);var t,e=(t=n(1829))&&t.__esModule?t:{default:t};e.default._babelPolyfill&&"undefined"!=typeof console&&console.warn&&console.warn("@babel/polyfill is loaded more than once on this page. This is probably not desirable/intended and may have consequences if different versions of the polyfills are applied sequentially. If you do need to load the polyfill more than once, use @babel/polyfill/noConflict instead to bypass the warning."),e.default._babelPolyfill=!0})(),(()=>{"use strict";function t(t){return`on${t.charAt(0).toUpperCase()}${t.slice(1)}`}function e(t,e=null){return e&&localStorage.setItem(t,JSON.stringify(e)),JSON.parse(localStorage.getItem(t))}function r(t,e){return"object"==typeof t&&"object"==typeof e?JSON.stringify(t)===JSON.stringify(e):t===e}function i(t,e,n={max:100,min:0},r=!0){const i=(n.max-n.min)/(e.max-e.min);return r?Math.floor((t-e.min)*i):+((t-e.min)*i).toFixed(2)}function o(t,e=2){if(0===t)return"0 Bytes";const n=e<0?0:e,r=Math.floor(Math.log(t)/Math.log(1024));return parseFloat((t/Math.pow(1024,r)).toFixed(n))+" "+["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"][r]}function s(t,e){return t.map((t=>t.hashId)).indexOf(e)}function a(t){const e=[...t];let n,r,i=e.length;for(;0!==i;)r=Math.floor(Math.random()*i),i-=1,n=e[i],e[i]=e[r],e[r]=n;return e}class u extends class{constructor(t,e){this.$root=t,this.listeners=e}initListeners(){this.listeners.forEach((e=>{const n=t(e);if(!this[n])throw new Error(`Метод ${n} не определен в компоненте ${this.name}`);this[n]=this[n].bind(this),this.$root.on(e,this[n])}))}removeListeners(){this.listeners.forEach((e=>{const n=t(e);this.$root.off(e,this[n])}))}}{constructor(t,e={}){super(t,e.listeners),this.name=e.name||"DefaultName",this.store=e.store,this.audio=e.audio,this.api=e.api,this.watch=e.watch||[],this.beforeInit()}renderComponent(){throw new Error("Метод renderComponent() должен быть определен")}beforeInit(){}componentDidMount(){}init(){this.initListeners()}destroy(){this.removeListeners()}$storeHasChanged(){}$audioHasChanged(){}isWatching(t){return this.watch.includes(t)}$dispatch(t){this.store.dispatch(t)}$getState(){return this.store.getState()}}class c extends u{constructor(t,e){super(t,{name:"Header",listeners:["click"],...e})}renderComponent(){return"\n      <h1>SoundCloud</h1>\n    "}async onClick(){const t=await this.api.getMusicList();console.log(t)}}var h,f,l;l="header",(f="className")in(h=c)?Object.defineProperty(h,f,{value:l,enumerable:!0,configurable:!0,writable:!0}):h[f]=l;class p{constructor(t){this.$currentElement="string"==typeof t?document.querySelector(t):t}get currentElement(){return this.$currentElement}html(t){return"string"==typeof t?(this.$currentElement.innerHTML=t,this):this.$currentElement.outerHTML.trim()}append(t){t instanceof p&&(t=t.$currentElement),this.$currentElement.append(t)}on(t,e){this.$currentElement.addEventListener(t,e)}off(t,e){this.$currentElement.removeEventListener(t,e)}attr(t,e){return e?(this.$currentElement.setAttribute(t,e),this):this.$currentElement.getAttribute(t)}closest(t){return d(this.$currentElement.closest(t))}find(t){return this.$currentElement.querySelector(t)}coords(){return this.$currentElement.getBoundingClientRect()}css(t={}){return Object.keys(t).forEach((e=>{this.$currentElement.style[e]=t[e]})),this}}function d(t){return new p(t)}function v(t,e){return new Promise((n=>{const r=d(t.target),i=d(document.querySelector(`[data-type="${e}"]`)).coords();let o="mousedown"===t.type?t.pageX-i.left:t.touches[0].clientX-i.left;o=g(o,i),document.onmousemove=t=>{o=g(t.pageX-i.left,i),r.css({left:`${o}px`})},document.ontouchmove=t=>{o=g(t.touches[0].clientX-i.left,i),r.css({left:`${o}px`})},document.onmouseup=()=>{document.onmousemove=null,n(o)},document.ontouchend=()=>{document.ontouchstart=null,n(o)}}))}function y(t){return"track"===d(t.target).attr("data-handle")?"track":"volume"===d(t.target).attr("data-handle")?"volume":""}function g(t,e){let n=t;return n>e.width?n=e.width:n<0&&(n=0),n}function m(t="play",e="",n=""){return`\n    <div\n      data-type="button"\n      data-action="${n}"\n      class="button ${e}">\n        <i class="fas fa-${t}"></i>\n    </div>\n  `}d.create=(t="div",e="")=>{const n=document.createElement(t);return e&&n.classList.add(e),d(n)};class b extends u{constructor(...t){super(...t)}get template(){return JSON.stringify(this.state,null,2)}useState(t={}){this.state={...t}}setState(t){this.state={...this.state,...t},this.reRenderComponent()}reRenderComponent(){this.$root.html(this.template)}}function w(t){return{type:"TOGGLE_PLAY",payload:t}}function _(t){return{type:"SET_IS_REWINDING",payload:t}}function I(t){return{type:"UPDATE_CURRENT_TRACKVOLUME",payload:t}}function E(t){return{type:"SET_IS_FETCHING",payload:t}}function T(t){return{type:"SET_CURRENT_TRACK_ID",payload:t}}function S(t){return{type:"SET_CURRENT_AUDIO_HANDLE_POSITION",payload:t}}function A(t){return{type:"SET_SHUFFLED_TRACK_LIST",payload:t}}class N extends b{constructor(t,e){super(t,{name:"Player",listeners:["mousedown","click","touchstart"],watch:["play","mute","shuffle","repeat","currentAudioHandlePosition","currentTime","isEnded"],...e})}beforeInit(){this.useState()}$storeHasChanged(){}$audioHasChanged({isEnded:t,currentTime:e}){const{isRewinding:n}=this.$getState(),r=d(document.querySelector('[data-type="track-slider"]')).coords().width;if(!n&&this.audio.getState.trackDuration){const t=i(e,{min:0,max:this.audio.trackDuration},{min:0,max:r});this.$dispatch(S(t)),this.$dispatch({type:"SET_CURRENT_AUDIO_TIME_POSITION",payload:e})}t&&this.switchTrack("next")}get template(){return function(t){const e=t.play?m("pause","","play"):m("play","","play"),n=t.shuffle?m("random","button--random active","shuffle"):m("random","button--random","shuffle"),r=t.repeat?m("redo-alt","button--repeat active","repeat"):m("redo-alt","button--repeat","repeat"),o=t.mute?m("volume-mute","","mute"):m("volume-up","","mute"),s=`${i(t.currentTrackVolume,{min:0,max:1},{min:0,max:70},!1)}px`,a=`${t.currentAudioHandlePosition}px`;return`\n    <div class="player__col player__col--first">\n      <div class="player__buttons">\n      ${m("backward","","prev")}\n      ${e}\n      ${m("forward","","next")}\n    </div>\n    <div class="player__track-slider">\n      <div data-type="track-slider" class="track-slider"></div>\n      <div style="left: ${a}" data-handle="track" class="track-handler"></div>\n    </div>\n    </div>\n    <div class="player__col player__col--second">\n      <div class="player__buttons">\n      ${o}\n      <div class="player__volume-slider">\n        <div data-type="volume-slider" class="volume-slider"></div>\n        <div style="left: ${s}" data-handle="volume" class="volume-handler"></div>\n      </div>\n    </div>\n    <div class="player__buttons">\n      ${n}\n      ${r}\n    </div>\n    </div>\n  `}(this.$getState())}renderComponent(){return this.template}onClick(t){if(this.$getState().isFetching)return;const e=d(t.target).closest('[data-type="button"]');if(e.currentElement){const t=e.attr("data-action");switch(t){case"play":this.audio.play(),this.$dispatch(w(this.audio.getState.isPlaying));break;case"mute":this.audio.mute(),this.$dispatch({type:"TOGGLE_MUTE"});break;case"shuffle":this.$getState().shuffle?this.$dispatch(A(this.$getState().trackList)):this.$dispatch(A(a(this.$getState().shuffledTrackList))),this.$dispatch({type:"TOGGLE_SHUFFLE"});break;case"repeat":this.audio.repeat(),this.$dispatch({type:"TOGGLE_REPEAT"});break;case"next":case"prev":this.switchTrack(t)}}}async onMousedown(t){if("track"===y(t)){this.$dispatch(_(!0));const e=d(document.querySelector('[data-type="track-slider"]')),n=i(await v(t,"track-slider"),{min:0,max:e.coords().width},{min:0,max:this.audio.trackDuration||300});this.audio.rewind(n),this.$dispatch(_(!1))}else if("volume"===y(t)){this.$dispatch(_(!0));const e=i(await v(t,"volume-slider"),{min:0,max:70},{min:0,max:1},!1);this.audio.volume(e),this.$dispatch(I(e)),this.$dispatch(_(!1))}}async onTouchstart(t){if("track"===y(t)){this.$dispatch(_(!0));const e=d(document.querySelector('[data-type="track-slider"]')),n=i(await v(t,"track-slider"),{min:0,max:e.coords().width},{min:0,max:this.audio.trackDuration||300});this.audio.rewind(n),this.$dispatch(_(!1))}else if("volume"===y(t)){this.$dispatch(_(!0));const e=i(await v(t,"volume-slider"),{min:0,max:70},{min:0,max:1},!1);this.audio.volume(e),this.$dispatch(I(e)),this.$dispatch(_(!1))}}switchTrack(t){let e=0,n="";this.$dispatch(S(0));const{shuffledTrackList:r,currentTrackId:i,currentTrackVolume:o,currentAudioTimePosition:a,mute:u,repeat:c}=this.$getState(),h=s(r,i),f={currentTime:a,volume:o,muted:u,loop:c};if("next"===t){if(!(h+1<r.length))return!0;e=h+1,n=r[e].hash,this.$dispatch(T(n)),this.audio.init(r[e].url,f),this.audio.play(),this.$dispatch(w(!0))}else if("prev"===t){if(!(h-1>=0))return!0;e=h-1,n=r[e].hash,this.$dispatch(T(n)),this.audio.init(r[e].url,f),this.audio.play(),this.$dispatch(w(!0))}}}!function(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}(N,"className","player");class k{constructor(t){this.audio=t,this.subscribition=null,this.prevState={}}subscribeComponents(t){this.prevState=this.audio.getState,this.subscribition=this.audio.subscribe((e=>{Object.keys(e).forEach((n=>{r(this.prevState[n],e[n])||t.forEach((t=>{if(t.isWatching(n)){const r={[n]:e[n]};t.$audioHasChanged(r)}}))})),this.prevState=this.audio.getState}))}unsubscribeFromAudio(){this.subscribition.unsubscribe()}}class x{constructor(t){this.store=t,this.subscribition=null,this.prevState={}}subscribeComponents(t){this.prevState=this.store.getState(),this.subscribition=this.store.subscribe((e=>{Object.keys(e).forEach((n=>{r(this.prevState[n],e[n])||t.forEach((t=>{if(t.isWatching(n)){const r={[n]:e[n]};t.$storeHasChanged(r),t.reRenderComponent()}}))})),this.prevState=this.store.getState()}))}unsubscribeFromStore(){this.subscribition.unsubscribe()}}class O extends b{constructor(t,e){super(t,{name:"Player",listeners:["click"],watch:["shuffledTrackList","isFetching","play","currentTrackId"],...e})}$storeHasChanged(){}get template(){return function(t){const{shuffledTrackList:e,isFetching:n,currentTrackId:r,play:i}=t;return n?'\n    <div class="loader">\n      <div class="lds-facebook">\n      <div></div>\n      <div></div>\n      <div></div>\n    </div>\n    </div>\n  ':e.length?e.map(((t,e)=>function(t,e,n,r){const i=n===t.hashId&&r?"pause":"play",o=(t.hashId,m(`${i}`,"",`${i}`));return`\n    <li\n      data-action="${i}"\n      data-type="track-item"\n      data-id="${t.hashId}"\n      class="track-list__item">\n        ${o}\n      <div class="track-list__number">${e+1}</div>\n      <div class="track-list__name">${t.name}</div>\n      <div class="track-list__size">${t.size}</div>\n    </li>\n\n  `}(t,e,r,i))).join(""):"Треков не найдено :("}(this.$getState())}renderComponent(){return this.template}onClick(t){const e=d(t.target).closest('[data-type="track-item"]');if(e.currentElement)if("play"===e.attr("data-action")){this.$dispatch(S(0));const{trackList:t,currentTrackId:n,currentTrackVolume:r,mute:i,repeat:o}=this.$getState(),a={volume:r,muted:i,loop:o},u=e.attr("data-id");if(n!==u){const e=s(t,u);this.audio.init(t[e].url,a),this.$dispatch(T(u)),this.$dispatch(w(!0)),this.audio.play()}else this.audio.play(),this.$dispatch(w(!0))}else"pause"===e.attr("data-action")&&(this.audio.pause(),this.$dispatch(w(!1)))}}!function(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}(O,"className","track-list");class P extends b{constructor(t,e){super(t,{name:"Uploader",listeners:["change","click"],watch:["tracksForUpload"],...e})}async fetchData(){this.$dispatch(E(!0));const t=await this.api.getMusicList();if(t.length>0){this.$dispatch({type:"SET_TRACK_LIST",payload:t});const{trackList:e,currentTrackVolume:n,currentTrackId:r,currentAudioTimePosition:i,mute:o,play:u,repeat:c,shuffle:h}=this.$getState();h?this.$dispatch(A(a(t))):this.$dispatch(A(t));const f={currentTime:i,volume:n,muted:o,loop:c,play:u},l=s(e,r);if(-1!==l)this.$dispatch(T(r)),this.audio.init(e[l].url,f);else{const t=e[0].hash;this.$dispatch(T(t)),this.audio.init(e[0].url,f)}}this.$dispatch(E(!1))}componentDidMount(){this.fetchData()}get template(){return`\n      <div class="uploader__buttons">\n        <input id="file" accept=".mp3,audio/*" multiple="true" type="file" class="uploader__input">\n        <button data-action="open" class="uploader__btn">Открыть</button>\n        <button data-action ="upload" class="uploader__btn">Загрузить на сервер</button>\n      </div>\n      ${t=this.$getState().tracksForUpload,t.length?`\n      <ul class="uploader__files-list">\n        ${t.map(((t,e)=>{const n=100===t.uploadProgress?"background-color: green;":"";return`\n      <li class="list-item">\n        <div class="list-item__info">${e+1} ${t.file.name}</div>\n        <div class="list-item__progress">\n          <div style="${n} width: ${t.uploadProgress||0}%" data-id="${e}" class="progress-bar"></div>\n        </div>\n      </li>`})).join("")}\n      </ul>\n    `:""}\n    `;var t}renderComponent(){return this.template}onChange(t){if(!t.target.files.length)return;const e=Array.from(t.target.files),n=e.map((t=>({file:t,uploadProgress:0})));e.forEach((t=>{t.type.match("audio")?this.$dispatch({type:"UPDATE_TRACKS_FOR_UPLOAD",payload:n}):alert("Не музыка")}))}async onClick(t){const e=d(t.target),n=e.closest(".uploader");if("open"===e.attr("data-action"))n.find("input").click();else if("upload"===e.attr("data-action")){const{tracksForUpload:t}=this.$getState();t.forEach(((t,e)=>{const n=this.api.put(t.file);n.on("state-change",(t=>{const n=t.bytesTransferred/t.totalBytes*100;this.$dispatch({type:"SET_UPLOAD_PROGRESS",payload:{idx:e,percentage:n}})}),(t=>{console.log(`Some ${t} has occured`)}),(async()=>{const{name:t,size:e,md5Hash:r}=await n.snapshot.ref.getMetadata(),i=await n.snapshot.ref.getDownloadURL();await this.api.findTrackByHashId(r)||this.api.createCollectionRecord(r,t,i,e),this.fetchData()}))}))}}}!function(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}(P,"className","uploader");var R=function(t,e){return(R=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function D(t,e){function n(){this.constructor=t}R(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var C=function(){return(C=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function L(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{u(r.next(t))}catch(t){o(t)}}function a(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){t.done?i(t.value):function(t){return t instanceof n?t:new n((function(e){e(t)}))}(t.value).then(s,a)}u((r=r.apply(t,e||[])).next())}))}function M(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function j(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function U(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(j(arguments[e]));return t}function F(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}function V(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&q(n)&&(t[n]=V(t[n],e[n]));return t}function q(t){return"__proto__"!==t}var B=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch((function(){})),1===t.length?t(n):t(n,r))}},t}();function G(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function z(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(t){return!1}}var H=function(t){function e(n,r,i){var o=t.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,K.prototype.create),o}return D(e,t),e}(Error),K=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],s=o?W(o,r):"Error",a=this.serviceName+": "+s+" ("+i+").",u=new H(i,a,r);return u},t}();function W(t,e){return t.replace(X,(function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"}))}var X=/\{\$([^}]+)}/g;function $(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Y(t,e){var n=new Q(t,e);return n.subscribe.bind(n)}!function(){function t(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}t.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},t.prototype.compress_=function(t,e){e||(e=0);var n=this.W_;if("string"==typeof t)for(var r=0;r<16;r++)n[r]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(r=0;r<16;r++)n[r]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(r=16;r<80;r++){var i=n[r-3]^n[r-8]^n[r-14]^n[r-16];n[r]=4294967295&(i<<1|i>>>31)}var o,s,a=this.chain_[0],u=this.chain_[1],c=this.chain_[2],h=this.chain_[3],f=this.chain_[4];for(r=0;r<80;r++)r<40?r<20?(o=h^u&(c^h),s=1518500249):(o=u^c^h,s=1859775393):r<60?(o=u&c|h&(u|c),s=2400959708):(o=u^c^h,s=3395469782),i=(a<<5|a>>>27)+o+f+s+n[r]&4294967295,f=h,h=c,c=4294967295&(u<<30|u>>>2),u=a,a=i;this.chain_[0]=this.chain_[0]+a&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+h&4294967295,this.chain_[4]=this.chain_[4]+f&4294967295},t.prototype.update=function(t,e){if(null!=t){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<e;){if(0===o)for(;r<=n;)this.compress_(t,r),r+=this.blockSize;if("string"==typeof t){for(;r<e;)if(i[o]=t.charCodeAt(r),++r,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<e;)if(i[o]=t[r],++r,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=e}},t.prototype.digest=function(){var t=[],e=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&e,e/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)t[r]=this.chain_[n]>>i&255,++r;return t}}();var Q=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then((function(){t(n)})).catch((function(t){n.error(t)}))}return t.prototype.next=function(t){this.forEachObserver((function(e){e.next(t)}))},t.prototype.error=function(t){this.forEachObserver((function(e){e.error(t)})),this.close(t)},t.prototype.complete=function(){this.forEachObserver((function(t){t.complete()})),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=J),void 0===r.error&&(r.error=J),void 0===r.complete&&(r.complete=J);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}})),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(t){"undefined"!=typeof console&&console.error&&console.error(t)}}))},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then((function(){e.observers=void 0,e.onNoObservers=void 0})))},t}();function J(){}var Z,tt=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t}(),et="[DEFAULT]",nt=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(t){void 0===t&&(t=et);var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new B;this.instancesDeferred.set(e,n);try{var r=this.getOrInitializeService(e);r&&n.resolve(r)}catch(t){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=C({identifier:et,optional:!1},t),n=e.identifier,r=e.optional,i=this.normalizeInstanceIdentifier(n);try{var o=this.getOrInitializeService(i);if(!o){if(r)return null;throw Error("Service "+this.name+" is not available")}return o}catch(t){if(r)return null;throw t}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService(et)}catch(t){}try{for(var r=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(this.instancesDeferred.entries()),i=r.next();!i.done;i=r.next()){var o=j(i.value,2),s=o[0],a=o[1],u=this.normalizeInstanceIdentifier(s);try{var c=this.getOrInitializeService(u);a.resolve(c)}catch(t){}}}catch(t){e={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}},t.prototype.clearInstance=function(t){void 0===t&&(t=et),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return L(this,void 0,void 0,(function(){var t;return M(this,(function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(U(t.filter((function(t){return"INTERNAL"in t})).map((function(t){return t.INTERNAL.delete()})),t.filter((function(t){return"_delete"in t})).map((function(t){return t._delete()}))))];case 1:return e.sent(),[2]}}))}))},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.isInitialized=function(t){return void 0===t&&(t=et),this.instances.has(t)},t.prototype.getOrInitializeService=function(t){var e=this.instances.get(t);return!e&&this.component&&(e=this.component.instanceFactory(this.container,function(t){return t===et?void 0:t}(t)),this.instances.set(t,e)),e||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:et:t},t}(),rt=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new nt(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}();function it(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}var ot,st=[];!function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"}(ot||(ot={}));var at,ut={debug:ot.DEBUG,verbose:ot.VERBOSE,info:ot.INFO,warn:ot.WARN,error:ot.ERROR,silent:ot.SILENT},ct=ot.INFO,ht=((Z={})[ot.DEBUG]="log",Z[ot.VERBOSE]="log",Z[ot.INFO]="info",Z[ot.WARN]="warn",Z[ot.ERROR]="error",Z),ft=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(e<t.logLevel)){var i=(new Date).toISOString(),o=ht[e];if(!o)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[o].apply(console,it(["["+i+"]  "+t.name+":"],n))}},lt=function(){function t(t){this.name=t,this._logLevel=ct,this._logHandler=ft,this._userLogHandler=null,st.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in ot))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?ut[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,it([this,ot.DEBUG],t)),this._logHandler.apply(this,it([this,ot.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,it([this,ot.VERBOSE],t)),this._logHandler.apply(this,it([this,ot.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,it([this,ot.INFO],t)),this._logHandler.apply(this,it([this,ot.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,it([this,ot.WARN],t)),this._logHandler.apply(this,it([this,ot.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,it([this,ot.ERROR],t)),this._logHandler.apply(this,it([this,ot.ERROR],t))},t}();function pt(t){st.forEach((function(e){e.setLogLevel(t)}))}var dt,vt=((at={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",at["bad-app-name"]="Illegal App name: '{$appName}",at["duplicate-app"]="Firebase App named '{$appName}' already exists",at["app-deleted"]="Firebase App named '{$appName}' already deleted",at["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",at["invalid-log-argument"]="First argument to `onLog` must be null or a function.",at),yt=new K("app","Firebase",vt),gt="@firebase/app",mt="[DEFAULT]",bt=((dt={})[gt]="fire-core",dt["@firebase/analytics"]="fire-analytics",dt["@firebase/auth"]="fire-auth",dt["@firebase/database"]="fire-rtdb",dt["@firebase/functions"]="fire-fn",dt["@firebase/installations"]="fire-iid",dt["@firebase/messaging"]="fire-fcm",dt["@firebase/performance"]="fire-perf",dt["@firebase/remote-config"]="fire-rc",dt["@firebase/storage"]="fire-gcs",dt["@firebase/firestore"]="fire-fst",dt["fire-js"]="fire-js",dt["firebase-wrapper"]="fire-js-all",dt),wt=new lt("@firebase/app"),_t=function(){function t(t,e,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=function(t){return V(void 0,t)}(t),this.container=new rt(e.name),this._addComponent(new tt("app",(function(){return r}),"PUBLIC")),this.firebase_.INTERNAL.components.forEach((function(t){return r._addComponent(t)}))}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise((function(e){t.checkDestroyed_(),e()})).then((function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map((function(t){return t.delete()})))})).then((function(){t.isDeleted_=!0}))},t.prototype._getService=function(t,e){return void 0===e&&(e=mt),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e=mt),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){wt.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw yt.create("app-deleted",{appName:this.name_})},t}();_t.prototype.name&&_t.prototype.options||_t.prototype.delete||console.log("dc");var It=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var o=i;void 0===o.name&&(o.name=mt);var s=o.name;if("string"!=typeof s||!s)throw yt.create("bad-app-name",{appName:String(s)});if($(e,s))throw yt.create("duplicate-app",{appName:s});var a=new t(n,o,r);return e[s]=a,a},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=bt[t])&&void 0!==r?r:t;n&&(i+="-"+n);var s=i.match(/\s|\//),a=e.match(/\s|\//);if(s||a){var u=['Unable to register library "'+i+'" with version "'+e+'":'];return s&&u.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),s&&a&&u.push("and"),a&&u.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void wt.warn(u.join(" "))}o(new tt(i+"-version",(function(){return{library:i,version:e}}),"VERSION"))},setLogLevel:pt,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw yt.create("invalid-log-argument");!function(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=ut[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var s=i.map((function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(t){return null}})).filter((function(t){return t})).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:ot[n].toLowerCase(),message:s,args:i,type:e.name})}},r=0,i=st;r<i.length;r++)n(i[r])}(t,e)},apps:null,SDK_VERSION:"8.2.9",INTERNAL:{registerComponent:o,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(!$(e,t=t||mt))throw yt.create("no-app",{appName:t});return e[t]}function o(o){var s=o.name;if(n.has(s))return wt.debug("There were multiple attempts to register component "+s+"."),"PUBLIC"===o.type?r[s]:null;if(n.set(s,o),"PUBLIC"===o.type){var a=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[s])throw yt.create("invalid-app-argument",{appName:s});return t[s]()};void 0!==o.serviceProps&&V(a,o.serviceProps),r[s]=a,t.prototype[s]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._getService.bind(this,s).apply(this,o.multipleInstances?t:[])}}for(var u=0,c=Object.keys(e);u<c.length;u++){var h=c[u];e[h]._addComponent(o)}return"PUBLIC"===o.type?r[s]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map((function(t){return e[t]}))}}),i.App=t,r}(_t);return e.INTERNAL=C(C({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){V(e,t)},createSubscribe:Y,ErrorFactory:K,deepExtend:V}),e}(),Et=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null})).filter((function(t){return t})).join(" ")},t}();if("object"==typeof self&&self.self===self&&void 0!==self.firebase){wt.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var Tt=self.firebase.SDK_VERSION;Tt&&Tt.indexOf("LITE")>=0&&wt.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var St=It.initializeApp;It.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return z()&&wt.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),St.apply(void 0,t)};var At=It;!function(t,e){t.INTERNAL.registerComponent(new tt("platform-logger",(function(t){return new Et(t)}),"PRIVATE")),t.registerVersion(gt,"0.6.15",void 0),t.registerVersion("fire-js","")}(At);const Nt=At;Nt.registerVersion("firebase","8.2.9","app");var kt="firebasestorage.googleapis.com",xt=function(t){function e(n,r){var i=t.call(this,Ot(n),"Firebase Storage: "+r+" ("+Ot(n)+")")||this;return i.customData={serverResponse:null},Object.setPrototypeOf(i,e.prototype),i}return D(e,t),e.prototype._codeEquals=function(t){return Ot(t)===this.code},Object.defineProperty(e.prototype,"message",{get:function(){return this.customData.serverResponse?this.message+"\n"+this.customData.serverResponse:this.message},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(t){this.customData.serverResponse=t},enumerable:!1,configurable:!0}),e}(H);function Ot(t){return"storage/"+t}function Pt(){return new xt("unknown","An unknown error occurred, please check the error payload for server response.")}function Rt(){return new xt("canceled","User canceled the upload/download.")}function Dt(){return new xt("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function Ct(t){return new xt("invalid-argument",t)}function Lt(){return new xt("app-deleted","The Firebase app was deleted.")}function Mt(t){return new xt("invalid-root-operation","The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function jt(t,e){return new xt("invalid-format","String does not match format '"+t+"': "+e)}function Ut(t){throw new xt("internal-error","Internal error: "+t)}var Ft={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},Vt=function(t,e){this.data=t,this.contentType=e||null};function qt(t,e){switch(t){case Ft.RAW:return new Vt(Bt(e));case Ft.BASE64:case Ft.BASE64URL:return new Vt(Gt(t,e));case Ft.DATA_URL:return new Vt((n=new Ht(e)).base64?Gt(Ft.BASE64,n.rest):function(t){var e;try{e=decodeURIComponent(t)}catch(t){throw jt(Ft.DATA_URL,"Malformed data URL.")}return Bt(e)}(n.rest),new Ht(e).contentType)}var n;throw Pt()}function Bt(t){for(var e=[],n=0;n<t.length;n++){var r=t.charCodeAt(n);r<=127?e.push(r):r<=2047?e.push(192|r>>6,128|63&r):55296==(64512&r)?n<t.length-1&&56320==(64512&t.charCodeAt(n+1))?(r=65536|(1023&r)<<10|1023&t.charCodeAt(++n),e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)):e.push(239,191,189):56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function Gt(t,e){switch(t){case Ft.BASE64:var n=-1!==e.indexOf("-"),r=-1!==e.indexOf("_");if(n||r)throw jt(t,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case Ft.BASE64URL:var i=-1!==e.indexOf("+"),o=-1!==e.indexOf("/");if(i||o)throw jt(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/")}var s;try{s=atob(e)}catch(e){throw jt(t,"Invalid character found")}for(var a=new Uint8Array(s.length),u=0;u<s.length;u++)a[u]=s.charCodeAt(u);return a}var zt,Ht=function(t){this.base64=!1,this.contentType=null;var e=t.match(/^data:([^,]+)?,/);if(null===e)throw jt(Ft.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var n,r,i=e[1]||null;null!=i&&(this.base64=(r=";base64",(n=i).length>=r.length&&n.substring(n.length-r.length)===r),this.contentType=this.base64?i.substring(0,i.length-";base64".length):i),this.rest=t.substring(t.indexOf(",")+1)},Kt={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Wt(t){switch(t){case"running":case"pausing":case"canceling":return Kt.RUNNING;case"paused":return Kt.PAUSED;case"success":return Kt.SUCCESS;case"canceled":return Kt.CANCELED;case"error":default:return Kt.ERROR}}!function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"}(zt||(zt={}));var Xt=function(){function t(){var t=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=zt.NO_ERROR,this.sendPromise_=new Promise((function(e){t.xhr_.addEventListener("abort",(function(){t.errorCode_=zt.ABORT,e(t)})),t.xhr_.addEventListener("error",(function(){t.errorCode_=zt.NETWORK_ERROR,e(t)})),t.xhr_.addEventListener("load",(function(){e(t)}))}))}return t.prototype.send=function(t,e,n,r){if(this.sent_)throw Ut("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,t,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_},t.prototype.getErrorCode=function(){if(!this.sent_)throw Ut("cannot .getErrorCode() before sending");return this.errorCode_},t.prototype.getStatus=function(){if(!this.sent_)throw Ut("cannot .getStatus() before sending");try{return this.xhr_.status}catch(t){return-1}},t.prototype.getResponseText=function(){if(!this.sent_)throw Ut("cannot .getResponseText() before sending");return this.xhr_.responseText},t.prototype.abort=function(){this.xhr_.abort()},t.prototype.getResponseHeader=function(t){return this.xhr_.getResponseHeader(t)},t.prototype.addUploadProgressListener=function(t){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",t)},t.prototype.removeUploadProgressListener=function(t){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",t)},t}(),$t=function(){function t(){}return t.prototype.createXhrIo=function(){return new Xt},t}();function Yt(t){return"string"==typeof t||t instanceof String}function Qt(t){return Jt()&&t instanceof Blob}function Jt(){return"undefined"!=typeof Blob}function Zt(t,e,n,r){if(r<e)throw Ct("Invalid value for '"+t+"'. Expected "+e+" or greater.");if(r>n)throw Ct("Invalid value for '"+t+"'. Expected "+n+" or less.")}function te(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function ee(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=te();if(void 0!==n){for(var r=new n,i=0;i<t.length;i++)r.append(t[i]);return r.getBlob()}if(Jt())return new Blob(t);throw new xt("unsupported-environment","This browser doesn't seem to support creating Blobs")}var ne=function(){function t(t,e){var n=0,r="";Qt(t)?(this.data_=t,n=t.size,r=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),n=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),n=t.length),this.size_=n,this.type_=r}return t.prototype.size=function(){return this.size_},t.prototype.type=function(){return this.type_},t.prototype.slice=function(e,n){if(Qt(this.data_)){var r=(i=this.data_,o=e,s=n,i.webkitSlice?i.webkitSlice(o,s):i.mozSlice?i.mozSlice(o,s):i.slice?i.slice(o,s):null);return null===r?null:new t(r)}var i,o,s;return new t(new Uint8Array(this.data_.buffer,e,n-e),!0)},t.getBlob=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(Jt()){var r=e.map((function(e){return e instanceof t?e.data_:e}));return new t(ee.apply(null,r))}var i=e.map((function(t){return Yt(t)?qt(Ft.RAW,t).data:t.data_})),o=0;i.forEach((function(t){o+=t.byteLength}));var s=new Uint8Array(o),a=0;return i.forEach((function(t){for(var e=0;e<t.length;e++)s[a++]=t[e]})),new t(s,!0)},t.prototype.uploadData=function(){return this.data_},t}(),re=function(){function t(t,e){this.bucket=t,this.path_=e}return Object.defineProperty(t.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isRoot",{get:function(){return 0===this.path.length},enumerable:!1,configurable:!0}),t.prototype.fullServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)},t.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},t.makeFromBucketSpec=function(e){var n;try{n=t.makeFromUrl(e)}catch(n){return new t(e,"")}if(""===n.path)return n;throw new xt("invalid-default-bucket","Invalid default bucket '"+e+"'.")},t.makeFromUrl=function(e){var n=null,r="([A-Za-z0-9.\\-_]+)",i=new RegExp("^gs://"+r+"(/(.*))?$","i");function o(t){t.path_=decodeURIComponent(t.path)}for(var s=kt.replace(/[.]/g,"\\."),a=[{regex:i,indices:{bucket:1,path:3},postModify:function(t){"/"===t.path.charAt(t.path.length-1)&&(t.path_=t.path_.slice(0,-1))}},{regex:new RegExp("^https?://"+s+"/v[A-Za-z0-9_]+/b/"+r+"/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:o},{regex:new RegExp("^https?://(?:storage.googleapis.com|storage.cloud.google.com)/"+r+"/([^?#]*)","i"),indices:{bucket:1,path:2},postModify:o}],u=0;u<a.length;u++){var c=a[u],h=c.regex.exec(e);if(h){var f=h[c.indices.bucket],l=h[c.indices.path];l||(l=""),n=new t(f,l),c.postModify(n);break}}if(null==n)throw function(t){return new xt("invalid-url","Invalid URL '"+t+"'.")}(e);return n},t}();function ie(t){var e;try{e=JSON.parse(t)}catch(t){return null}return function(t){return"object"==typeof t&&!Array.isArray(t)}(e)?e:null}function oe(t){var e=t.lastIndexOf("/",t.length-2);return-1===e?t:t.slice(e+1)}function se(t){return"https://"+kt+"/v0"+t}function ae(t){var e=encodeURIComponent,n="?";for(var r in t)t.hasOwnProperty(r)&&(n=n+(e(r)+"=")+e(t[r])+"&");return n.slice(0,-1)}function ue(t,e){return e}var ce=function(t,e,n,r){this.server=t,this.local=e||t,this.writable=!!n,this.xform=r||ue},he=null;function fe(){if(he)return he;var t=[];t.push(new ce("bucket")),t.push(new ce("generation")),t.push(new ce("metageneration")),t.push(new ce("name","fullPath",!0));var e=new ce("name");e.xform=function(t,e){return function(t){return!Yt(t)||t.length<2?t:oe(t)}(e)},t.push(e);var n=new ce("size");return n.xform=function(t,e){return void 0!==e?Number(e):e},t.push(n),t.push(new ce("timeCreated")),t.push(new ce("updated")),t.push(new ce("md5Hash",null,!0)),t.push(new ce("cacheControl",null,!0)),t.push(new ce("contentDisposition",null,!0)),t.push(new ce("contentEncoding",null,!0)),t.push(new ce("contentLanguage",null,!0)),t.push(new ce("contentType",null,!0)),t.push(new ce("metadata","customMetadata",!0)),he=t}function le(t,e,n){var r=ie(e);return null===r?null:function(t,e,n){for(var r={type:"file"},i=n.length,o=0;o<i;o++){var s=n[o];r[s.local]=s.xform(r,e[s.server])}return function(t,e){Object.defineProperty(t,"ref",{get:function(){var n=t.bucket,r=t.fullPath,i=new re(n,r);return e._makeStorageReference(i)}})}(r,t),r}(t,r,n)}function pe(t,e){for(var n={},r=e.length,i=0;i<r;i++){var o=e[i];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}var de=function(t,e,n,r){this.url=t,this.method=e,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]};function ve(t){if(!t)throw Pt()}function ye(t,e){return function(n,r){var i=le(t,r,e);return ve(null!==i),i}}function ge(t){return function(e,n){var r,i,o;return 401===e.getStatus()?r=new xt("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===e.getStatus()?(o=t.bucket,r=new xt("quota-exceeded","Quota for bucket '"+o+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===e.getStatus()?(i=t.path,r=new xt("unauthorized","User does not have permission to access '"+i+"'.")):r=n,r.serverResponse=n.serverResponse,r}}function me(t){var e=ge(t);return function(n,r){var i,o=e(n,r);return 404===n.getStatus()&&(i=t.path,o=new xt("object-not-found","Object '"+i+"' does not exist.")),o.serverResponse=r.serverResponse,o}}function be(t,e,n){var r=se(e.fullServerUrl()),i=t.maxOperationRetryTime,o=new de(r,"GET",ye(t,n),i);return o.errorHandler=me(e),o}function we(t,e,n,r,i){var o={};e.isRoot?o.prefix="":o.prefix=e.path+"/",n&&n.length>0&&(o.delimiter=n),r&&(o.pageToken=r),i&&(o.maxResults=i);var s=se(e.bucketOnlyServerUrl()),a=t.maxOperationRetryTime,u=new de(s,"GET",function(t,e){return function(n,r){var i=function(t,e,n){var r=ie(n);return null===r?null:function(t,e,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n.prefixes)for(var i=0,o=n.prefixes;i<o.length;i++){var s=o[i].replace(/\/$/,""),a=t._makeStorageReference(new re(e,s));r.prefixes.push(a)}if(n.items)for(var u=0,c=n.items;u<c.length;u++){var h=c[u];a=t._makeStorageReference(new re(e,h.name)),r.items.push(a)}return r}(t,e,r)}(t,e,r);return ve(null!==i),i}}(t,e.bucket),a);return u.urlParams=o,u.errorHandler=ge(e),u}function _e(t,e,n){var r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=function(t,e){return e&&e.type()||"application/octet-stream"}(0,e)),r}var Ie=function(t,e,n,r){this.current=t,this.total=e,this.finalized=!!n,this.metadata=r||null};function Ee(t,e){var n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch(t){ve(!1)}return ve(!!n&&-1!==(e||["active"]).indexOf(n)),n}var Te=262144;var Se=function(t,e,n){if(function(t){return"function"==typeof t}(t)||null!=e||null!=n)this.next=t,this.error=e,this.complete=n;else{var r=t;this.next=r.next,this.error=r.error,this.complete=r.complete}};function Ae(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];Promise.resolve().then((function(){return t.apply(void 0,e)}))}}var Ne=function(){function t(t,e,n){var r=this;void 0===n&&(n=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=e,this._metadata=n,this._mappings=fe(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(t){r._request=void 0,r._chunkMultiplier=1,t._codeEquals("canceled")?(r._needToFetchStatus=!0,r.completeTransitions_()):(r._error=t,r._transition("error"))},this._metadataErrorHandler=function(t){r._request=void 0,t._codeEquals("canceled")?r.completeTransitions_():(r._error=t,r._transition("error"))},this._promise=new Promise((function(t,e){r._resolve=t,r._reject=e,r._start()})),this._promise.then(null,(function(){}))}return t.prototype._makeProgressCallback=function(){var t=this,e=this._transferred;return function(n){return t._updateProgress(e+n)}},t.prototype._shouldDoResumable=function(t){return t.size()>262144},t.prototype._start=function(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},t.prototype._resolveToken=function(t){var e=this;this._ref.storage._getAuthToken().then((function(n){switch(e._state){case"running":t(n);break;case"canceling":e._transition("canceled");break;case"pausing":e._transition("paused")}}))},t.prototype._createResumable=function(){var t=this;this._resolveToken((function(e){var n=function(t,e,n,r,i){var o=e.bucketOnlyServerUrl(),s=_e(e,r,i),a={name:s.fullPath},u=se(o),c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":r.size(),"X-Goog-Upload-Header-Content-Type":s.contentType,"Content-Type":"application/json; charset=utf-8"},h=pe(s,n),f=t.maxUploadRetryTime,l=new de(u,"POST",(function(t){var e;Ee(t);try{e=t.getResponseHeader("X-Goog-Upload-URL")}catch(t){ve(!1)}return ve(Yt(e)),e}),f);return l.urlParams=a,l.headers=c,l.body=h,l.errorHandler=ge(e),l}(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),r=t._ref.storage._makeRequest(n,e);t._request=r,r.getPromise().then((function(e){t._request=void 0,t._uploadUrl=e,t._needToFetchStatus=!1,t.completeTransitions_()}),t._errorHandler)}))},t.prototype._fetchStatus=function(){var t=this,e=this._uploadUrl;this._resolveToken((function(n){var r=function(t,e,n,r){var i=t.maxUploadRetryTime,o=new de(n,"POST",(function(t){var e=Ee(t,["active","final"]),n=null;try{n=t.getResponseHeader("X-Goog-Upload-Size-Received")}catch(t){ve(!1)}n||ve(!1);var i=Number(n);return ve(!isNaN(i)),new Ie(i,r.size(),"final"===e)}),i);return o.headers={"X-Goog-Upload-Command":"query"},o.errorHandler=ge(e),o}(t._ref.storage,t._ref._location,e,t._blob),i=t._ref.storage._makeRequest(r,n);t._request=i,i.getPromise().then((function(e){e=e,t._request=void 0,t._updateProgress(e.current),t._needToFetchStatus=!1,e.finalized&&(t._needToFetchMetadata=!0),t.completeTransitions_()}),t._errorHandler)}))},t.prototype._continueUpload=function(){var t=this,e=Te*this._chunkMultiplier,n=new Ie(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((function(i){var o;try{o=function(t,e,n,r,i,o,s,a){var u=new Ie(0,0);if(s?(u.current=s.current,u.total=s.total):(u.current=0,u.total=r.size()),r.size()!==u.total)throw new xt("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var c=u.total-u.current,h=c;i>0&&(h=Math.min(h,i));var f=u.current,l=f+h,p={"X-Goog-Upload-Command":h===c?"upload, finalize":"upload","X-Goog-Upload-Offset":u.current},d=r.slice(f,l);if(null===d)throw Dt();var v=e.maxUploadRetryTime,y=new de(n,"POST",(function(t,n){var i,s=Ee(t,["active","final"]),a=u.current+h,c=r.size();return i="final"===s?ye(e,o)(t,n):null,new Ie(a,c,"final"===s,i)}),v);return y.headers=p,y.body=d.uploadData(),y.progressCallback=a||null,y.errorHandler=ge(t),y}(t._ref._location,t._ref.storage,r,t._blob,e,t._mappings,n,t._makeProgressCallback())}catch(e){return t._error=e,void t._transition("error")}var s=t._ref.storage._makeRequest(o,i);t._request=s,s.getPromise().then((function(e){t._increaseMultiplier(),t._request=void 0,t._updateProgress(e.current),e.finalized?(t._metadata=e.metadata,t._transition("success")):t.completeTransitions_()}),t._errorHandler)}))},t.prototype._increaseMultiplier=function(){Te*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)},t.prototype._fetchMetadata=function(){var t=this;this._resolveToken((function(e){var n=be(t._ref.storage,t._ref._location,t._mappings),r=t._ref.storage._makeRequest(n,e);t._request=r,r.getPromise().then((function(e){t._request=void 0,t._metadata=e,t._transition("success")}),t._metadataErrorHandler)}))},t.prototype._oneShotUpload=function(){var t=this;this._resolveToken((function(e){var n=function(t,e,n,r,i){var o=e.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"},a=function(){for(var t="",e=0;e<2;e++)t+=Math.random().toString().slice(2);return t}();s["Content-Type"]="multipart/related; boundary="+a;var u=_e(e,r,i),c="--"+a+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+pe(u,n)+"\r\n--"+a+"\r\nContent-Type: "+u.contentType+"\r\n\r\n",h="\r\n--"+a+"--",f=ne.getBlob(c,r,h);if(null===f)throw Dt();var l={name:u.fullPath},p=se(o),d=t.maxUploadRetryTime,v=new de(p,"POST",ye(t,n),d);return v.urlParams=l,v.headers=s,v.body=f.uploadData(),v.errorHandler=ge(e),v}(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),r=t._ref.storage._makeRequest(n,e);t._request=r,r.getPromise().then((function(e){t._request=void 0,t._metadata=e,t._updateProgress(t._blob.size()),t._transition("success")}),t._errorHandler)}))},t.prototype._updateProgress=function(t){var e=this._transferred;this._transferred=t,this._transferred!==e&&this._notifyObservers()},t.prototype._transition=function(t){if(this._state!==t)switch(t){case"canceling":case"pausing":this._state=t,void 0!==this._request&&this._request.cancel();break;case"running":var e="paused"===this._state;this._state=t,e&&(this._notifyObservers(),this._start());break;case"paused":this._state=t,this._notifyObservers();break;case"canceled":this._error=Rt(),this._state=t,this._notifyObservers();break;case"error":case"success":this._state=t,this._notifyObservers()}},t.prototype.completeTransitions_=function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}},Object.defineProperty(t.prototype,"snapshot",{get:function(){var t=Wt(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:t,metadata:this._metadata,task:this,ref:this._ref}},enumerable:!1,configurable:!0}),t.prototype.on=function(t,e,n,r){var i=this,o=new Se(e,n,r);return this._addObserver(o),function(){i._removeObserver(o)}},t.prototype.then=function(t,e){return this._promise.then(t,e)},t.prototype.catch=function(t){return this.then(null,t)},t.prototype._addObserver=function(t){this._observers.push(t),this._notifyObserver(t)},t.prototype._removeObserver=function(t){var e=this._observers.indexOf(t);-1!==e&&this._observers.splice(e,1)},t.prototype._notifyObservers=function(){var t=this;this._finishPromise(),this._observers.slice().forEach((function(e){t._notifyObserver(e)}))},t.prototype._finishPromise=function(){if(void 0!==this._resolve){var t=!0;switch(Wt(this._state)){case Kt.SUCCESS:Ae(this._resolve.bind(null,this.snapshot))();break;case Kt.CANCELED:case Kt.ERROR:Ae(this._reject.bind(null,this._error))();break;default:t=!1}t&&(this._resolve=void 0,this._reject=void 0)}},t.prototype._notifyObserver=function(t){switch(Wt(this._state)){case Kt.RUNNING:case Kt.PAUSED:t.next&&Ae(t.next.bind(t,this.snapshot))();break;case Kt.SUCCESS:t.complete&&Ae(t.complete.bind(t))();break;case Kt.CANCELED:case Kt.ERROR:t.error&&Ae(t.error.bind(t,this._error))();break;default:t.error&&Ae(t.error.bind(t,this._error))()}},t.prototype.resume=function(){var t="paused"===this._state||"pausing"===this._state;return t&&this._transition("running"),t},t.prototype.pause=function(){var t="running"===this._state;return t&&this._transition("pausing"),t},t.prototype.cancel=function(){var t="running"===this._state||"pausing"===this._state;return t&&this._transition("canceling"),t},t}(),ke=function(){function t(t,e){this._service=t,this._location=e instanceof re?e:re.makeFromUrl(e)}return t.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},t.prototype._newRef=function(e,n){return new t(e,n)},Object.defineProperty(t.prototype,"root",{get:function(){var t=new re(this._location.bucket,"");return this._newRef(this._service,t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return oe(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=function(t){if(0===t.length)return null;var e=t.lastIndexOf("/");return-1===e?"":t.slice(0,e)}(this._location.path);if(null===e)return null;var n=new re(this._location.bucket,e);return new t(this._service,n)},enumerable:!1,configurable:!0}),t.prototype._throwIfRoot=function(t){if(""===this._location.path)throw Mt(t)},t}();function xe(t){var e={prefixes:[],items:[]};return Oe(t,e).then((function(){return e}))}function Oe(t,e,n){return L(this,void 0,void 0,(function(){var r,i,o;return M(this,(function(s){switch(s.label){case 0:return[4,Pe(t,{pageToken:n})];case 1:return r=s.sent(),(i=e.prefixes).push.apply(i,r.prefixes),(o=e.items).push.apply(o,r.items),null==r.nextPageToken?[3,3]:[4,Oe(t,e,r.nextPageToken)];case 2:s.sent(),s.label=3;case 3:return[2]}}))}))}function Pe(t,e){return L(this,void 0,void 0,(function(){var n,r,i;return M(this,(function(o){switch(o.label){case 0:return null!=e&&"number"==typeof e.maxResults&&Zt("options.maxResults",1,1e3,e.maxResults),[4,t.storage._getAuthToken()];case 1:return n=o.sent(),r=e||{},i=we(t.storage,t._location,"/",r.pageToken,r.maxResults),[2,t.storage._makeRequest(i,n).getPromise()]}}))}))}function Re(t){return L(this,void 0,void 0,(function(){var e,n;return M(this,(function(r){switch(r.label){case 0:return t._throwIfRoot("getDownloadURL"),[4,t.storage._getAuthToken()];case 1:return e=r.sent(),n=function(t,e,n){var r=se(e.fullServerUrl()),i=t.maxOperationRetryTime,o=new de(r,"GET",function(t,e){return function(n,r){var i=le(t,r,e);return ve(null!==i),function(t,e){var n=ie(e);if(null===n)return null;if(!Yt(n.downloadTokens))return null;var r=n.downloadTokens;if(0===r.length)return null;var i=encodeURIComponent;return r.split(",").map((function(e){var n=t.bucket,r=t.fullPath;return se("/b/"+i(n)+"/o/"+i(r))+ae({alt:"media",token:e})}))[0]}(i,r)}}(t,n),i);return o.errorHandler=me(e),o}(t.storage,t._location,fe()),[2,t.storage._makeRequest(n,e).getPromise().then((function(t){if(null===t)throw new xt("no-download-url","The given file does not have any download URLs.");return t}))]}}))}))}function De(t,e){var n=function(t,e){var n=e.split("/").filter((function(t){return t.length>0})).join("/");return 0===t.length?n:t+"/"+n}(t._location.path,e),r=new re(t._location.bucket,n);return new ke(t.storage,r)}var Ce=function(){function t(t,e,n){this._delegate=t,this.task=e,this.ref=n}return Object.defineProperty(t.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),t}(),Le=function(){function t(t,e){this._delegate=t,this._ref=e,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return Object.defineProperty(t.prototype,"snapshot",{get:function(){return new Ce(this._delegate.snapshot,this,this._ref)},enumerable:!1,configurable:!0}),t.prototype.then=function(t,e){var n=this;return this._delegate.then((function(e){if(t)return t(new Ce(e,n,n._ref))}),e)},t.prototype.on=function(t,e,n,r){var i=this,o=void 0;return e&&(o="function"==typeof e?function(t){return e(new Ce(t,i,i._ref))}:{next:e.next?function(t){return e.next(new Ce(t,i,i._ref))}:void 0,complete:e.complete||void 0,error:e.error||void 0}),this._delegate.on(t,o,n||void 0,r||void 0)},t}(),Me=function(){function t(t,e){this._delegate=t,this._service=e}return Object.defineProperty(t.prototype,"prefixes",{get:function(){var t=this;return this._delegate.prefixes.map((function(e){return new je(e,t._service)}))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"items",{get:function(){var t=this;return this._delegate.items.map((function(e){return new je(e,t._service)}))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),t}(),je=function(){function t(t,e){this._delegate=t,this.storage=e}return Object.defineProperty(t.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),t.prototype.toString=function(){return this._delegate.toString()},t.prototype.child=function(e){return new t(De(this._delegate,e),this.storage)},Object.defineProperty(t.prototype,"root",{get:function(){return new t(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._delegate.parent;return null==e?null:new t(e,this.storage)},enumerable:!1,configurable:!0}),t.prototype.put=function(t,e){return this._throwIfRoot("put"),new Le(function(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new Ne(t,new ne(e),n)}(this._delegate,t,e),this)},t.prototype.putString=function(t,e,n){void 0===e&&(e=Ft.RAW),this._throwIfRoot("putString");var r=qt(e,t),i=C({},n);return null==i.contentType&&null!=r.contentType&&(i.contentType=r.contentType),new Le(new Ne(this._delegate,new ne(r.data,!0),i),this)},t.prototype.listAll=function(){var t=this;return xe(this._delegate).then((function(e){return new Me(e,t.storage)}))},t.prototype.list=function(t){var e=this;return Pe(this._delegate,t).then((function(t){return new Me(t,e.storage)}))},t.prototype.getMetadata=function(){return function(t){return L(this,void 0,void 0,(function(){var e,n;return M(this,(function(r){switch(r.label){case 0:return t._throwIfRoot("getMetadata"),[4,t.storage._getAuthToken()];case 1:return e=r.sent(),n=be(t.storage,t._location,fe()),[2,t.storage._makeRequest(n,e).getPromise()]}}))}))}(this._delegate)},t.prototype.updateMetadata=function(t){return function(t,e){return L(this,void 0,void 0,(function(){var n,r;return M(this,(function(i){switch(i.label){case 0:return t._throwIfRoot("updateMetadata"),[4,t.storage._getAuthToken()];case 1:return n=i.sent(),r=function(t,e,n,r){var i=se(e.fullServerUrl()),o=pe(n,r),s=t.maxOperationRetryTime,a=new de(i,"PATCH",ye(t,r),s);return a.headers={"Content-Type":"application/json; charset=utf-8"},a.body=o,a.errorHandler=me(e),a}(t.storage,t._location,e,fe()),[2,t.storage._makeRequest(r,n).getPromise()]}}))}))}(this._delegate,t)},t.prototype.getDownloadURL=function(){return Re(this._delegate)},t.prototype.delete=function(){return this._throwIfRoot("delete"),function(t){return L(this,void 0,void 0,(function(){var e,n;return M(this,(function(r){switch(r.label){case 0:return t._throwIfRoot("deleteObject"),[4,t.storage._getAuthToken()];case 1:return e=r.sent(),n=function(t,e){var n=se(e.fullServerUrl()),r=t.maxOperationRetryTime,i=new de(n,"DELETE",(function(t,e){}),r);return i.successCodes=[200,204],i.errorHandler=me(e),i}(t.storage,t._location),[2,t.storage._makeRequest(n,e).getPromise()]}}))}))}(this._delegate)},t.prototype._throwIfRoot=function(t){if(""===this._delegate._location.path)throw Mt(t)},t}(),Ue=function(){function t(t){this.promise_=Promise.reject(t)}return t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){},t}(),Fe=function(){function t(t,e,n,r,i,o,s,a,u,c,h){var f=this;this.pendingXhr_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=t,this.method_=e,this.headers_=n,this.body_=r,this.successCodes_=i.slice(),this.additionalRetryCodes_=o.slice(),this.callback_=s,this.errorCallback_=a,this.progressCallback_=c,this.timeout_=u,this.pool_=h,this.promise_=new Promise((function(t,e){f.resolve_=t,f.reject_=e,f.start_()}))}return t.prototype.start_=function(){var t=this;function e(e,n){var r,i=t.resolve_,o=t.reject_,s=n.xhr;if(n.wasSuccessCode)try{var a=t.callback_(s,s.getResponseText());!function(t){return void 0!==t}(a)?i():i(a)}catch(t){o(t)}else null!==s?((r=Pt()).serverResponse=s.getResponseText(),t.errorCallback_?o(t.errorCallback_(s,r)):o(r)):n.canceled?o(r=t.appDelete_?Lt():Rt()):o(r=new xt("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}this.canceled_?e(0,new Ve(!1,null,!0)):this.backoffId_=function(e,n,r){var i=1,o=null,s=!1,a=0;function u(){return 2===a}var c=!1;function h(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];c||(c=!0,n.apply(null,t))}function f(e){o=setTimeout((function(){o=null,function(e,n){if(n)e(!1,new Ve(!1,null,!0));else{var r=t.pool_.createXhrIo();t.pendingXhr_=r,null!==t.progressCallback_&&r.addUploadProgressListener(i),r.send(t.url_,t.method_,t.body_,t.headers_).then((function(n){null!==t.progressCallback_&&n.removeUploadProgressListener(i),t.pendingXhr_=null;var r=(n=n).getErrorCode()===zt.NO_ERROR,o=n.getStatus();if(r&&!t.isRetryStatusCode_(o)){var s=-1!==t.successCodes_.indexOf(o);e(!0,new Ve(s,n))}else{var a=n.getErrorCode()===zt.ABORT;e(!1,new Ve(!1,null,a))}}))}function i(e){var n=e.loaded,r=e.lengthComputable?e.total:-1;null!==t.progressCallback_&&t.progressCallback_(n,r)}}(l,u())}),e)}function l(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(!c)if(t)h.call.apply(h,F([null,t],e));else{var r;u()||s?h.call.apply(h,F([null,t],e)):(i<64&&(i*=2),1===a?(a=2,r=0):r=1e3*(i+Math.random()),f(r))}}var p=!1;function d(t){p||(p=!0,c||(null!==o?(t||(a=2),clearTimeout(o),f(0)):t||(a=1)))}return f(0),setTimeout((function(){s=!0,d(!0)}),r),d}(0,e,this.timeout_)},t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&function(t){t(!1)}(this.backoffId_),null!==this.pendingXhr_&&this.pendingXhr_.abort()},t.prototype.isRetryStatusCode_=function(t){var e=t>=500&&t<600,n=-1!==[408,429].indexOf(t),r=-1!==this.additionalRetryCodes_.indexOf(t);return e||n||r},t}(),Ve=function(t,e,n){this.wasSuccessCode=t,this.xhr=e,this.canceled=!!n};function qe(t){return/^[A-Za-z]+:\/\//.test(t)}function Be(t,e){if(t instanceof Ke){var n=t;if(null==n._bucket)throw new xt("no-default-bucket","No default bucket found. Did you set the 'storageBucket' property when initializing the app?");var r=new ke(n,n._bucket);return null!=e?Be(r,e):r}if(void 0!==e){if(e.includes(".."))throw Ct('`path` param cannot contain ".."');return De(t,e)}return t}function Ge(t,e){if(e&&qe(e)){if(t instanceof Ke)return new ke(t,e);throw Ct("To use ref(service, url), the first argument must be a Storage instance.")}return Be(t,e)}var ze,He,Ke=function(){function t(t,e,n,r,i){var o,s;this.app=t,this._authProvider=e,this._pool=n,this._url=r,this._firebaseVersion=i,this._bucket=null,this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?re.makeFromBucketSpec(r):null==(s=null==(o=this.app.options)?void 0:o.storageBucket)?null:re.makeFromBucketSpec(s)}return Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(t){Zt("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(t){Zt("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t},enumerable:!1,configurable:!0}),t.prototype._getAuthToken=function(){return L(this,void 0,void 0,(function(){var t,e;return M(this,(function(n){switch(n.label){case 0:return(t=this._authProvider.getImmediate({optional:!0}))?[4,t.getToken()]:[3,2];case 1:if(null!==(e=n.sent()))return[2,e.accessToken];n.label=2;case 2:return[2,null]}}))}))},t.prototype._delete=function(){return this._deleted=!0,this._requests.forEach((function(t){return t.cancel()})),this._requests.clear(),Promise.resolve()},t.prototype._makeStorageReference=function(t){return new ke(this,t)},t.prototype._makeRequest=function(t,e){var n=this;if(this._deleted)return new Ue(Lt());var r=function(t,e,n,r,i){var o=ae(t.urlParams),s=t.url+o,a=Object.assign({},t.headers);return function(t,e){e&&(t["X-Firebase-GMPID"]=e)}(a,e),function(t,e){null!==e&&e.length>0&&(t.Authorization="Firebase "+e)}(a,n),function(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(null!=e?e:"AppManager")}(a,i),new Fe(s,t.method,a,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,r)}(t,this._appId,e,this._pool,this._firebaseVersion);return this._requests.add(r),r.getPromise().then((function(){return n._requests.delete(r)}),(function(){return n._requests.delete(r)})),r},t}(),We=function(){function t(t,e){var n=this;this.app=t,this._delegate=e,this.INTERNAL={delete:function(){return n._delegate._delete()}}}return Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),t.prototype.ref=function(t){if(qe(t))throw Ct("ref() expected a child path but got a URL, use refFromURL instead.");return new je(Ge(this._delegate,t),this)},t.prototype.refFromURL=function(t){if(!qe(t))throw Ct("refFromURL() expected a full URL but got a child path, use ref() instead.");try{re.makeFromUrl(t)}catch(t){throw Ct("refFromUrl() expected a valid full URL but got an invalid one.")}return new je(Ge(this._delegate,t),this)},t.prototype.setMaxUploadRetryTime=function(t){this._delegate.maxUploadRetryTime=t},t.prototype.setMaxOperationRetryTime=function(t){this._delegate.maxOperationRetryTime=t},t}();He={TaskState:Kt,TaskEvent:{STATE_CHANGED:"state_changed"},StringFormat:Ft,Storage:Ke,Reference:je},(ze=Nt).INTERNAL.registerComponent(new tt("storage",(function(t,e){var n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal");return new We(n,new Ke(n,r,new $t,e,Nt.SDK_VERSION))}),"PUBLIC").setServiceProps(He).setMultipleInstances(!0)),ze.registerVersion("@firebase/storage","0.4.3"),function(){var t,e="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){t!=Array.prototype&&t!=Object.prototype&&(t[e]=n.value)},r=function(t){t=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof n.g&&n.g,t];for(var e=0;e<t.length;++e){var r=t[e];if(r&&r.Math==Math)return r}return globalThis}(this);function i(t){var e=0;return function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}}}function o(t){var e="undefined"!=typeof Symbol&&Symbol.iterator&&t[Symbol.iterator];return e?e.call(t):{next:i(t)}}!function(t,n){if(n){var i=r;t=t.split(".");for(var o=0;o<t.length-1;o++){var s=t[o];s in i||(i[s]={}),i=i[s]}(n=n(o=i[t=t[t.length-1]]))!=o&&null!=n&&e(i,t,{configurable:!0,writable:!0,value:n})}}("Promise",(function(t){function e(t){this.b=0,this.c=void 0,this.a=[];var e=this.f();try{t(e.resolve,e.reject)}catch(t){e.reject(t)}}function n(){this.a=null}function i(t){return t instanceof e?t:new e((function(e){e(t)}))}if(t)return t;n.prototype.b=function(t){if(null==this.a){this.a=[];var e=this;this.c((function(){e.g()}))}this.a.push(t)};var s=r.setTimeout;n.prototype.c=function(t){s(t,0)},n.prototype.g=function(){for(;this.a&&this.a.length;){var t=this.a;this.a=[];for(var e=0;e<t.length;++e){var n=t[e];t[e]=null;try{n()}catch(t){this.f(t)}}}this.a=null},n.prototype.f=function(t){this.c((function(){throw t}))},e.prototype.f=function(){function t(t){return function(r){n||(n=!0,t.call(e,r))}}var e=this,n=!1;return{resolve:t(this.m),reject:t(this.g)}},e.prototype.m=function(t){if(t===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(t instanceof e)this.s(t);else{t:switch(typeof t){case"object":var n=null!=t;break t;case"function":n=!0;break t;default:n=!1}n?this.v(t):this.h(t)}},e.prototype.v=function(t){var e=void 0;try{e=t.then}catch(t){return void this.g(t)}"function"==typeof e?this.u(e,t):this.h(t)},e.prototype.g=function(t){this.i(2,t)},e.prototype.h=function(t){this.i(1,t)},e.prototype.i=function(t,e){if(0!=this.b)throw Error("Cannot settle("+t+", "+e+"): Promise already settled in state"+this.b);this.b=t,this.c=e,this.l()},e.prototype.l=function(){if(null!=this.a){for(var t=0;t<this.a.length;++t)a.b(this.a[t]);this.a=null}};var a=new n;return e.prototype.s=function(t){var e=this.f();t.Qa(e.resolve,e.reject)},e.prototype.u=function(t,e){var n=this.f();try{t.call(e,n.resolve,n.reject)}catch(t){n.reject(t)}},e.prototype.then=function(t,n){function r(t,e){return"function"==typeof t?function(e){try{i(t(e))}catch(t){o(t)}}:e}var i,o,s=new e((function(t,e){i=t,o=e}));return this.Qa(r(t,i),r(n,o)),s},e.prototype.catch=function(t){return this.then(void 0,t)},e.prototype.Qa=function(t,e){function n(){switch(r.b){case 1:t(r.c);break;case 2:e(r.c);break;default:throw Error("Unexpected state: "+r.b)}}var r=this;null==this.a?a.b(n):this.a.push(n)},e.resolve=i,e.reject=function(t){return new e((function(e,n){n(t)}))},e.race=function(t){return new e((function(e,n){for(var r=o(t),s=r.next();!s.done;s=r.next())i(s.value).Qa(e,n)}))},e.all=function(t){var n=o(t),r=n.next();return r.done?i([]):new e((function(t,e){function o(e){return function(n){s[e]=n,0==--a&&t(s)}}var s=[],a=0;do{s.push(void 0),a++,i(r.value).Qa(o(s.length-1),e),r=n.next()}while(!r.done)}))},e}));var s=s||{},a=this||self,u=/^[\w+/_-]+[=]{0,2}$/,c=null;function h(t){return(t=t.querySelector&&t.querySelector("script[nonce]"))&&(t=t.nonce||t.getAttribute("nonce"))&&u.test(t)?t:""}function f(){}function l(t){var e=typeof t;return"object"!=e?e:t?Array.isArray(t)?"array":e:"null"}function p(t){var e=l(t);return"array"==e||"object"==e&&"number"==typeof t.length}function d(t){return"function"==l(t)}function v(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}function y(t){return Object.prototype.hasOwnProperty.call(t,g)&&t[g]||(t[g]=++m)}var g="closure_uid_"+(1e9*Math.random()>>>0),m=0;function b(t,e,n){return t.call.apply(t.bind,arguments)}function w(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function _(t,e,n){return(_=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?b:w).apply(null,arguments)}function I(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}var E=Date.now;function T(t,e){function n(){}n.prototype=e.prototype,t.ab=e.prototype,t.prototype=new n,t.prototype.constructor=t}function S(t){return t}function A(t,e,n){this.code=x+t,this.message=e||O[t]||"",this.a=n||null}function N(t){var e=t&&t.code;return e?new A(e.substring(x.length),t.message,t.serverResponse):null}T(A,Error),A.prototype.w=function(){var t={code:this.code,message:this.message};return this.a&&(t.serverResponse=this.a),t},A.prototype.toJSON=function(){return this.w()};var k,x="auth/",O={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},P={ld:{Ta:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Za:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Wa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},sd:{Ta:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",Za:"https://securetoken.googleapis.com/v1/token",Wa:"https://identitytoolkit.googleapis.com/v2/",id:"p"},ud:{Ta:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Za:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Wa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},vd:{Ta:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",Za:"https://test-securetoken.sandbox.googleapis.com/v1/token",Wa:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function R(t){for(var e in P)if(P[e].id===t)return{firebaseEndpoint:(t=P[e]).Ta,secureTokenEndpoint:t.Za,identityPlatformEndpoint:t.Wa};return null}function D(t){if(!t)return!1;try{return!!t.$goog_Thenable}catch(t){return!1}}function C(t){if(Error.captureStackTrace)Error.captureStackTrace(this,C);else{var e=Error().stack;e&&(this.stack=e)}t&&(this.message=String(t))}function L(t,e){for(var n="",r=(t=t.split("%s")).length-1,i=0;i<r;i++)n+=t[i]+(i<e.length?e[i]:"%s");C.call(this,n+t[r])}function M(t,e){throw new L("Failure"+(t?": "+t:""),Array.prototype.slice.call(arguments,1))}function j(t,e){this.c=t,this.f=e,this.b=0,this.a=null}function U(t,e){t.f(e),100>t.b&&(t.b++,e.next=t.a,t.a=e)}function F(){this.b=this.a=null}k=R("__EID__")?"__EID__":void 0,T(C,Error),C.prototype.name="CustomError",T(L,C),L.prototype.name="AssertionError",j.prototype.get=function(){if(0<this.b){this.b--;var t=this.a;this.a=t.next,t.next=null}else t=this.c();return t};var V=new j((function(){return new B}),(function(t){t.reset()}));function q(){var t=we,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function B(){this.next=this.b=this.a=null}F.prototype.add=function(t,e){var n=V.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},B.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},B.prototype.reset=function(){this.next=this.b=this.a=null};var G=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},z=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)},H=Array.prototype.filter?function(t,e){return Array.prototype.filter.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=[],i=0,o="string"==typeof t?t.split(""):t,s=0;s<n;s++)if(s in o){var a=o[s];e.call(void 0,a,s,t)&&(r[i++]=a)}return r},K=Array.prototype.map?function(t,e){return Array.prototype.map.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=Array(n),i="string"==typeof t?t.split(""):t,o=0;o<n;o++)o in i&&(r[o]=e.call(void 0,i[o],o,t));return r},W=Array.prototype.some?function(t,e){return Array.prototype.some.call(t,e,void 0)}:function(t,e){for(var n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t))return!0;return!1};function X(t,e){return 0<=G(t,e)}function $(t,e){var n;return(n=0<=(e=G(t,e)))&&Array.prototype.splice.call(t,e,1),n}function Y(t,e){!function(t,e){for(var n="string"==typeof t?t.split(""):t,r=t.length-1;0<=r;--r)r in n&&e.call(void 0,n[r],r,t)}(t,(function(n,r){e.call(void 0,n,r,t)&&Array.prototype.splice.call(t,r,1).length}))}function Q(t){return Array.prototype.concat.apply([],arguments)}function J(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}var Z,tt=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]},et=/&/g,nt=/</g,rt=/>/g,it=/"/g,ot=/'/g,st=/\x00/g,at=/[\x00&<>"']/;function ut(t,e){return-1!=t.indexOf(e)}function ct(t,e){return t<e?-1:t>e?1:0}t:{var ht=a.navigator;if(ht){var ft=ht.userAgent;if(ft){Z=ft;break t}}Z=""}function lt(t){return ut(Z,t)}function pt(t,e){for(var n in t)e.call(void 0,t[n],n,t)}function dt(t){for(var e in t)return!1;return!0}function vt(t){var e,n={};for(e in t)n[e]=t[e];return n}var yt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function gt(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<yt.length;o++)n=yt[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function mt(t,e){t:{try{var n=t&&t.ownerDocument,r=n&&(n.defaultView||n.parentWindow);if((r=r||a).Element&&r.Location){var i=r;break t}}catch(t){}i=null}if(i&&void 0!==i[e]&&(!t||!(t instanceof i[e])&&(t instanceof i.Location||t instanceof i.Element))){if(v(t))try{var o=t.constructor.displayName||t.constructor.name||Object.prototype.toString.call(t)}catch(t){o="<object could not be stringified>"}else o=void 0===t?"undefined":null===t?"null":typeof t;M("Argument is not a %s (or a non-Element, non-Location mock); got: %s",e,o)}}function bt(t,e){this.a=t===Et&&e||"",this.b=It}function wt(t){return t instanceof bt&&t.constructor===bt&&t.b===It?t.a:(M("expected object of type Const, got '"+t+"'"),"type_error:Const")}bt.prototype.sa=!0,bt.prototype.ra=function(){return this.a},bt.prototype.toString=function(){return"Const{"+this.a+"}"};var _t,It={},Et={};function Tt(){if(void 0===_t){var t=null,e=a.trustedTypes;if(e&&e.createPolicy){try{t=e.createPolicy("goog#html",{createHTML:S,createScript:S,createScriptURL:S})}catch(t){a.console&&a.console.error(t.message)}_t=t}else _t=t}return _t}function St(t,e){this.a=e===Pt?t:""}function At(t){return t instanceof St&&t.constructor===St?t.a:(M("expected object of type TrustedResourceUrl, got '"+t+"' of type "+l(t)),"type_error:TrustedResourceUrl")}function kt(t,e){var n=wt(t);if(!Ot.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return function(t){var e=Tt();return new St(t=e?e.createScriptURL(t):t,Pt)}(t=n.replace(xt,(function(t,r){if(!Object.prototype.hasOwnProperty.call(e,r))throw Error('Found marker, "'+r+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(e));return(t=e[r])instanceof bt?wt(t):encodeURIComponent(String(t))})))}St.prototype.sa=!0,St.prototype.ra=function(){return this.a.toString()},St.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var xt=/%{(\w+)}/g,Ot=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,Pt={};function Rt(t,e){this.a=e===Ft?t:""}function Dt(t){return t instanceof Rt&&t.constructor===Rt?t.a:(M("expected object of type SafeUrl, got '"+t+"' of type "+l(t)),"type_error:SafeUrl")}Rt.prototype.sa=!0,Rt.prototype.ra=function(){return this.a.toString()},Rt.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var Ct=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,Lt=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,Mt=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function jt(t){if(t instanceof Rt)return t;if(t="object"==typeof t&&t.sa?t.ra():String(t),Mt.test(t))t=new Rt(t,Ft);else{var e=(t=(t=String(t)).replace(/(%0A|%0D)/g,"")).match(Lt);t=e&&Ct.test(e[1])?new Rt(t,Ft):null}return t}function Ut(t){return t instanceof Rt?t:(t="object"==typeof t&&t.sa?t.ra():String(t),Mt.test(t)||(t="about:invalid#zClosurez"),new Rt(t,Ft))}var Ft={},Vt=new Rt("about:invalid#zClosurez",Ft);function qt(t,e,n){this.a=n===Bt?t:""}qt.prototype.sa=!0,qt.prototype.ra=function(){return this.a.toString()},qt.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var Bt={};function Gt(t,e,n,r){return t=t instanceof Rt?t:Ut(t),e=e||a,n=n instanceof bt?wt(n):n||"",e.open(Dt(t),n,r,void 0)}function zt(t,e){for(var n=t.split("%s"),r="",i=Array.prototype.slice.call(arguments,1);i.length&&1<n.length;)r+=n.shift()+i.shift();return r+n.join("%s")}function Ht(t){return at.test(t)&&(-1!=t.indexOf("&")&&(t=t.replace(et,"&amp;")),-1!=t.indexOf("<")&&(t=t.replace(nt,"&lt;")),-1!=t.indexOf(">")&&(t=t.replace(rt,"&gt;")),-1!=t.indexOf('"')&&(t=t.replace(it,"&quot;")),-1!=t.indexOf("'")&&(t=t.replace(ot,"&#39;")),-1!=t.indexOf("\0")&&(t=t.replace(st,"&#0;"))),t}function Kt(t){return Kt[" "](t),t}Kt[" "]=f;var Wt,Xt,$t=lt("Opera"),Yt=lt("Trident")||lt("MSIE"),Qt=lt("Edge"),Jt=Qt||Yt,Zt=lt("Gecko")&&!(ut(Z.toLowerCase(),"webkit")&&!lt("Edge"))&&!(lt("Trident")||lt("MSIE"))&&!lt("Edge"),te=ut(Z.toLowerCase(),"webkit")&&!lt("Edge");function ee(){var t=a.document;return t?t.documentMode:void 0}t:{var ne="",re=(Xt=Z,Zt?/rv:([^\);]+)(\)|;)/.exec(Xt):Qt?/Edge\/([\d\.]+)/.exec(Xt):Yt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Xt):te?/WebKit\/(\S+)/.exec(Xt):$t?/(?:Version)[ \/]?(\S+)/.exec(Xt):void 0);if(re&&(ne=re?re[1]:""),Yt){var ie=ee();if(null!=ie&&ie>parseFloat(ne)){Wt=String(ie);break t}}Wt=ne}var oe,se={};function ae(t){return function(t,e){var n=se;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,(function(){for(var e=0,n=tt(String(Wt)).split("."),r=tt(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var s=n[o]||"",a=r[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==s[0].length&&0==a[0].length)break;e=ct(0==s[1].length?0:parseInt(s[1],10),0==a[1].length?0:parseInt(a[1],10))||ct(0==s[2].length,0==a[2].length)||ct(s[2],a[2]),s=s[3],a=a[3]}while(0==e)}return 0<=e}))}a.document&&Yt?oe=ee()||parseInt(Wt,10)||void 0:oe=void 0;var ue=oe;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch(Xt){}var ce=!Yt||9<=Number(ue);function he(t){var e=document;return"string"==typeof t?e.getElementById(t):t}function fe(t,e){pt(e,(function(e,n){e&&"object"==typeof e&&e.sa&&(e=e.ra()),"style"==n?t.style.cssText=e:"class"==n?t.className=e:"for"==n?t.htmlFor=e:de.hasOwnProperty(n)?t.setAttribute(de[n],e):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?t.setAttribute(n,e):t[n]=e}))}var le,pe,de={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function ve(t,e,n){function r(n){n&&e.appendChild("string"==typeof n?t.createTextNode(n):n)}for(var i=2;i<n.length;i++){var o=n[i];if(!p(o)||v(o)&&0<o.nodeType)r(o);else{t:{if(o&&"number"==typeof o.length){if(v(o)){var s="function"==typeof o.item||"string"==typeof o.item;break t}if(d(o)){s="function"==typeof o.item;break t}}s=!1}z(s?J(o):o,r)}}}function ye(t,e){return e=String(e),"application/xhtml+xml"===t.contentType&&(e=e.toLowerCase()),t.createElement(e)}function ge(t){a.setTimeout((function(){throw t}),0)}function me(t,e){pe||function(){if(a.Promise&&a.Promise.resolve){var t=a.Promise.resolve(void 0);pe=function(){t.then(_e)}}else pe=function(){var t=_e;!d(a.setImmediate)||a.Window&&a.Window.prototype&&!lt("Edge")&&a.Window.prototype.setImmediate==a.setImmediate?(le||(le=function(){var t=a.MessageChannel;if(void 0===t&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!lt("Presto")&&(t=function(){var t=ye(document,"IFRAME");t.style.display="none",document.documentElement.appendChild(t);var e=t.contentWindow;(t=e.document).open(),t.close();var n="callImmediate"+Math.random(),r="file:"==e.location.protocol?"*":e.location.protocol+"//"+e.location.host;t=_((function(t){"*"!=r&&t.origin!=r||t.data!=n||this.port1.onmessage()}),this),e.addEventListener("message",t,!1),this.port1={},this.port2={postMessage:function(){e.postMessage(n,r)}}}),void 0!==t&&!lt("Trident")&&!lt("MSIE")){var e=new t,n={},r=n;return e.port1.onmessage=function(){if(void 0!==n.next){var t=(n=n.next).Gb;n.Gb=null,t()}},function(t){r.next={Gb:t},r=r.next,e.port2.postMessage(0)}}return function(t){a.setTimeout(t,0)}}()),le(t)):a.setImmediate(t)}}(),be||(pe(),be=!0),we.add(t,e)}var be=!1,we=new F;function _e(){for(var t;t=q();){try{t.a.call(t.b)}catch(t){ge(t)}U(V,t)}be=!1}function Ie(t,e){if(this.a=Ee,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,t!=f)try{var n=this;t.call(e,(function(t){Me(n,Te,t)}),(function(t){if(!(t instanceof Ge))try{if(t instanceof Error)throw t;throw Error("Promise rejected.")}catch(t){}Me(n,Se,t)}))}catch(t){Me(this,Se,t)}}var Ee=0,Te=2,Se=3;function Ae(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}Ae.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var Ne=new j((function(){return new Ae}),(function(t){t.reset()}));function ke(t,e,n){var r=Ne.get();return r.g=t,r.b=e,r.f=n,r}function xe(t){if(t instanceof Ie)return t;var e=new Ie(f);return Me(e,Te,t),e}function Oe(t){return new Ie((function(e,n){n(t)}))}function Pe(t,e,n){je(t,e,n,null)||me(I(e,t))}function Re(t){return new Ie((function(e){var n=t.length,r=[];if(n)for(var i=function(t,i,o){n--,r[t]=i?{Pb:!0,value:o}:{Pb:!1,reason:o},0==n&&e(r)},o=0;o<t.length;o++)Pe(t[o],I(i,o,!0),I(i,o,!1));else e(r)}))}function De(t,e){if(t.a==Ee)if(t.c){var n=t.c;if(n.b){for(var r=0,i=null,o=null,s=n.b;s&&(s.c||(r++,s.a==t&&(i=s),!(i&&1<r)));s=s.next)i||(o=s);i&&(n.a==Ee&&1==r?De(n,e):(o?((r=o).next==n.f&&(n.f=r),r.next=r.next.next):Fe(n),Ve(n,i,Se,e)))}t.c=null}else Me(t,Se,e)}function Ce(t,e){t.b||t.a!=Te&&t.a!=Se||Ue(t),t.f?t.f.next=e:t.b=e,t.f=e}function Le(t,e,n,r){var i=ke(null,null,null);return i.a=new Ie((function(t,o){i.g=e?function(n){try{var i=e.call(r,n);t(i)}catch(t){o(t)}}:t,i.b=n?function(e){try{var i=n.call(r,e);void 0===i&&e instanceof Ge?o(e):t(i)}catch(t){o(t)}}:o})),i.a.c=t,Ce(t,i),i.a}function Me(t,e,n){t.a==Ee&&(t===n&&(e=Se,n=new TypeError("Promise cannot resolve to itself")),t.a=1,je(n,t.$c,t.ad,t)||(t.i=n,t.a=e,t.c=null,Ue(t),e!=Se||n instanceof Ge||function(t,e){t.g=!0,me((function(){t.g&&Be.call(null,e)}))}(t,n)))}function je(t,e,n,r){if(t instanceof Ie)return Ce(t,ke(e||f,n||null,r)),!0;if(D(t))return t.then(e,n,r),!0;if(v(t))try{var i=t.then;if(d(i))return function(t,e,n,r,i){function o(t){s||(s=!0,r.call(i,t))}var s=!1;try{e.call(t,(function(t){s||(s=!0,n.call(i,t))}),o)}catch(t){o(t)}}(t,i,e,n,r),!0}catch(t){return n.call(r,t),!0}return!1}function Ue(t){t.h||(t.h=!0,me(t.gc,t))}function Fe(t){var e=null;return t.b&&(e=t.b,t.b=e.next,e.next=null),t.b||(t.f=null),e}function Ve(t,e,n,r){if(n==Se&&e.b&&!e.c)for(;t&&t.g;t=t.c)t.g=!1;if(e.a)e.a.c=null,qe(e,n,r);else try{e.c?e.g.call(e.f):qe(e,n,r)}catch(t){Be.call(null,t)}U(Ne,e)}function qe(t,e,n){e==Te?t.g.call(t.f,n):t.b&&t.b.call(t.f,n)}Ie.prototype.then=function(t,e,n){return Le(this,d(t)?t:null,d(e)?e:null,n)},Ie.prototype.$goog_Thenable=!0,(t=Ie.prototype).oa=function(t,e){return(t=ke(t,t,e)).c=!0,Ce(this,t),this},t.o=function(t,e){return Le(this,null,t,e)},t.cancel=function(t){if(this.a==Ee){var e=new Ge(t);me((function(){De(this,e)}),this)}},t.$c=function(t){this.a=Ee,Me(this,Te,t)},t.ad=function(t){this.a=Ee,Me(this,Se,t)},t.gc=function(){for(var t;t=Fe(this);)Ve(this,t,this.a,this.i);this.h=!1};var Be=ge;function Ge(t){C.call(this,t)}function ze(){0!=He&&(Ke[y(this)]=this),this.xa=this.xa,this.pa=this.pa}T(Ge,C),Ge.prototype.name="cancel";var He=0,Ke={};function We(t){if(!t.xa&&(t.xa=!0,t.Da(),0!=He)){var e=y(t);if(0!=He&&t.pa&&0<t.pa.length)throw Error(t+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete Ke[e]}}ze.prototype.xa=!1,ze.prototype.Da=function(){if(this.pa)for(;this.pa.length;)this.pa.shift()()};var Xe=Object.freeze||function(t){return t},$e=!Yt||9<=Number(ue),Ye=Yt&&!ae("9"),Qe=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{a.addEventListener("test",f,e),a.removeEventListener("test",f,e)}catch(t){}return t}();function Je(t,e){this.type=t,this.b=this.target=e,this.defaultPrevented=!1}function Ze(t,e){if(Je.call(this,t?t.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.b=e,e=t.relatedTarget){if(Zt){t:{try{Kt(e.nodeName);var i=!0;break t}catch(t){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:tn[t.pointerType]||"",this.a=t,t.defaultPrevented&&this.preventDefault()}}Je.prototype.preventDefault=function(){this.defaultPrevented=!0},T(Ze,Je);var tn=Xe({2:"touch",3:"pen",4:"mouse"});Ze.prototype.preventDefault=function(){Ze.ab.preventDefault.call(this);var t=this.a;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,Ye)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(t){}},Ze.prototype.g=function(){return this.a};var en="closure_listenable_"+(1e6*Math.random()|0),nn=0;function rn(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.Va=i,this.key=++nn,this.va=this.Pa=!1}function on(t){t.va=!0,t.listener=null,t.proxy=null,t.src=null,t.Va=null}function sn(t){this.src=t,this.a={},this.b=0}function an(t,e){var n=e.type;n in t.a&&$(t.a[n],e)&&(on(e),0==t.a[n].length&&(delete t.a[n],t.b--))}function un(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.va&&o.listener==e&&o.capture==!!n&&o.Va==r)return i}return-1}sn.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var s=un(t,e,r,i);return-1<s?(e=t[s],n||(e.Pa=!1)):((e=new rn(e,this.src,o,!!r,i)).Pa=n,t.push(e)),e};var cn="closure_lm_"+(1e6*Math.random()|0),hn={};function fn(t,e,n,r,i){if(r&&r.once)pn(t,e,n,r,i);else if(Array.isArray(e))for(var o=0;o<e.length;o++)fn(t,e[o],n,r,i);else n=In(n),t&&t[en]?Tn(t,e,n,v(r)?!!r.capture:!!r,i):ln(t,e,n,!1,r,i)}function ln(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=v(i)?!!i.capture:!!i,a=wn(t);if(a||(t[cn]=a=new sn(t)),!(n=a.add(e,n,r,s,o)).proxy)if(r=function(){var t=bn,e=$e?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Qe||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(yn(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}}function pn(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)pn(t,e[o],n,r,i);else n=In(n),t&&t[en]?Sn(t,e,n,v(r)?!!r.capture:!!r,i):ln(t,e,n,!0,r,i)}function dn(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)dn(t,e[o],n,r,i);else r=v(r)?!!r.capture:!!r,n=In(n),t&&t[en]?(t=t.v,(e=String(e).toString())in t.a&&-1<(n=un(o=t.a[e],n,r,i))&&(on(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--))):t&&(t=wn(t))&&(e=t.a[e.toString()],t=-1,e&&(t=un(e,n,r,i)),(n=-1<t?e[t]:null)&&vn(n))}function vn(t){if("number"!=typeof t&&t&&!t.va){var e=t.src;if(e&&e[en])an(e.v,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(yn(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=wn(e))?(an(n,t),0==n.b&&(n.src=null,e[cn]=null)):on(t)}}}function yn(t){return t in hn?hn[t]:hn[t]="on"+t}function gn(t,e,n,r){var i=!0;if((t=wn(t))&&(e=t.a[e.toString()]))for(e=e.concat(),t=0;t<e.length;t++){var o=e[t];o&&o.capture==n&&!o.va&&(o=mn(o,r),i=i&&!1!==o)}return i}function mn(t,e){var n=t.listener,r=t.Va||t.src;return t.Pa&&vn(t),n.call(r,e)}function bn(t,e){if(t.va)return!0;if(!$e){if(!e)t:{e=["window","event"];for(var n=a,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}if(e=new Ze(r=e,this),n=!0,!(0>r.keyCode||null!=r.returnValue)){t:{var i=!1;if(0==r.keyCode)try{r.keyCode=-1;break t}catch(t){i=!0}(i||null==r.returnValue)&&(r.returnValue=!0)}for(r=[],i=e.b;i;i=i.parentNode)r.push(i);for(t=t.type,i=r.length-1;0<=i;i--){e.b=r[i];var o=gn(r[i],t,!0,e);n=n&&o}for(i=0;i<r.length;i++)e.b=r[i],o=gn(r[i],t,!1,e),n=n&&o}return n}return mn(t,new Ze(e,this))}function wn(t){return(t=t[cn])instanceof sn?t:null}var _n="__closure_events_fn_"+(1e9*Math.random()>>>0);function In(t){return d(t)?t:(t[_n]||(t[_n]=function(e){return t.handleEvent(e)}),t[_n])}function En(){ze.call(this),this.v=new sn(this),this.ac=this,this.gb=null}function Tn(t,e,n,r,i){t.v.add(String(e),n,!1,r,i)}function Sn(t,e,n,r,i){t.v.add(String(e),n,!0,r,i)}function An(t,e,n,r){if(!(e=t.v.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.va&&s.capture==n){var a=s.listener,u=s.Va||s.src;s.Pa&&an(t.v,s),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}function Nn(t,e,n){if(d(t))n&&(t=_(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=_(t.handleEvent,t)}return 2147483647<Number(e)?-1:a.setTimeout(t,e||0)}function kn(t){var e=null;return new Ie((function(n,r){-1==(e=Nn((function(){n(void 0)}),t))&&r(Error("Failed to schedule timer."))})).o((function(t){throw a.clearTimeout(e),t}))}function xn(t){if(t.W&&"function"==typeof t.W)return t.W();if("string"==typeof t)return t.split("");if(p(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}function On(t){if(t.Y&&"function"==typeof t.Y)return t.Y();if(!t.W||"function"!=typeof t.W){if(p(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}for(var r in e=[],n=0,t)e[n++]=r;return e}}function Pn(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Pn)for(n=t.Y(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function Rn(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Dn(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)Dn(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function Dn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}T(En,ze),En.prototype[en]=!0,En.prototype.addEventListener=function(t,e,n,r){fn(this,t,e,n,r)},En.prototype.removeEventListener=function(t,e,n,r){dn(this,t,e,n,r)},En.prototype.dispatchEvent=function(t){var e,n=this.gb;if(n)for(e=[];n;n=n.gb)e.push(n);n=this.ac;var r=t.type||t;if("string"==typeof t)t=new Je(t,n);else if(t instanceof Je)t.target=t.target||n;else{var i=t;gt(t=new Je(r,n),i)}if(i=!0,e)for(var o=e.length-1;0<=o;o--){var s=t.b=e[o];i=An(s,r,!0,t)&&i}if(i=An(s=t.b=n,r,!0,t)&&i,i=An(s,r,!1,t)&&i,e)for(o=0;o<e.length;o++)i=An(s=t.b=e[o],r,!1,t)&&i;return i},En.prototype.Da=function(){if(En.ab.Da.call(this),this.v){var t,e=this.v;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)on(n[r]);delete e.a[t],e.b--}}this.gb=null},(t=Pn.prototype).W=function(){Rn(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},t.Y=function(){return Rn(this),this.a.concat()},t.clear=function(){this.b={},this.c=this.a.length=0},t.get=function(t,e){return Dn(this.b,t)?this.b[t]:e},t.set=function(t,e){Dn(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},t.forEach=function(t,e){for(var n=this.Y(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var Cn=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Ln(t,e){var n;this.a=this.l=this.c="",this.g=null,this.h=this.f="",this.i=!1,t instanceof Ln?(this.i=void 0!==e?e:t.i,Mn(this,t.c),this.l=t.l,this.a=t.a,jn(this,t.g),this.f=t.f,Un(this,rr(t.b)),this.h=t.h):t&&(n=String(t).match(Cn))?(this.i=!!e,Mn(this,n[1]||"",!0),this.l=Gn(n[2]||""),this.a=Gn(n[3]||"",!0),jn(this,n[4]),this.f=Gn(n[5]||"",!0),Un(this,n[6]||"",!0),this.h=Gn(n[7]||"")):(this.i=!!e,this.b=new Qn(null,this.i))}function Mn(t,e,n){t.c=n?Gn(e,!0):e,t.c&&(t.c=t.c.replace(/:$/,""))}function jn(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.g=e}else t.g=null}function Un(t,e,n){e instanceof Qn?(t.b=e,function(t,e){e&&!t.f&&(Jn(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(tr(this,e),nr(this,n,t))}),t)),t.f=e}(t.b,t.i)):(n||(e=zn(e,$n)),t.b=new Qn(e,t.i))}function Fn(t,e,n){t.b.set(e,n)}function Vn(t,e){return t.b.get(e)}function qn(t){return t instanceof Ln?new Ln(t):new Ln(t,void 0)}function Bn(t,e,n,r){var i=new Ln(null,void 0);return t&&Mn(i,t),e&&(i.a=e),n&&jn(i,n),r&&(i.f=r),i}function Gn(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function zn(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Hn),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Hn(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Ln.prototype.toString=function(){var t=[],e=this.c;e&&t.push(zn(e,Kn,!0),":");var n=this.a;return(n||"file"==e)&&(t.push("//"),(e=this.l)&&t.push(zn(e,Kn,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.g)&&t.push(":",String(n))),(n=this.f)&&(this.a&&"/"!=n.charAt(0)&&t.push("/"),t.push(zn(n,"/"==n.charAt(0)?Xn:Wn,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.h)&&t.push("#",zn(n,Yn)),t.join("")},Ln.prototype.resolve=function(t){var e=new Ln(this),n=!!t.c;n?Mn(e,t.c):n=!!t.l,n?e.l=t.l:n=!!t.a,n?e.a=t.a:n=null!=t.g;var r=t.f;if(n)jn(e,t.g);else if(n=!!t.f){if("/"!=r.charAt(0))if(this.a&&!this.f)r="/"+r;else{var i=e.f.lastIndexOf("/");-1!=i&&(r=e.f.substr(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(ut(i,"./")||ut(i,"/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var o=[],s=0;s<i.length;){var a=i[s++];"."==a?r&&s==i.length&&o.push(""):".."==a?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&s==i.length&&o.push("")):(o.push(a),r=!0)}r=o.join("/")}else r=i}return n?e.f=r:n=""!==t.b.toString(),n?Un(e,rr(t.b)):n=!!t.h,n&&(e.h=t.h),e};var Kn=/[#\/\?@]/g,Wn=/[#\?:]/g,Xn=/[#\?]/g,$n=/[#\?@]/g,Yn=/#/g;function Qn(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Jn(t){t.a||(t.a=new Pn,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function Zn(t){var e=On(t);if(void 0===e)throw Error("Keys are undefined");var n=new Qn(null,void 0);t=xn(t);for(var r=0;r<e.length;r++){var i=e[r],o=t[r];Array.isArray(o)?nr(n,i,o):n.add(i,o)}return n}function tr(t,e){Jn(t),e=ir(t,e),Dn(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Dn((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&Rn(t)))}function er(t,e){return Jn(t),e=ir(t,e),Dn(t.a.b,e)}function nr(t,e,n){tr(t,e),0<n.length&&(t.c=null,t.a.set(ir(t,e),J(n)),t.b+=n.length)}function rr(t){var e=new Qn;return e.c=t.c,t.a&&(e.a=new Pn(t.a),e.b=t.b),e}function ir(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function or(t){var e=[];return ar(new sr,t,e),e.join("")}function sr(){}function ar(t,e,n){if(null==e)n.push("null");else{if("object"==typeof e){if(Array.isArray(e)){var r=e;e=r.length,n.push("[");for(var i="",o=0;o<e;o++)n.push(i),ar(t,r[o],n),i=",";return void n.push("]")}if(!(e instanceof String||e instanceof Number||e instanceof Boolean)){for(r in n.push("{"),i="",e)Object.prototype.hasOwnProperty.call(e,r)&&"function"!=typeof(o=e[r])&&(n.push(i),hr(r,n),n.push(":"),ar(t,o,n),i=",");return void n.push("}")}e=e.valueOf()}switch(typeof e){case"string":hr(e,n);break;case"number":n.push(isFinite(e)&&!isNaN(e)?String(e):"null");break;case"boolean":n.push(String(e));break;case"function":n.push("null");break;default:throw Error("Unknown type: "+typeof e)}}}(t=Qn.prototype).add=function(t,e){Jn(this),this.c=null,t=ir(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},t.clear=function(){this.a=this.c=null,this.b=0},t.forEach=function(t,e){Jn(this),this.a.forEach((function(n,r){z(n,(function(n){t.call(e,n,r,this)}),this)}),this)},t.Y=function(){Jn(this);for(var t=this.a.W(),e=this.a.Y(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},t.W=function(t){Jn(this);var e=[];if("string"==typeof t)er(this,t)&&(e=Q(e,this.a.get(ir(this,t))));else{t=this.a.W();for(var n=0;n<t.length;n++)e=Q(e,t[n])}return e},t.set=function(t,e){return Jn(this),this.c=null,er(this,t=ir(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},t.get=function(t,e){return t&&0<(t=this.W(t)).length?String(t[0]):e},t.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.Y(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.W(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}}return this.c=t.join("&")};var ur={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},cr=/\uffff/.test("￿")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function hr(t,e){e.push('"',t.replace(cr,(function(t){var e=ur[t];return e||(e="\\u"+(65536|t.charCodeAt(0)).toString(16).substr(1),ur[t]=e),e})),'"')}function fr(){var t=Pr();return Yt&&!!ue&&11==ue||/Edge\/\d+/.test(t)}function lr(){return a.window&&a.window.location.href||self&&self.location&&self.location.href||""}function pr(t,e){e=e||a.window;var n="about:blank";t&&(n=Dt(jt(t)||Vt)),e.location.href=n}function dr(t,e){var n,r=[];for(n in t)n in e?typeof t[n]!=typeof e[n]?r.push(n):"object"==typeof t[n]&&null!=t[n]&&null!=e[n]?0<dr(t[n],e[n]).length&&r.push(n):t[n]!==e[n]&&r.push(n):r.push(n);for(n in e)n in t||r.push(n);return r}function vr(t){return!!((t=(t||Pr()).toLowerCase()).match(/android/)||t.match(/webos/)||t.match(/iphone|ipad|ipod/)||t.match(/blackberry/)||t.match(/windows phone/)||t.match(/iemobile/))}function yr(t){t=t||a.window;try{t.close()}catch(t){}}function gr(t,e,n){var r=Math.floor(1e9*Math.random()).toString();e=e||500,n=n||600;var i=(window.screen.availHeight-n)/2,o=(window.screen.availWidth-e)/2;for(s in e={width:e,height:n,top:0<i?i:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=Pr().toLowerCase(),r&&(e.target=r,ut(n,"crios/")&&(e.target="_blank")),kr(Pr())==Ar&&(t=t||"http://localhost",e.scrollbars=!0),n=t||"",(t=e)||(t={}),r=window,e=n instanceof Rt?n:jt(void 0!==n.href?n.href:String(n))||Vt,n=t.target||n.target,i=[],t)switch(s){case"width":case"height":case"top":case"left":i.push(s+"="+t[s]);break;case"target":case"noopener":case"noreferrer":break;default:i.push(s+"="+(t[s]?1:0))}var s=i.join(",");if((lt("iPhone")&&!lt("iPod")&&!lt("iPad")||lt("iPad")||lt("iPod"))&&r.navigator&&r.navigator.standalone&&n&&"_self"!=n?(mt(s=ye(document,"A"),"HTMLAnchorElement"),e=e instanceof Rt?e:Ut(e),s.href=Dt(e),s.setAttribute("target",n),t.noreferrer&&s.setAttribute("rel","noreferrer"),(t=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,r,1),s.dispatchEvent(t),s={}):t.noreferrer?(s=Gt("",r,n,s),t=Dt(e),s&&(Jt&&ut(t,";")&&(t="'"+t.replace(/'/g,"%27")+"'"),s.opener=null,t='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+Ht(t)+'">',t=new qt(t=(r=Tt())?r.createHTML(t):t,null,Bt),r=s.document)&&(r.write(function(t){return t instanceof qt&&t.constructor===qt?t.a:(M("expected object of type SafeHtml, got '"+t+"' of type "+l(t)),"type_error:SafeHtml")}(t)),r.close())):(s=Gt(e,r,n,s))&&t.noopener&&(s.opener=null),s)try{s.focus()}catch(t){}return s}var mr=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,br=/^[^@]+@[^@]+$/;function wr(){var t=null;return new Ie((function(e){"complete"==a.document.readyState?e():(t=function(){e()},pn(window,"load",t))})).o((function(e){throw dn(window,"load",t),e}))}function _r(t){return t=t||Pr(),!("file:"!==Mr()&&"ionic:"!==Mr()||!t.toLowerCase().match(/iphone|ipad|ipod|android/))}function Ir(){var t=a.window;try{return!(!t||t==t.top)}catch(t){return!1}}function Er(){return void 0!==a.WorkerGlobalScope&&"function"==typeof a.importScripts}function Tr(){return Nt.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":Nt.INTERNAL.hasOwnProperty("node")?"Node":Er()?"Worker":"Browser"}function Sr(){var t=Tr();return"ReactNative"===t||"Node"===t}var Ar="Firefox",Nr="Chrome";function kr(t){var e=t.toLowerCase();return ut(e,"opera/")||ut(e,"opr/")||ut(e,"opios/")?"Opera":ut(e,"iemobile")?"IEMobile":ut(e,"msie")||ut(e,"trident/")?"IE":ut(e,"edge/")?"Edge":ut(e,"firefox/")?Ar:ut(e,"silk/")?"Silk":ut(e,"blackberry")?"Blackberry":ut(e,"webos")?"Webos":!ut(e,"safari/")||ut(e,"chrome/")||ut(e,"crios/")||ut(e,"android")?!ut(e,"chrome/")&&!ut(e,"crios/")||ut(e,"edge/")?ut(e,"android")?"Android":(t=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==t.length?t[1]:"Other":Nr:"Safari"}var xr={md:"FirebaseCore-web",od:"FirebaseUI-web"};function Or(t,e){e=e||[];var n,r=[],i={};for(n in xr)i[xr[n]]=!0;for(n=0;n<e.length;n++)void 0!==i[e[n]]&&(delete i[e[n]],r.push(e[n]));return r.sort(),(e=r).length||(e=["FirebaseCore-web"]),"Browser"===(r=Tr())?r=kr(i=Pr()):"Worker"===r&&(r=kr(i=Pr())+"-"+r),r+"/JsCore/"+t+"/"+e.join(",")}function Pr(){return a.navigator&&a.navigator.userAgent||""}function Rr(t,e){t=t.split("."),e=e||a;for(var n=0;n<t.length&&"object"==typeof e&&null!=e;n++)e=e[t[n]];return n!=t.length&&(e=void 0),e}function Dr(){try{var t=a.localStorage,e=qr();if(t)return t.setItem(e,"1"),t.removeItem(e),!fr()||!!a.indexedDB}catch(t){return Er()&&!!a.indexedDB}return!1}function Cr(){return(Lr()||"chrome-extension:"===Mr()||_r())&&!Sr()&&Dr()&&!Er()}function Lr(){return"http:"===Mr()||"https:"===Mr()}function Mr(){return a.location&&a.location.protocol||null}function jr(t){return!vr(t=t||Pr())&&kr(t)!=Ar}function Ur(t){return void 0===t?null:or(t)}function Fr(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&null!==t[e]&&void 0!==t[e]&&(n[e]=t[e]);return n}function Vr(t){if(null!==t)return JSON.parse(t)}function qr(t){return t||Math.floor(1e9*Math.random()).toString()}function Br(t){return"Safari"!=kr(t=t||Pr())&&!t.toLowerCase().match(/iphone|ipad|ipod/)}function Gr(){var t=a.___jsl;if(t&&t.H)for(var e in t.H)if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=t.H[e].L.concat(),t.CP)for(var n=0;n<t.CP.length;n++)t.CP[n]=null}function zr(t,e){if(t>e)throw Error("Short delay should be less than long delay!");this.a=t,this.c=e,t=Pr(),e=Tr(),this.b=vr(t)||"ReactNative"===e}function Hr(){var t=a.document;return!t||void 0===t.visibilityState||"visible"==t.visibilityState}function Kr(t){try{var e=new Date(parseInt(t,10));if(!isNaN(e.getTime())&&!/[^0-9]/.test(t))return e.toUTCString()}catch(t){}return null}function Wr(){return!(!Rr("fireauth.oauthhelper",a)&&!Rr("fireauth.iframe",a))}zr.prototype.get=function(){var t=a.navigator;return!t||"boolean"!=typeof t.onLine||!Lr()&&"chrome-extension:"!==Mr()&&void 0===t.connection||t.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var Xr,$r={};function Yr(t){$r[t]||($r[t]=!0,"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(t))}try{var Qr={};Object.defineProperty(Qr,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Qr,"abcd",{configurable:!0,enumerable:!0,value:2}),Xr=2==Qr.abcd}catch(Xt){Xr=!1}function Jr(t,e,n){Xr?Object.defineProperty(t,e,{configurable:!0,enumerable:!0,value:n}):t[e]=n}function Zr(t,e){if(e)for(var n in e)e.hasOwnProperty(n)&&Jr(t,n,e[n])}function ti(t){var e={};return Zr(e,t),e}function ei(t){var e=t;if("object"==typeof t&&null!=t)for(var n in e="length"in t?[]:{},t)Jr(e,n,ei(t[n]));return e}function ni(t){var e=t&&(t[ai]?"phone":null);if(!(e&&t&&t[si]))throw new A("internal-error","Internal assert: invalid MultiFactorInfo object");Jr(this,"uid",t[si]),Jr(this,"displayName",t[ii]||null);var n=null;t[oi]&&(n=new Date(t[oi]).toUTCString()),Jr(this,"enrollmentTime",n),Jr(this,"factorId",e)}function ri(t){try{var e=new ui(t)}catch(t){e=null}return e}ni.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};var ii="displayName",oi="enrolledAt",si="mfaEnrollmentId",ai="phoneInfo";function ui(t){ni.call(this,t),Jr(this,"phoneNumber",t[ai])}function ci(t){var e={},n=t[pi],r=t[vi],i=t[yi];if(t=ri(t[di]),!i||i!=fi&&i!=li&&!n||i==li&&!r||i==hi&&!t)throw Error("Invalid checkActionCode response!");i==li?(e[mi]=n||null,e[wi]=n||null,e[gi]=r):(e[mi]=r||null,e[wi]=r||null,e[gi]=n||null),e[bi]=t||null,Jr(this,Ii,i),Jr(this,_i,ei(e))}T(ui,ni),ui.prototype.w=function(){var t=ui.ab.w.call(this);return t.phoneNumber=this.phoneNumber,t};var hi="REVERT_SECOND_FACTOR_ADDITION",fi="EMAIL_SIGNIN",li="VERIFY_AND_CHANGE_EMAIL",pi="email",di="mfaInfo",vi="newEmail",yi="requestType",gi="email",mi="fromEmail",bi="multiFactorInfo",wi="previousEmail",_i="data",Ii="operation";function Ei(t){var e=Vn(t=qn(t),Ti)||null,n=Vn(t,Si)||null,r=Vn(t,ki)||null;if(r=r&&Oi[r]||null,!e||!n||!r)throw new A("argument-error",Ti+", "+Si+"and "+ki+" are required in a valid action code URL.");Zr(this,{apiKey:e,operation:r,code:n,continueUrl:Vn(t,Ai)||null,languageCode:Vn(t,Ni)||null,tenantId:Vn(t,xi)||null})}var Ti="apiKey",Si="oobCode",Ai="continueUrl",Ni="languageCode",ki="mode",xi="tenantId",Oi={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:hi,signIn:fi,verifyAndChangeEmail:li,verifyEmail:"VERIFY_EMAIL"};function Pi(t){try{return new Ei(t)}catch(t){return null}}function Ri(t){var e=t[ji];if(void 0===e)throw new A("missing-continue-uri");if("string"!=typeof e||"string"==typeof e&&!e.length)throw new A("invalid-continue-uri");this.h=e,this.b=this.a=null,this.g=!1;var n=t[Di];if(n&&"object"==typeof n){e=n[Vi];var r=n[Ui];if(n=n[Fi],"string"==typeof e&&e.length){if(this.a=e,void 0!==r&&"boolean"!=typeof r)throw new A("argument-error",Ui+" property must be a boolean when specified.");if(this.g=!!r,void 0!==n&&("string"!=typeof n||"string"==typeof n&&!n.length))throw new A("argument-error",Fi+" property must be a non empty string when specified.");this.b=n||null}else{if(void 0!==e)throw new A("argument-error",Vi+" property must be a non empty string when specified.");if(void 0!==r||void 0!==n)throw new A("missing-android-pkg-name")}}else if(void 0!==n)throw new A("argument-error",Di+" property must be a non null object when specified.");if(this.f=null,(e=t[Mi])&&"object"==typeof e){if("string"==typeof(e=e[qi])&&e.length)this.f=e;else if(void 0!==e)throw new A("argument-error",qi+" property must be a non empty string when specified.")}else if(void 0!==e)throw new A("argument-error",Mi+" property must be a non null object when specified.");if(void 0!==(e=t[Li])&&"boolean"!=typeof e)throw new A("argument-error",Li+" property must be a boolean when specified.");if(this.c=!!e,void 0!==(t=t[Ci])&&("string"!=typeof t||"string"==typeof t&&!t.length))throw new A("argument-error",Ci+" property must be a non empty string when specified.");this.i=t||null}var Di="android",Ci="dynamicLinkDomain",Li="handleCodeInApp",Mi="iOS",ji="url",Ui="installApp",Fi="minimumVersion",Vi="packageName",qi="bundleId";function Bi(t){var e={};for(var n in e.continueUrl=t.h,e.canHandleCodeInApp=t.c,(e.androidPackageName=t.a)&&(e.androidMinimumVersion=t.b,e.androidInstallApp=t.g),e.iOSBundleId=t.f,e.dynamicLinkDomain=t.i,e)null===e[n]&&delete e[n];return e}var Gi=null;function zi(t){var e=Ki(t);if(!(e&&e.sub&&e.iss&&e.aud&&e.exp))throw Error("Invalid JWT");this.h=t,this.a=e.exp,this.i=e.sub,t=Date.now()/1e3,this.g=e.iat||(t>this.a?this.a:t),this.b=e.provider_id||e.firebase&&e.firebase.sign_in_provider||null,this.f=e.firebase&&e.firebase.tenant||null,this.c=!!e.is_anonymous||"anonymous"==this.b}function Hi(t){try{return new zi(t)}catch(t){return null}}function Ki(t){if(!t)return null;if(3!=(t=t.split(".")).length)return null;for(var e=(4-(t=t[1]).length%4)%4,n=0;n<e;n++)t+=".";try{var r=function(t){var e=[];return function(t,e){function n(e){for(;r<t.length;){var n=t.charAt(r++),i=Gi[n];if(null!=i)return i;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return e}!function(){if(!Gi){Gi={};for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),e=["+/=","+/","-_=","-_.","-_"],n=0;5>n;n++)for(var r=t.concat(e[n].split("")),i=0;i<r.length;i++){var o=r[i];void 0===Gi[o]&&(Gi[o]=i)}}}();for(var r=0;;){var i=n(-1),o=n(0),s=n(64),a=n(64);if(64===a&&-1===i)break;e(i<<2|o>>4),64!=s&&(e(o<<4&240|s>>2),64!=a&&e(s<<6&192|a))}}(t,(function(t){e.push(t)})),e}(t);for(t=[],n=e=0;e<r.length;){var i=r[e++];if(128>i)t[n++]=String.fromCharCode(i);else if(191<i&&224>i){var o=r[e++];t[n++]=String.fromCharCode((31&i)<<6|63&o)}else if(239<i&&365>i){o=r[e++];var s=r[e++],a=((7&i)<<18|(63&o)<<12|(63&s)<<6|63&r[e++])-65536;t[n++]=String.fromCharCode(55296+(a>>10)),t[n++]=String.fromCharCode(56320+(1023&a))}else o=r[e++],s=r[e++],t[n++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}return JSON.parse(t.join(""))}catch(t){}return null}zi.prototype.T=function(){return this.f},zi.prototype.l=function(){return this.c},zi.prototype.toString=function(){return this.h};var Wi="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Xi=["client_id","response_type","scope","redirect_uri","state"],$i={nd:{Ja:"locale",ua:700,ta:600,fa:"facebook.com",Xa:Xi},pd:{Ja:null,ua:500,ta:750,fa:"github.com",Xa:Xi},qd:{Ja:"hl",ua:515,ta:680,fa:"google.com",Xa:Xi},wd:{Ja:"lang",ua:485,ta:705,fa:"twitter.com",Xa:Wi},kd:{Ja:"locale",ua:640,ta:600,fa:"apple.com",Xa:[]}};function Yi(t){for(var e in $i)if($i[e].fa==t)return $i[e];return null}function Qi(t){var e={};e["facebook.com"]=no,e["google.com"]=io,e["github.com"]=ro,e["twitter.com"]=oo;var n=t&&t[Zi];try{if(n)return e[n]?new e[n](t):new eo(t);if(void 0!==t[Ji])return new to(t)}catch(t){}return null}var Ji="idToken",Zi="providerId";function to(t){var e=t[Zi];if(!e&&t[Ji]){var n=Hi(t[Ji]);n&&n.b&&(e=n.b)}if(!e)throw Error("Invalid additional user info!");"anonymous"!=e&&"custom"!=e||(e=null),n=!1,void 0!==t.isNewUser?n=!!t.isNewUser:"identitytoolkit#SignupNewUserResponse"===t.kind&&(n=!0),Jr(this,"providerId",e),Jr(this,"isNewUser",n)}function eo(t){to.call(this,t),Jr(this,"profile",ei((t=Vr(t.rawUserInfo||"{}"))||{}))}function no(t){if(eo.call(this,t),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function ro(t){if(eo.call(this,t),"github.com"!=this.providerId)throw Error("Invalid provider ID!");Jr(this,"username",this.profile&&this.profile.login||null)}function io(t){if(eo.call(this,t),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function oo(t){if(eo.call(this,t),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");Jr(this,"username",t.screenName||null)}function so(t){var e=qn(t),n=Vn(e,"link"),r=Vn(qn(n),"link");return e=Vn(e,"deep_link_id"),Vn(qn(e),"link")||e||r||n||t}function ao(t,e){if(!t&&!e)throw new A("internal-error","Internal assert: no raw session string available");if(t&&e)throw new A("internal-error","Internal assert: unable to determine the session type");this.a=t||null,this.b=e||null,this.type=this.a?uo:co}T(eo,to),T(no,eo),T(ro,eo),T(io,eo),T(oo,eo);var uo="enroll",co="signin";function ho(){}function fo(t,e){return t.then((function(t){if(t[Zs]){var n=Hi(t[Zs]);if(!n||e!=n.i)throw new A("user-mismatch");return t}throw new A("user-mismatch")})).o((function(t){throw t&&t.code&&t.code==x+"user-not-found"?new A("user-mismatch"):t}))}function lo(t,e){if(!e)throw new A("internal-error","failed to construct a credential");this.a=e,Jr(this,"providerId",t),Jr(this,"signInMethod",t)}function po(t){return{pendingToken:t.a,requestUri:"http://localhost"}}function vo(t){if(t&&t.providerId&&t.signInMethod&&0==t.providerId.indexOf("saml.")&&t.pendingToken)try{return new lo(t.providerId,t.pendingToken)}catch(t){}return null}function yo(t,e,n){if(this.a=null,e.idToken||e.accessToken)e.idToken&&Jr(this,"idToken",e.idToken),e.accessToken&&Jr(this,"accessToken",e.accessToken),e.nonce&&!e.pendingToken&&Jr(this,"nonce",e.nonce),e.pendingToken&&(this.a=e.pendingToken);else{if(!e.oauthToken||!e.oauthTokenSecret)throw new A("internal-error","failed to construct a credential");Jr(this,"accessToken",e.oauthToken),Jr(this,"secret",e.oauthTokenSecret)}Jr(this,"providerId",t),Jr(this,"signInMethod",n)}function go(t){var e={};return t.idToken&&(e.id_token=t.idToken),t.accessToken&&(e.access_token=t.accessToken),t.secret&&(e.oauth_token_secret=t.secret),e.providerId=t.providerId,t.nonce&&!t.a&&(e.nonce=t.nonce),e={postBody:Zn(e).toString(),requestUri:"http://localhost"},t.a&&(delete e.postBody,e.pendingToken=t.a),e}function mo(t){if(t&&t.providerId&&t.signInMethod){var e={idToken:t.oauthIdToken,accessToken:t.oauthTokenSecret?null:t.oauthAccessToken,oauthTokenSecret:t.oauthTokenSecret,oauthToken:t.oauthTokenSecret&&t.oauthAccessToken,nonce:t.nonce,pendingToken:t.pendingToken};try{return new yo(t.providerId,e,t.signInMethod)}catch(t){}}return null}function bo(t,e){this.Qc=e||[],Zr(this,{providerId:t,isOAuthProvider:!0}),this.Ib={},this.pb=(Yi(t)||{}).Ja||null,this.ob=null}function wo(t){if("string"!=typeof t||0!=t.indexOf("saml."))throw new A("argument-error",'SAML provider IDs must be prefixed with "saml."');bo.call(this,t,[])}function _o(t){bo.call(this,t,Xi),this.a=[]}function Io(){_o.call(this,"facebook.com")}function Eo(t){if(!t)throw new A("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return v(t)&&(e=t.accessToken),(new Io).credential({accessToken:e})}function To(){_o.call(this,"github.com")}function So(t){if(!t)throw new A("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return v(t)&&(e=t.accessToken),(new To).credential({accessToken:e})}function Ao(){_o.call(this,"google.com"),this.Ca("profile")}function No(t,e){var n=t;return v(t)&&(n=t.idToken,e=t.accessToken),(new Ao).credential({idToken:n,accessToken:e})}function ko(){bo.call(this,"twitter.com",Wi)}function xo(t,e){var n=t;if(v(n)||(n={oauthToken:t,oauthTokenSecret:e}),!n.oauthToken||!n.oauthTokenSecret)throw new A("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new yo("twitter.com",n,"twitter.com")}function Oo(t,e,n){this.a=t,this.f=e,Jr(this,"providerId","password"),Jr(this,"signInMethod",n===Ro.EMAIL_LINK_SIGN_IN_METHOD?Ro.EMAIL_LINK_SIGN_IN_METHOD:Ro.EMAIL_PASSWORD_SIGN_IN_METHOD)}function Po(t){return t&&t.email&&t.password?new Oo(t.email,t.password,t.signInMethod):null}function Ro(){Zr(this,{providerId:"password",isOAuthProvider:!1})}function Do(t,e){if(!(e=Co(e)))throw new A("argument-error","Invalid email link!");return new Oo(t,e.code,Ro.EMAIL_LINK_SIGN_IN_METHOD)}function Co(t){return(t=Pi(t=so(t)))&&t.operation===fi?t:null}function Lo(t){if(!(t.eb&&t.cb||t.La&&t.ea))throw new A("internal-error");this.a=t,Jr(this,"providerId","phone"),this.fa="phone",Jr(this,"signInMethod","phone")}function Mo(t){if(t&&"phone"===t.providerId&&(t.verificationId&&t.verificationCode||t.temporaryProof&&t.phoneNumber)){var e={};return z(["verificationId","verificationCode","temporaryProof","phoneNumber"],(function(n){t[n]&&(e[n]=t[n])})),new Lo(e)}return null}function jo(t){return t.a.La&&t.a.ea?{temporaryProof:t.a.La,phoneNumber:t.a.ea}:{sessionInfo:t.a.eb,code:t.a.cb}}function Uo(t){try{this.a=t||Nt.auth()}catch(t){throw new A("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}Zr(this,{providerId:"phone",isOAuthProvider:!1})}function Fo(t,e){if(!t)throw new A("missing-verification-id");if(!e)throw new A("missing-verification-code");return new Lo({eb:t,cb:e})}function Vo(t){if(t.temporaryProof&&t.phoneNumber)return new Lo({La:t.temporaryProof,ea:t.phoneNumber});var e=t&&t.providerId;if(!e||"password"===e)return null;var n=t&&t.oauthAccessToken,r=t&&t.oauthTokenSecret,i=t&&t.nonce,o=t&&t.oauthIdToken,s=t&&t.pendingToken;try{switch(e){case"google.com":return No(o,n);case"facebook.com":return Eo(n);case"github.com":return So(n);case"twitter.com":return xo(n,r);default:return n||r||o||s?s?0==e.indexOf("saml.")?new lo(e,s):new yo(e,{pendingToken:s,idToken:t.oauthIdToken,accessToken:t.oauthAccessToken},e):new _o(e).credential({idToken:o,accessToken:n,rawNonce:i}):null}}catch(t){return null}}function qo(t){if(!t.isOAuthProvider)throw new A("invalid-oauth-provider")}function Bo(t,e,n,r,i,o,s){if(this.c=t,this.b=e||null,this.g=n||null,this.f=r||null,this.i=o||null,this.h=s||null,this.a=i||null,!this.g&&!this.a)throw new A("invalid-auth-event");if(this.g&&this.a)throw new A("invalid-auth-event");if(this.g&&!this.f)throw new A("invalid-auth-event")}function Go(t){return(t=t||{}).type?new Bo(t.type,t.eventId,t.urlResponse,t.sessionId,t.error&&N(t.error),t.postBody,t.tenantId):null}function zo(){this.b=null,this.a=[]}ao.prototype.Ha=function(){return this.a?xe(this.a):xe(this.b)},ao.prototype.w=function(){return this.type==uo?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}},ho.prototype.ka=function(){},ho.prototype.b=function(){},ho.prototype.c=function(){},ho.prototype.w=function(){},lo.prototype.ka=function(t){return wa(t,po(this))},lo.prototype.b=function(t,e){var n=po(this);return n.idToken=e,_a(t,n)},lo.prototype.c=function(t,e){return fo(Ia(t,po(this)),e)},lo.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},yo.prototype.ka=function(t){return wa(t,go(this))},yo.prototype.b=function(t,e){var n=go(this);return n.idToken=e,_a(t,n)},yo.prototype.c=function(t,e){return fo(Ia(t,go(this)),e)},yo.prototype.w=function(){var t={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(t.oauthIdToken=this.idToken),this.accessToken&&(t.oauthAccessToken=this.accessToken),this.secret&&(t.oauthTokenSecret=this.secret),this.nonce&&(t.nonce=this.nonce),this.a&&(t.pendingToken=this.a),t},bo.prototype.Ka=function(t){return this.Ib=vt(t),this},T(wo,bo),T(_o,bo),_o.prototype.Ca=function(t){return X(this.a,t)||this.a.push(t),this},_o.prototype.Qb=function(){return J(this.a)},_o.prototype.credential=function(t,e){var n;if(!(n=v(t)?{idToken:t.idToken||null,accessToken:t.accessToken||null,nonce:t.rawNonce||null}:{idToken:t||null,accessToken:e||null}).idToken&&!n.accessToken)throw new A("argument-error","credential failed: must provide the ID token and/or the access token.");return new yo(this.providerId,n,this.providerId)},T(Io,_o),Jr(Io,"PROVIDER_ID","facebook.com"),Jr(Io,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),T(To,_o),Jr(To,"PROVIDER_ID","github.com"),Jr(To,"GITHUB_SIGN_IN_METHOD","github.com"),T(Ao,_o),Jr(Ao,"PROVIDER_ID","google.com"),Jr(Ao,"GOOGLE_SIGN_IN_METHOD","google.com"),T(ko,bo),Jr(ko,"PROVIDER_ID","twitter.com"),Jr(ko,"TWITTER_SIGN_IN_METHOD","twitter.com"),Oo.prototype.ka=function(t){return this.signInMethod==Ro.EMAIL_LINK_SIGN_IN_METHOD?ru(t,Oa,{email:this.a,oobCode:this.f}):ru(t,Ja,{email:this.a,password:this.f})},Oo.prototype.b=function(t,e){return this.signInMethod==Ro.EMAIL_LINK_SIGN_IN_METHOD?ru(t,Pa,{idToken:e,email:this.a,oobCode:this.f}):ru(t,za,{idToken:e,email:this.a,password:this.f})},Oo.prototype.c=function(t,e){return fo(this.ka(t),e)},Oo.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}},Zr(Ro,{PROVIDER_ID:"password"}),Zr(Ro,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),Zr(Ro,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),Lo.prototype.ka=function(t){return t.fb(jo(this))},Lo.prototype.b=function(t,e){var n=jo(this);return n.idToken=e,ru(t,tu,n)},Lo.prototype.c=function(t,e){var n=jo(this);return n.operation="REAUTH",fo(t=ru(t,eu,n),e)},Lo.prototype.w=function(){var t={providerId:"phone"};return this.a.eb&&(t.verificationId=this.a.eb),this.a.cb&&(t.verificationCode=this.a.cb),this.a.La&&(t.temporaryProof=this.a.La),this.a.ea&&(t.phoneNumber=this.a.ea),t},Uo.prototype.fb=function(t,e){var n=this.a.a;return xe(e.verify()).then((function(r){if("string"!=typeof r)throw new A("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(e.type){case"recaptcha":var i=v(t)?t.session:null,o=v(t)?t.phoneNumber:t;return(i&&i.type==uo?i.Ha().then((function(t){return function(t,e){return ru(t,Ka,e).then((function(t){return t.phoneSessionInfo.sessionInfo}))}(n,{idToken:t,phoneEnrollmentInfo:{phoneNumber:o,recaptchaToken:r}})})):i&&i.type==co?i.Ha().then((function(e){return function(t,e){return ru(t,Wa,e).then((function(t){return t.phoneResponseInfo.sessionInfo}))}(n,{mfaPendingCredential:e,mfaEnrollmentId:t.multiFactorHint&&t.multiFactorHint.uid||t.multiFactorUid,phoneSignInInfo:{recaptchaToken:r}})})):function(t,e){return ru(t,Ba,e)}(n,{phoneNumber:o,recaptchaToken:r})).then((function(t){return"function"==typeof e.reset&&e.reset(),t}),(function(t){throw"function"==typeof e.reset&&e.reset(),t}));default:throw new A("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}}))},Zr(Uo,{PROVIDER_ID:"phone"}),Zr(Uo,{PHONE_SIGN_IN_METHOD:"phone"}),Bo.prototype.getUid=function(){var t=[];return t.push(this.c),this.b&&t.push(this.b),this.f&&t.push(this.f),this.h&&t.push(this.h),t.join("-")},Bo.prototype.T=function(){return this.h},Bo.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};var Ho,Ko=null;function Wo(t){var e="unauthorized-domain",n=void 0,r=qn(t);t=r.a,"chrome-extension"==(r=r.c)?n=zt("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):"http"==r||"https"==r?n=zt("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):e="operation-not-supported-in-this-environment",A.call(this,e,n)}function Xo(t,e,n){A.call(this,t,n),(t=e||{}).Jb&&Jr(this,"email",t.Jb),t.ea&&Jr(this,"phoneNumber",t.ea),t.credential&&Jr(this,"credential",t.credential),t.Zb&&Jr(this,"tenantId",t.Zb)}function $o(t){if(t.code){var e=t.code||"";0==e.indexOf(x)&&(e=e.substring(x.length));var n={credential:Vo(t),Zb:t.tenantId};if(t.email)n.Jb=t.email;else if(t.phoneNumber)n.ea=t.phoneNumber;else if(!n.credential)return new A(e,t.message||void 0);return new Xo(e,n,t.message)}return null}function Yo(){}function Qo(t){return t.c||(t.c=t.b())}function Jo(){}function Zo(t){if(!t.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var e=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<e.length;n++){var r=e[n];try{return new ActiveXObject(r),t.f=r}catch(t){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return t.f}function ts(){}function es(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=_(this.qc,this),this.a.onerror=_(this.Sb,this),this.a.onprogress=_(this.rc,this),this.a.ontimeout=_(this.vc,this)}function ns(t,e){t.readyState=e,t.onreadystatechange&&t.onreadystatechange()}function rs(t,e,n){this.reset(t,e,n,void 0,void 0)}function is(t){this.f=t,this.b=this.c=this.a=null}function os(t,e){this.name=t,this.value=e}T(Wo,A),T(Xo,A),Xo.prototype.w=function(){var t={code:this.code,message:this.message};this.email&&(t.email=this.email),this.phoneNumber&&(t.phoneNumber=this.phoneNumber),this.tenantId&&(t.tenantId=this.tenantId);var e=this.credential&&this.credential.w();return e&&gt(t,e),t},Xo.prototype.toJSON=function(){return this.w()},Yo.prototype.c=null,T(Jo,Yo),Jo.prototype.a=function(){var t=Zo(this);return t?new ActiveXObject(t):new XMLHttpRequest},Jo.prototype.b=function(){var t={};return Zo(this)&&(t[0]=!0,t[1]=!0),t},Ho=new Jo,T(ts,Yo),ts.prototype.a=function(){var t=new XMLHttpRequest;if("withCredentials"in t)return t;if("undefined"!=typeof XDomainRequest)return new es;throw Error("Unsupported browser")},ts.prototype.b=function(){return{}},(t=es.prototype).open=function(t,e,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(t,e)},t.send=function(t){if(t){if("string"!=typeof t)throw Error("Only string data is supported");this.a.send(t)}else this.a.send()},t.abort=function(){this.a.abort()},t.setRequestHeader=function(){},t.getResponseHeader=function(t){return"content-type"==t.toLowerCase()?this.a.contentType:""},t.qc=function(){this.status=200,this.response=this.responseText=this.a.responseText,ns(this,4)},t.Sb=function(){this.status=500,this.response=this.responseText="",ns(this,4)},t.vc=function(){this.Sb()},t.rc=function(){this.status=200,ns(this,1)},t.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},rs.prototype.a=null,rs.prototype.reset=function(t,e,n,r,i){r||E(),delete this.a},os.prototype.toString=function(){return this.name};var ss=new os("SEVERE",1e3),as=new os("WARNING",900),us=new os("CONFIG",700),cs=new os("FINE",500);function hs(t){return t.c?t.c:t.a?hs(t.a):(M("Root logger has no level set."),null)}is.prototype.log=function(t,e,n){if(t.value>=hs(this).value)for(d(e)&&(e=e()),t=new rs(t,String(e),this.f),n&&(t.a=n),n=this;n;)n=n.a};var fs={},ls=null;function ps(t){var e;if(ls||(ls=new is(""),fs[""]=ls,ls.c=us),!(e=fs[t])){e=new is(t);var n=t.lastIndexOf("."),r=t.substr(n+1);(n=ps(t.substr(0,n))).b||(n.b={}),n.b[r]=e,e.a=n,fs[t]=e}return e}function ds(t,e){t&&t.log(cs,e,void 0)}function vs(t){this.f=t}function ys(t){En.call(this),this.u=t,this.h=void 0,this.readyState=gs,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=ps("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}T(vs,Yo),vs.prototype.a=function(){return new ys(this.f)},vs.prototype.b=function(t){return function(){return t}}({}),T(ys,En);var gs=0;function ms(t){t.c.read().then(t.pc.bind(t)).catch(t.Ua.bind(t))}function bs(t){t.readyState=4,t.g=null,t.c=null,t.m=null,ws(t)}function ws(t){t.onreadystatechange&&t.onreadystatechange.call(t)}function _s(t){En.call(this),this.headers=new Pn,this.D=t||null,this.c=!1,this.C=this.a=null,this.h=this.R=this.l="",this.f=this.O=this.i=this.J=!1,this.g=0,this.s=null,this.m=Is,this.u=this.S=!1}(t=ys.prototype).open=function(t,e){if(this.readyState!=gs)throw this.abort(),Error("Error reopening a connection");this.s=t,this.f=e,this.readyState=1,ws(this)},t.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var e={headers:this.l,method:this.s,credentials:this.h,cache:void 0};t&&(e.body=t),this.u.fetch(new Request(this.f,e)).then(this.uc.bind(this),this.Ua.bind(this))},t.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,bs(this)),this.readyState=gs},t.uc=function(t){this.a&&(this.g=t,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=t.headers,this.readyState=2,ws(this)),this.a&&(this.readyState=3,ws(this),this.a&&("arraybuffer"===this.responseType?t.arrayBuffer().then(this.sc.bind(this),this.Ua.bind(this)):void 0!==a.ReadableStream&&"body"in t?(this.response=this.responseText="",this.c=t.body.getReader(),this.m=new TextDecoder,ms(this)):t.text().then(this.tc.bind(this),this.Ua.bind(this)))))},t.pc=function(t){if(this.a){var e=this.m.decode(t.value?t.value:new Uint8Array(0),{stream:!t.done});e&&(this.response=this.responseText+=e),t.done?bs(this):ws(this),3==this.readyState&&ms(this)}},t.tc=function(t){this.a&&(this.response=this.responseText=t,bs(this))},t.sc=function(t){this.a&&(this.response=t,bs(this))},t.Ua=function(t){var e=this.i;e&&e.log(as,"Failed to fetch url "+this.f,t instanceof Error?t:Error(t)),this.a&&bs(this)},t.setRequestHeader=function(t,e){this.l.append(t,e)},t.getResponseHeader=function(t){return this.b?this.b.get(t.toLowerCase())||"":((t=this.i)&&t.log(as,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},t.getAllResponseHeaders=function(){if(!this.b){var t=this.i;return t&&t.log(as,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}t=[];for(var e=this.b.entries(),n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(ys.prototype,"withCredentials",{get:function(){return"include"===this.h},set:function(t){this.h=t?"include":"same-origin"}}),T(_s,En);var Is="";_s.prototype.b=ps("goog.net.XhrIo");var Es=/^https?$/i,Ts=["POST","PUT"];function Ss(t){return"content-type"==t.toLowerCase()}function As(t,e){t.c=!1,t.a&&(t.f=!0,t.a.abort(),t.f=!1),t.h=e,Ns(t),xs(t)}function Ns(t){t.J||(t.J=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function ks(t){if(t.c&&void 0!==s)if(t.C[1]&&4==Ps(t)&&2==Rs(t))ds(t.b,Ds(t,"Local request error detected and ignored"));else if(t.i&&4==Ps(t))Nn(t.Vb,0,t);else if(t.dispatchEvent("readystatechange"),4==Ps(t)){ds(t.b,Ds(t,"Request complete")),t.c=!1;try{var e,n=Rs(t);t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.l).match(Cn)[1]||null;if(!o&&a.self&&a.self.location){var u=a.self.location.protocol;o=u.substr(0,u.length-1)}i=!Es.test(o?o.toLowerCase():"")}e=i}if(e)t.dispatchEvent("complete"),t.dispatchEvent("success");else{try{var c=2<Ps(t)?t.a.statusText:""}catch(e){ds(t.b,"Can not get status: "+e.message),c=""}t.h=c+" ["+Rs(t)+"]",Ns(t)}}finally{xs(t)}}}function xs(t,e){if(t.a){Os(t);var n=t.a,r=t.C[0]?f:null;t.a=null,t.C=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=r}catch(e){(t=t.b)&&t.log(ss,"Problem encountered resetting onreadystatechange: "+e.message,void 0)}}}function Os(t){t.a&&t.u&&(t.a.ontimeout=null),t.s&&(a.clearTimeout(t.s),t.s=null)}function Ps(t){return t.a?t.a.readyState:0}function Rs(t){try{return 2<Ps(t)?t.a.status:-1}catch(t){return-1}}function Ds(t,e){return e+" ["+t.R+" "+t.l+" "+Rs(t)+"]"}function Cs(t){var e=Hs;this.g=[],this.u=e,this.s=t||null,this.f=this.a=!1,this.c=void 0,this.v=this.C=this.i=!1,this.h=0,this.b=null,this.l=0}function Ls(t,e,n){t.a=!0,t.c=n,t.f=!e,Fs(t)}function Ms(t){if(t.a){if(!t.v)throw new Vs(t);t.v=!1}}function js(t,e,n,r){t.g.push([e,n,r]),t.a&&Fs(t)}function Us(t){return W(t.g,(function(t){return d(t[1])}))}function Fs(t){if(t.h&&t.a&&Us(t)){var e=t.h,n=Gs[e];n&&(a.clearTimeout(n.a),delete Gs[e]),t.h=0}t.b&&(t.b.l--,delete t.b),e=t.c;for(var r=n=!1;t.g.length&&!t.i;){var i=t.g.shift(),o=i[0],s=i[1];if(i=i[2],o=t.f?s:o)try{var u=o.call(i||t.s,e);void 0!==u&&(t.f=t.f&&(u==e||u instanceof Error),t.c=e=u),(D(e)||"function"==typeof a.Promise&&e instanceof a.Promise)&&(r=!0,t.i=!0)}catch(r){e=r,t.f=!0,Us(t)||(n=!0)}}t.c=e,r&&(u=_(t.m,t,!0),r=_(t.m,t,!1),e instanceof Cs?(js(e,u,r),e.C=!0):e.then(u,r)),n&&(e=new Bs(e),Gs[e.a]=e,t.h=e.a)}function Vs(){C.call(this)}function qs(){C.call(this)}function Bs(t){this.a=a.setTimeout(_(this.c,this),0),this.b=t}(t=_s.prototype).Ma=function(){void 0!==s&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",ds(this.b,Ds(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},t.abort=function(){this.a&&this.c&&(ds(this.b,Ds(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),xs(this))},t.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),xs(this,!0)),_s.ab.Da.call(this)},t.Vb=function(){this.xa||(this.O||this.i||this.f?ks(this):this.Jc())},t.Jc=function(){ks(this)},t.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case Is:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var t=this.b;return t&&t.log(ss,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(t){return ds(this.b,"Can not get response: "+t.message),null}},Cs.prototype.cancel=function(t){if(this.a)this.c instanceof Cs&&this.c.cancel();else{if(this.b){var e=this.b;delete this.b,t?e.cancel(t):(e.l--,0>=e.l&&e.cancel())}this.u?this.u.call(this.s,this):this.v=!0,this.a||(t=new qs(this),Ms(this),Ls(this,!1,t))}},Cs.prototype.m=function(t,e){this.i=!1,Ls(this,t,e)},Cs.prototype.then=function(t,e,n){var r,i,o=new Ie((function(t,e){r=t,i=e}));return js(this,r,(function(t){t instanceof qs?o.cancel():i(t)})),o.then(t,e,n)},Cs.prototype.$goog_Thenable=!0,T(Vs,C),Vs.prototype.message="Deferred has already fired",Vs.prototype.name="AlreadyCalledError",T(qs,C),qs.prototype.message="Deferred was canceled",qs.prototype.name="CanceledError",Bs.prototype.c=function(){throw delete Gs[this.a],this.b};var Gs={};function zs(t){var e={},n=e.document||document,r=At(t).toString(),i=ye(document,"SCRIPT"),o={Wb:i,Ma:void 0},s=new Cs(o),u=null,f=null!=e.timeout?e.timeout:5e3;return 0<f&&(u=window.setTimeout((function(){Ks(i,!0);var t=new $s(Xs,"Timeout reached for loading script "+r);Ms(s),Ls(s,!1,t)}),f),o.Ma=u),i.onload=i.onreadystatechange=function(){i.readyState&&"loaded"!=i.readyState&&"complete"!=i.readyState||(Ks(i,e.xd||!1,u),Ms(s),Ls(s,!0,null))},i.onerror=function(){Ks(i,!0,u);var t=new $s(Ws,"Error while loading script "+r);Ms(s),Ls(s,!1,t)},gt(o=e.attributes||{},{type:"text/javascript",charset:"UTF-8"}),fe(i,o),function(t,e){mt(t,"HTMLScriptElement"),t.src=At(e),(e=t.ownerDocument&&t.ownerDocument.defaultView)&&e!=a?e=h(e.document):(null===c&&(c=h(a.document)),e=c),e&&t.setAttribute("nonce",e)}(i,t),function(t){var e;return(e=(t||document).getElementsByTagName("HEAD"))&&0!=e.length?e[0]:t.documentElement}(n).appendChild(i),s}function Hs(){if(this&&this.Wb){var t=this.Wb;t&&"SCRIPT"==t.tagName&&Ks(t,!0,this.Ma)}}function Ks(t,e,n){null!=n&&a.clearTimeout(n),t.onload=f,t.onerror=f,t.onreadystatechange=f,e&&window.setTimeout((function(){t&&t.parentNode&&t.parentNode.removeChild(t)}),0)}var Ws=0,Xs=1;function $s(t,e){var n="Jsloader error (code #"+t+")";e&&(n+=": "+e),C.call(this,n),this.code=t}function Ys(t){this.f=t}function Qs(t,e,n){if(this.c=t,t=e||{},this.l=t.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=t.secureTokenTimeout||ta,this.g=vt(t.secureTokenHeaders||ea),this.h=t.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=t.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.v=t.firebaseTimeout||na,this.a=vt(t.firebaseHeaders||ra),n&&(this.a["X-Client-Version"]=n,this.g["X-Client-Version"]=n),n="Node"==Tr(),!(n=a.XMLHttpRequest||n&&Nt.INTERNAL.node&&Nt.INTERNAL.node.XMLHttpRequest)&&!Er())throw new A("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,Er()?this.f=new vs(self):Sr()?this.f=new Ys(n):this.f=new ts,this.b=null}T($s,C),T(Ys,Yo),Ys.prototype.a=function(){return new this.f},Ys.prototype.b=function(){return{}};var Js,Zs="idToken",ta=new zr(3e4,6e4),ea={"Content-Type":"application/x-www-form-urlencoded"},na=new zr(3e4,6e4),ra={"Content-Type":"application/json"};function ia(t,e){e?t.a["X-Firebase-Locale"]=e:delete t.a["X-Firebase-Locale"]}function oa(t,e){e&&(t.l=sa("https://securetoken.googleapis.com/v1/token",e),t.h=sa("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",e),t.i=sa("https://identitytoolkit.googleapis.com/v2/",e))}function sa(t,e){return t=qn(t),e=qn(e.url),t.f=t.a+t.f,Mn(t,e.c),t.a=e.a,jn(t,e.g),t.toString()}function aa(t,e){e?(t.a["X-Client-Version"]=e,t.g["X-Client-Version"]=e):(delete t.a["X-Client-Version"],delete t.g["X-Client-Version"])}function ua(t,e,n,r,i,o,s){(function(){var t=Pr();return!((t=kr(t)!=Nr?null:(t=t.match(/\sChrome\/(\d+)/i))&&2==t.length?parseInt(t[1],10):null)&&30>t||Yt&&ue&&!(9<ue))})()||Er()?t=_(t.u,t):(Js||(Js=new Ie((function(t,e){!function(t,e){((window.gapi||{}).client||{}).request?t():(a[ha]=function(){((window.gapi||{}).client||{}).request?t():e(Error("CORS_UNSUPPORTED"))},function(t,e){js(t,null,e,void 0)}(zs(kt(ca,{onload:ha})),(function(){e(Error("CORS_UNSUPPORTED"))})))}(t,e)}))),t=_(t.s,t)),t(e,n,r,i,o,s)}Qs.prototype.T=function(){return this.b},Qs.prototype.u=function(t,e,n,r,i,o){if(Er()&&(void 0===a.fetch||void 0===a.Headers||void 0===a.Request))throw new A("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var s=new _s(this.f);if(o){s.g=Math.max(0,o);var u=setTimeout((function(){s.dispatchEvent("timeout")}),o)}Tn(s,"complete",(function(){u&&clearTimeout(u);var t=null;try{t=JSON.parse(function(t){try{return t.a?t.a.responseText:""}catch(e){return ds(t.b,"Can not get responseText: "+e.message),""}}(this))||null}catch(e){t=null}e&&e(t)})),Sn(s,"ready",(function(){u&&clearTimeout(u),We(this)})),Sn(s,"timeout",(function(){u&&clearTimeout(u),We(this),e&&e(null)})),function(t,e,n,r,i){if(t.a)throw Error("[goog.net.XhrIo] Object is active with another request="+t.l+"; newUri="+e);n=n?n.toUpperCase():"GET",t.l=e,t.h="",t.R=n,t.J=!1,t.c=!0,t.a=t.D?t.D.a():Ho.a(),t.C=t.D?Qo(t.D):Qo(Ho),t.a.onreadystatechange=_(t.Vb,t);try{ds(t.b,Ds(t,"Opening Xhr")),t.O=!0,t.a.open(n,String(e),!0),t.O=!1}catch(e){return ds(t.b,Ds(t,"Error opening Xhr: "+e.message)),void As(t,e)}e=r||"";var o=new Pn(t.headers);i&&function(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(p(t)||"string"==typeof t)z(t,e,void 0);else for(var n=On(t),r=xn(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}(i,(function(t,e){o.set(e,t)})),i=function(t){t:{for(var e=Ss,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(o.Y()),r=a.FormData&&e instanceof a.FormData,!X(Ts,n)||i||r||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach((function(t,e){this.a.setRequestHeader(e,t)}),t),t.m&&(t.a.responseType=t.m),"withCredentials"in t.a&&t.a.withCredentials!==t.S&&(t.a.withCredentials=t.S);try{Os(t),0<t.g&&(t.u=function(t){return Yt&&ae(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(t.a),ds(t.b,Ds(t,"Will abort after "+t.g+"ms if incomplete, xhr2 "+t.u)),t.u?(t.a.timeout=t.g,t.a.ontimeout=_(t.Ma,t)):t.s=Nn(t.Ma,t.g,t)),ds(t.b,Ds(t,"Sending request")),t.i=!0,t.a.send(e),t.i=!1}catch(e){ds(t.b,Ds(t,"Send error: "+e.message)),As(t,e)}}(s,t,n,r,i)};var ca=new bt(Et,"https://apis.google.com/js/client.js?onload=%{onload}"),ha="__fcb"+Math.floor(1e6*Math.random()).toString();function fa(t){if("string"!=typeof(t=t.email)||!br.test(t))throw new A("invalid-email")}function la(t){"email"in t&&fa(t)}function pa(t){if(!t[Zs]){if(t.mfaPendingCredential)throw new A("multi-factor-auth-required",null,vt(t));throw new A("internal-error")}}function da(t){if(t.phoneNumber||t.temporaryProof){if(!t.phoneNumber||!t.temporaryProof)throw new A("internal-error")}else{if(!t.sessionInfo)throw new A("missing-verification-id");if(!t.code)throw new A("missing-verification-code")}}Qs.prototype.s=function(t,e,n,r,i){var o=this;Js.then((function(){window.gapi.client.setApiKey(o.c);var s=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:t,method:n,body:r,headers:i,authType:"none",callback:function(t){window.gapi.auth.setToken(s),e&&e(t)}})})).o((function(t){e&&e({error:{message:t&&t.message||"CORS_UNSUPPORTED"}})}))},Qs.prototype.zb=function(){return ru(this,Ha,{})},Qs.prototype.Bb=function(t,e){return ru(this,Ga,{idToken:t,email:e})},Qs.prototype.Cb=function(t,e){return ru(this,za,{idToken:t,password:e})};var va={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function ya(t){if(!t.phoneVerificationInfo)throw new A("internal-error");if(!t.phoneVerificationInfo.sessionInfo)throw new A("missing-verification-id");if(!t.phoneVerificationInfo.code)throw new A("missing-verification-code")}function ga(t){if(!t.requestUri||!t.sessionId&&!t.postBody&&!t.pendingToken)throw new A("internal-error")}function ma(t,e){return e.oauthIdToken&&e.providerId&&0==e.providerId.indexOf("oidc.")&&!e.pendingToken&&(t.sessionId?e.nonce=t.sessionId:t.postBody&&er(t=new Qn(t.postBody),"nonce")&&(e.nonce=t.get("nonce"))),e}function ba(t){var e=null;if(t.needConfirmation?(t.code="account-exists-with-different-credential",e=$o(t)):"FEDERATED_USER_ID_ALREADY_LINKED"==t.errorMessage?(t.code="credential-already-in-use",e=$o(t)):"EMAIL_EXISTS"==t.errorMessage?(t.code="email-already-in-use",e=$o(t)):t.errorMessage&&(e=iu(t.errorMessage)),e)throw e;pa(t)}function wa(t,e){return e.returnIdpCredential=!0,ru(t,Xa,e)}function _a(t,e){return e.returnIdpCredential=!0,ru(t,Ya,e)}function Ia(t,e){return e.returnIdpCredential=!0,e.autoCreate=!1,ru(t,$a,e)}function Ea(t){if(!t.oobCode)throw new A("invalid-action-code")}(t=Qs.prototype).Db=function(t,e){var n={idToken:t},r=[];return pt(va,(function(t,i){var o=e[i];null===o?r.push(t):i in e&&(n[i]=o)})),r.length&&(n.deleteAttribute=r),ru(this,Ga,n)},t.vb=function(t,e){return gt(t={requestType:"PASSWORD_RESET",email:t},e),ru(this,Ua,t)},t.wb=function(t,e){return gt(t={requestType:"EMAIL_SIGNIN",email:t},e),ru(this,La,t)},t.ub=function(t,e){return gt(t={requestType:"VERIFY_EMAIL",idToken:t},e),ru(this,Ma,t)},t.Eb=function(t,e,n){return gt(t={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:t,newEmail:e},n),ru(this,ja,t)},t.fb=function(t){return ru(this,Za,t)},t.nb=function(t,e){return ru(this,qa,{oobCode:t,newPassword:e})},t.Ra=function(t){return ru(this,Sa,{oobCode:t})},t.jb=function(t){return ru(this,Ta,{oobCode:t})};var Ta={endpoint:"setAccountInfo",A:Ea,Z:"email",B:!0},Sa={endpoint:"resetPassword",A:Ea,G:function(t){var e=t.requestType;if(!e||!t.email&&"EMAIL_SIGNIN"!=e&&"VERIFY_AND_CHANGE_EMAIL"!=e)throw new A("internal-error")},B:!0},Aa={endpoint:"signupNewUser",A:function(t){if(fa(t),!t.password)throw new A("weak-password")},G:pa,V:!0,B:!0},Na={endpoint:"createAuthUri",B:!0},ka={endpoint:"deleteAccount",N:["idToken"]},xa={endpoint:"setAccountInfo",N:["idToken","deleteProvider"],A:function(t){if(!Array.isArray(t.deleteProvider))throw new A("internal-error")}},Oa={endpoint:"emailLinkSignin",N:["email","oobCode"],A:fa,G:pa,V:!0,B:!0},Pa={endpoint:"emailLinkSignin",N:["idToken","email","oobCode"],A:fa,G:pa,V:!0},Ra={endpoint:"accounts/mfaEnrollment:finalize",N:["idToken","phoneVerificationInfo"],A:ya,G:pa,B:!0,Na:!0},Da={endpoint:"accounts/mfaSignIn:finalize",N:["mfaPendingCredential","phoneVerificationInfo"],A:ya,G:pa,B:!0,Na:!0},Ca={endpoint:"getAccountInfo"},La={endpoint:"getOobConfirmationCode",N:["requestType"],A:function(t){if("EMAIL_SIGNIN"!=t.requestType)throw new A("internal-error");fa(t)},Z:"email",B:!0},Ma={endpoint:"getOobConfirmationCode",N:["idToken","requestType"],A:function(t){if("VERIFY_EMAIL"!=t.requestType)throw new A("internal-error")},Z:"email",B:!0},ja={endpoint:"getOobConfirmationCode",N:["idToken","newEmail","requestType"],A:function(t){if("VERIFY_AND_CHANGE_EMAIL"!=t.requestType)throw new A("internal-error")},Z:"email",B:!0},Ua={endpoint:"getOobConfirmationCode",N:["requestType"],A:function(t){if("PASSWORD_RESET"!=t.requestType)throw new A("internal-error");fa(t)},Z:"email",B:!0},Fa={lb:!0,endpoint:"getProjectConfig",Ub:"GET"},Va={lb:!0,endpoint:"getRecaptchaParam",Ub:"GET",G:function(t){if(!t.recaptchaSiteKey)throw new A("internal-error")}},qa={endpoint:"resetPassword",A:Ea,Z:"email",B:!0},Ba={endpoint:"sendVerificationCode",N:["phoneNumber","recaptchaToken"],Z:"sessionInfo",B:!0},Ga={endpoint:"setAccountInfo",N:["idToken"],A:la,V:!0},za={endpoint:"setAccountInfo",N:["idToken"],A:function(t){if(la(t),!t.password)throw new A("weak-password")},G:pa,V:!0},Ha={endpoint:"signupNewUser",G:pa,V:!0,B:!0},Ka={endpoint:"accounts/mfaEnrollment:start",N:["idToken","phoneEnrollmentInfo"],A:function(t){if(!t.phoneEnrollmentInfo)throw new A("internal-error");if(!t.phoneEnrollmentInfo.phoneNumber)throw new A("missing-phone-number");if(!t.phoneEnrollmentInfo.recaptchaToken)throw new A("missing-app-credential")},G:function(t){if(!t.phoneSessionInfo||!t.phoneSessionInfo.sessionInfo)throw new A("internal-error")},B:!0,Na:!0},Wa={endpoint:"accounts/mfaSignIn:start",N:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(t){if(!t.phoneSignInInfo||!t.phoneSignInInfo.recaptchaToken)throw new A("missing-app-credential")},G:function(t){if(!t.phoneResponseInfo||!t.phoneResponseInfo.sessionInfo)throw new A("internal-error")},B:!0,Na:!0},Xa={endpoint:"verifyAssertion",A:ga,Ya:ma,G:ba,V:!0,B:!0},$a={endpoint:"verifyAssertion",A:ga,Ya:ma,G:function(t){if(t.errorMessage&&"USER_NOT_FOUND"==t.errorMessage)throw new A("user-not-found");if(t.errorMessage)throw iu(t.errorMessage);pa(t)},V:!0,B:!0},Ya={endpoint:"verifyAssertion",A:function(t){if(ga(t),!t.idToken)throw new A("internal-error")},Ya:ma,G:ba,V:!0},Qa={endpoint:"verifyCustomToken",A:function(t){if(!t.token)throw new A("invalid-custom-token")},G:pa,V:!0,B:!0},Ja={endpoint:"verifyPassword",A:function(t){if(fa(t),!t.password)throw new A("wrong-password")},G:pa,V:!0,B:!0},Za={endpoint:"verifyPhoneNumber",A:da,G:pa,B:!0},tu={endpoint:"verifyPhoneNumber",A:function(t){if(!t.idToken)throw new A("internal-error");da(t)},G:function(t){if(t.temporaryProof)throw t.code="credential-already-in-use",$o(t);pa(t)}},eu={Hb:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:da,G:pa,B:!0},nu={endpoint:"accounts/mfaEnrollment:withdraw",N:["idToken","mfaEnrollmentId"],G:function(t){if(!!t[Zs]^!!t.refreshToken)throw new A("internal-error")},B:!0,Na:!0};function ru(t,e,n){if(!function(t,e){if(!e||!e.length)return!0;if(!t)return!1;for(var n=0;n<e.length;n++){var r=t[e[n]];if(null==r||""===r)return!1}return!0}(n,e.N))return Oe(new A("internal-error"));var r,i=!!e.Na,o=e.Ub||"POST";return xe(n).then(e.A).then((function(){return e.V&&(n.returnSecureToken=!0),e.B&&t.b&&void 0===n.tenantId&&(n.tenantId=t.b),function(t,e,n,r,i,o,s){var a=qn(e+n);Fn(a,"key",t.c),s&&Fn(a,"cb",E().toString());var u="GET"==r;if(u)for(var c in i)i.hasOwnProperty(c)&&Fn(a,c,i[c]);return new Ie((function(e,n){ua(t,a.toString(),(function(t){t?t.error?n(ou(t,o||{})):e(t):n(new A("network-request-failed"))}),r,u?void 0:or(Fr(i)),t.a,t.v.get())}))}(t,i?t.i:t.h,e.endpoint,o,n,e.Hb,e.lb||!1)})).then((function(t){return r=t,e.Ya?e.Ya(n,r):r})).then(e.G).then((function(){if(!e.Z)return r;if(!(e.Z in r))throw new A("internal-error");return r[e.Z]}))}function iu(t){return ou({error:{errors:[{message:t}],code:400,message:t}})}function ou(t,e){var n=(t.error&&t.error.errors&&t.error.errors[0]||{}).reason||"",r={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=r[n]?new A(r[n]):null)return n;for(var i in n=t.error&&t.error.message||"",gt(r={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},e||{}),e=(e=n.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<e.length?e[1]:void 0,r)if(0===n.indexOf(i))return new A(r[i],e);return!e&&t&&(e=Ur(t)),new A("internal-error",e)}function su(t){this.b=t,this.a=null,this.rb=function(t){return(hu||(hu=new Ie((function(t,e){function n(){Gr(),Rr("gapi.load")("gapi.iframes",{callback:t,ontimeout:function(){Gr(),e(Error("Network Error"))},timeout:uu.get()})}if(Rr("gapi.iframes.Iframe"))t();else if(Rr("gapi.load"))n();else{var r="__iframefcb"+Math.floor(1e6*Math.random()).toString();a[r]=function(){Rr("gapi.load")?n():e(Error("Network Error"))},xe(zs(r=kt(au,{onload:r}))).o((function(){e(Error("Network Error"))}))}})).o((function(t){throw hu=null,t})))).then((function(){return new Ie((function(e,n){Rr("gapi.iframes.getContext")().open({where:document.body,url:t.b,messageHandlersFilter:Rr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},(function(r){function i(){clearTimeout(o),e()}t.a=r,t.a.restyle({setHideOnLeave:!1});var o=setTimeout((function(){n(Error("Network Error"))}),cu.get());r.ping(i).then(i,(function(){n(Error("Network Error"))}))}))}))}))}(this)}var au=new bt(Et,"https://apis.google.com/js/api.js?onload=%{onload}"),uu=new zr(3e4,6e4),cu=new zr(5e3,15e3),hu=null;function fu(t,e,n,r){this.l=t,this.h=e,this.i=n,this.g=r,this.f=null,t=this.g?Bn((t=qn(this.g.url)).c,t.a,t.g,"/emulator/auth/iframe"):Bn("https",this.l,null,"/__/auth/iframe"),this.a=t,Fn(this.a,"apiKey",this.h),Fn(this.a,"appName",this.i),this.b=null,this.c=[]}function lu(t,e,n,r,i,o){this.u=t,this.s=e,this.c=n,this.m=r,this.v=o,this.i=this.g=this.l=null,this.a=i,this.h=this.f=null}function pu(t){try{return Nt.app(t).auth().Ga()}catch(t){return[]}}function du(t,e,n,r,i,o){this.s=t,this.g=e,this.b=n,this.f=o,this.c=r||null,this.i=i||null,this.l=this.u=this.C=null,this.h=[],this.m=this.a=null}function vu(t){var e=lr();return function(t){return ru(t,Fa,{}).then((function(t){return t.authorizedDomains||[]}))}(t).then((function(t){t:{var n=qn(e),r=n.c;n=n.a;for(var i=0;i<t.length;i++){var o=t[i],s=n,a=r;if(0==o.indexOf("chrome-extension://")?s=qn(o).a==s&&"chrome-extension"==a:"http"!=a&&"https"!=a?s=!1:mr.test(o)?s=s==o:(o=o.split(".").join("\\."),s=new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)),s){t=!0;break t}}t=!1}if(!t)throw new Wo(lr())}))}function yu(t){return t.m||(t.m=wr().then((function(){if(!t.u){var e=t.c,n=t.i,r=pu(t.b),i=new fu(t.s,t.g,t.b,t.f);i.f=e,i.b=n,i.c=J(r||[]),t.u=i.toString()}t.v=new su(t.u),function(t){if(!t.v)throw Error("IfcHandler must be initialized!");!function(t,e){t.rb.then((function(){t.a.register("authEvent",e,Rr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}(t.v,(function(e){var n={};if(e&&e.authEvent){var r=!1;for(e=Go(e.authEvent),n=0;n<t.h.length;n++)r=t.h[n](e)||r;return(n={}).status=r?"ACK":"ERROR",xe(n)}return n.status="ERROR",xe(n)}))}(t)}))),t.m}function gu(t){return t.l||(t.C=t.c?Or(t.c,pu(t.b)):null,t.l=new Qs(t.g,R(t.i),t.C),t.f&&oa(t.l,t.f)),t.l}function mu(t,e,n,r,i,o,s,a,u,c,h,f){return(t=new lu(t,e,n,r,i,f)).l=o,t.g=s,t.i=a,t.b=vt(u||null),t.f=c,t.yb(h).toString()}function bu(t){if(this.a=t||Nt.INTERNAL.reactNative&&Nt.INTERNAL.reactNative.AsyncStorage,!this.a)throw new A("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function wu(t){this.b=t,this.a={},this.f=_(this.c,this)}fu.prototype.toString=function(){return this.f?Fn(this.a,"v",this.f):tr(this.a.b,"v"),this.b?Fn(this.a,"eid",this.b):tr(this.a.b,"eid"),this.c.length?Fn(this.a,"fw",this.c.join(",")):tr(this.a.b,"fw"),this.a.toString()},lu.prototype.yb=function(t){return this.h=t,this},lu.prototype.toString=function(){if(this.v){var t=qn(this.v.url);t=Bn(t.c,t.a,t.g,"/emulator/auth/handler")}else t=Bn("https",this.u,null,"/__/auth/handler");if(Fn(t,"apiKey",this.s),Fn(t,"appName",this.c),Fn(t,"authType",this.m),this.a.isOAuthProvider){var e=this.a;try{var n=Nt.app(this.c).auth().la()}catch(t){n=null}for(var r in e.ob=n,Fn(t,"providerId",this.a.providerId),e=Fr((n=this.a).Ib))e[r]=e[r].toString();r=n.Qc,e=vt(e);for(var i=0;i<r.length;i++){var o=r[i];o in e&&delete e[o]}n.pb&&n.ob&&!e[n.pb]&&(e[n.pb]=n.ob),dt(e)||Fn(t,"customParameters",Ur(e))}if("function"==typeof this.a.Qb&&(n=this.a.Qb()).length&&Fn(t,"scopes",n.join(",")),this.l?Fn(t,"redirectUrl",this.l):tr(t.b,"redirectUrl"),this.g?Fn(t,"eventId",this.g):tr(t.b,"eventId"),this.i?Fn(t,"v",this.i):tr(t.b,"v"),this.b)for(var s in this.b)this.b.hasOwnProperty(s)&&!Vn(t,s)&&Fn(t,s,this.b[s]);return this.h?Fn(t,"tid",this.h):tr(t.b,"tid"),this.f?Fn(t,"eid",this.f):tr(t.b,"eid"),(s=pu(this.c)).length&&Fn(t,"fw",s.join(",")),t.toString()},(t=du.prototype).Ob=function(t,e,n){var r=new A("popup-closed-by-user"),i=new A("web-storage-unsupported"),o=this,s=!1;return this.ma().then((function(){(function(t){var e={type:"webStorageSupport"};return yu(t).then((function(){return function(t,e){return t.rb.then((function(){return new Ie((function(n){t.a.send(e.type,e,n,Rr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}))}(t.v,e)})).then((function(t){if(t&&t.length&&void 0!==t[0].webStorageSupport)return t[0].webStorageSupport;throw Error()}))})(o).then((function(n){n||(t&&yr(t),e(i),s=!0)}))})).o((function(){})).then((function(){if(!s)return function(t){return new Ie((function(e){return function n(){kn(2e3).then((function(){if(t&&!t.closed)return n();e()}))}()}))}(t)})).then((function(){if(!s)return kn(n).then((function(){e(r)}))}))},t.Xb=function(){var t=Pr();return!jr(t)&&!Br(t)},t.Tb=function(){return!1},t.Mb=function(t,e,n,r,i,o,s,a){if(!t)return Oe(new A("popup-blocked"));if(s&&!jr())return this.ma().o((function(e){yr(t),i(e)})),r(),xe();this.a||(this.a=vu(gu(this)));var u=this;return this.a.then((function(){var e=u.ma().o((function(e){throw yr(t),i(e),e}));return r(),e})).then((function(){qo(n),s||pr(mu(u.s,u.g,u.b,e,n,null,o,u.c,void 0,u.i,a,u.f),t)})).o((function(t){throw"auth/network-request-failed"==t.code&&(u.a=null),t}))},t.Nb=function(t,e,n,r){this.a||(this.a=vu(gu(this)));var i=this;return this.a.then((function(){qo(e),pr(mu(i.s,i.g,i.b,t,e,lr(),n,i.c,void 0,i.i,r,i.f))})).o((function(t){throw"auth/network-request-failed"==t.code&&(i.a=null),t}))},t.ma=function(){var t=this;return yu(this).then((function(){return t.v.rb})).o((function(){throw t.a=null,new A("network-request-failed")}))},t.$b=function(){return!0},t.Ea=function(t){this.h.push(t)},t.Sa=function(t){Y(this.h,(function(e){return e==t}))},(t=bu.prototype).get=function(t){return xe(this.a.getItem(t)).then((function(t){return t&&Vr(t)}))},t.set=function(t,e){return xe(this.a.setItem(t,Ur(e)))},t.U=function(t){return xe(this.a.removeItem(t))},t.ca=function(){},t.ia=function(){};var _u,Iu=[];function Eu(t,e,n){dt(t.a)&&t.b.addEventListener("message",t.f),void 0===t.a[e]&&(t.a[e]=[]),t.a[e].push(n)}function Tu(t){this.a=t}function Su(t){this.c=t,this.b=!1,this.a=[]}function Au(t,e,n,r){var i,o,s,a,u=n||{},c=null;if(t.b)return Oe(Error("connection_unavailable"));var h=r?800:50,f="undefined"!=typeof MessageChannel?new MessageChannel:null;return new Ie((function(n,r){f?(i=Math.floor(Math.random()*Math.pow(10,20)).toString(),f.port1.start(),s=setTimeout((function(){r(Error("unsupported_event"))}),h),c={messageChannel:f,onMessage:o=function(t){t.data.eventId===i&&("ack"===t.data.status?(clearTimeout(s),a=setTimeout((function(){r(Error("timeout"))}),3e3)):"done"===t.data.status?(clearTimeout(a),void 0!==t.data.response?n(t.data.response):r(Error("unknown_error"))):(clearTimeout(s),clearTimeout(a),r(Error("invalid_response"))))}},t.a.push(c),f.port1.addEventListener("message",o),t.c.postMessage({eventType:e,eventId:i,data:u},[f.port2])):r(Error("connection_unavailable"))})).then((function(e){return Nu(t,c),e})).o((function(e){throw Nu(t,c),e}))}function Nu(t,e){if(e){var n=e.messageChannel,r=e.onMessage;n&&(n.port1.removeEventListener("message",r),n.port1.close()),Y(t.a,(function(t){return t==e}))}}function ku(){if(!Ru())throw new A("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=a.indexedDB,this.type="indexedDB",this.g=this.v=this.f=this.l=null,this.s=!1,this.h=null;var t=this;Er()&&self?(this.v=function(){var t=Er()?self:null;if(z(Iu,(function(n){n.b==t&&(e=n)})),!e){var e=new wu(t);Iu.push(e)}return e}(),Eu(this.v,"keyChanged",(function(e,n){return ju(t).then((function(e){return 0<e.length&&z(t.a,(function(t){t(e)})),{keyProcessed:X(e,n.key)}}))})),Eu(this.v,"ping",(function(){return xe(["keyChanged"])}))):function(){var t=a.navigator;return t&&t.serviceWorker?xe().then((function(){return t.serviceWorker.ready})).then((function(t){return t.active||null})).o((function(){return null})):xe(null)}().then((function(e){(t.h=e)&&(t.g=new Su(new Tu(e)),Au(t.g,"ping",null,!0).then((function(e){e[0].fulfilled&&X(e[0].value,"keyChanged")&&(t.s=!0)})).o((function(){})))}))}function xu(t){return new Ie((function(e,n){var r=t.m.open("firebaseLocalStorageDb",1);r.onerror=function(t){try{t.preventDefault()}catch(t){}n(Error(t.target.error))},r.onupgradeneeded=function(t){t=t.target.result;try{t.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(t){n(t)}},r.onsuccess=function(r){(r=r.target.result).objectStoreNames.contains("firebaseLocalStorage")?e(r):function(t){return new Ie((function(e,n){var r=t.m.deleteDatabase("firebaseLocalStorageDb");r.onsuccess=function(){e()},r.onerror=function(t){n(Error(t.target.error))}}))}(t).then((function(){return xu(t)})).then((function(t){e(t)})).o((function(t){n(t)}))}}))}function Ou(t){return t.i||(t.i=xu(t)),t.i}function Pu(t,e){var n=0;return new Ie((function r(i,o){Ou(t).then(e).then(i).o((function(e){if(!(3<++n))return Ou(t).then((function(e){return e.close(),t.i=void 0,r(i,o)})).o((function(t){o(t)}));o(e)}))}))}function Ru(){try{return!!a.indexedDB}catch(t){return!1}}function Du(t){return t.objectStore("firebaseLocalStorage")}function Cu(t,e){return t.transaction(["firebaseLocalStorage"],e?"readwrite":"readonly")}function Lu(t){return new Ie((function(e,n){t.onsuccess=function(t){t&&t.target?e(t.target.result):e()},t.onerror=function(t){n(t.target.error)}}))}function Mu(t,e){return t.g&&t.h&&function(){var t=a.navigator;return t&&t.serviceWorker&&t.serviceWorker.controller||null}()===t.h?Au(t.g,"keyChanged",{key:e},t.s).then((function(){})).o((function(){})):xe()}function ju(t){return Ou(t).then((function(t){var e=Du(Cu(t,!1));return e.getAll?Lu(e.getAll()):new Ie((function(t,n){var r=[],i=e.openCursor();i.onsuccess=function(e){(e=e.target.result)?(r.push(e.value),e.continue()):t(r)},i.onerror=function(t){n(t.target.error)}}))})).then((function(e){var n={},r=[];if(0==t.b){for(r=0;r<e.length;r++)n[e[r].fbase_key]=e[r].value;r=dr(t.c,n),t.c=n}return r}))}function Uu(t){t.l&&t.l.cancel("STOP_EVENT"),t.f&&(clearTimeout(t.f),t.f=null)}function Fu(t){var e=this,n=null;this.a=[],this.type="indexedDB",this.c=t,this.b=xe().then((function(){if(Ru()){var t=qr(),r="__sak"+t;return _u||(_u=new ku),(n=_u).set(r,t).then((function(){return n.get(r)})).then((function(e){if(e!==t)throw Error("indexedDB not supported!");return n.U(r)})).then((function(){return n})).o((function(){return e.c}))}return e.c})).then((function(t){return e.type=t.type,t.ca((function(t){z(e.a,(function(e){e(t)}))})),t}))}function Vu(){this.a={},this.type="inMemory"}function qu(){if(!function(){var t="Node"==Tr();if(!(t=Bu()||t&&Nt.INTERNAL.node&&Nt.INTERNAL.node.localStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(t){return!1}}()){if("Node"==Tr())throw new A("internal-error","The LocalStorage compatibility library was not found.");throw new A("web-storage-unsupported")}this.a=Bu()||Nt.INTERNAL.node.localStorage,this.type="localStorage"}function Bu(){try{var t=a.localStorage,e=qr();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(t){return null}}function Gu(){this.type="nullStorage"}function zu(){if(!function(){var t="Node"==Tr();if(!(t=Hu()||t&&Nt.INTERNAL.node&&Nt.INTERNAL.node.sessionStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(t){return!1}}()){if("Node"==Tr())throw new A("internal-error","The SessionStorage compatibility library was not found.");throw new A("web-storage-unsupported")}this.a=Hu()||Nt.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function Hu(){try{var t=a.sessionStorage,e=qr();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(t){return null}}function Ku(){var t={};t.Browser=$u,t.Node=Yu,t.ReactNative=Qu,t.Worker=Ju,this.a=t[Tr()]}wu.prototype.c=function(t){var e=t.data.eventType,n=t.data.eventId,r=this.a[e];if(r&&0<r.length){t.ports[0].postMessage({status:"ack",eventId:n,eventType:e,response:null});var i=[];z(r,(function(e){i.push(xe().then((function(){return e(t.origin,t.data.data)})))})),Re(i).then((function(r){var i=[];z(r,(function(t){i.push({fulfilled:t.Pb,value:t.value,reason:t.reason?t.reason.message:void 0})})),z(i,(function(t){for(var e in t)void 0===t[e]&&delete t[e]})),t.ports[0].postMessage({status:"done",eventId:n,eventType:e,response:i})}))}},Tu.prototype.postMessage=function(t,e){this.a.postMessage(t,e)},Su.prototype.close=function(){for(;0<this.a.length;)Nu(this,this.a[0]);this.b=!0},(t=ku.prototype).set=function(t,e){var n=this,r=!1;return Pu(this,(function(e){return Lu((e=Du(Cu(e,!0))).get(t))})).then((function(i){return Pu(n,(function(o){if(o=Du(Cu(o,!0)),i)return i.value=e,Lu(o.put(i));n.b++,r=!0;var s={};return s.fbase_key=t,s.value=e,Lu(o.add(s))}))})).then((function(){return n.c[t]=e,Mu(n,t)})).oa((function(){r&&n.b--}))},t.get=function(t){return Pu(this,(function(e){return Lu(Du(Cu(e,!1)).get(t))})).then((function(t){return t&&t.value}))},t.U=function(t){var e=this,n=!1;return Pu(this,(function(r){return n=!0,e.b++,Lu(Du(Cu(r,!0)).delete(t))})).then((function(){return delete e.c[t],Mu(e,t)})).oa((function(){n&&e.b--}))},t.ca=function(t){0==this.a.length&&function(t){Uu(t),function e(){t.f=setTimeout((function(){t.l=ju(t).then((function(e){0<e.length&&z(t.a,(function(t){t(e)}))})).then((function(){e()})).o((function(t){"STOP_EVENT"!=t.message&&e()}))}),800)}()}(this),this.a.push(t)},t.ia=function(t){Y(this.a,(function(e){return e==t})),0==this.a.length&&Uu(this)},(t=Fu.prototype).get=function(t){return this.b.then((function(e){return e.get(t)}))},t.set=function(t,e){return this.b.then((function(n){return n.set(t,e)}))},t.U=function(t){return this.b.then((function(e){return e.U(t)}))},t.ca=function(t){this.a.push(t)},t.ia=function(t){Y(this.a,(function(e){return e==t}))},(t=Vu.prototype).get=function(t){return xe(this.a[t])},t.set=function(t,e){return this.a[t]=e,xe()},t.U=function(t){return delete this.a[t],xe()},t.ca=function(){},t.ia=function(){},(t=qu.prototype).get=function(t){var e=this;return xe().then((function(){return Vr(e.a.getItem(t))}))},t.set=function(t,e){var n=this;return xe().then((function(){var r=Ur(e);null===r?n.U(t):n.a.setItem(t,r)}))},t.U=function(t){var e=this;return xe().then((function(){e.a.removeItem(t)}))},t.ca=function(t){a.window&&fn(a.window,"storage",t)},t.ia=function(t){a.window&&dn(a.window,"storage",t)},(t=Gu.prototype).get=function(){return xe(null)},t.set=function(){return xe()},t.U=function(){return xe()},t.ca=function(){},t.ia=function(){},(t=zu.prototype).get=function(t){var e=this;return xe().then((function(){return Vr(e.a.getItem(t))}))},t.set=function(t,e){var n=this;return xe().then((function(){var r=Ur(e);null===r?n.U(t):n.a.setItem(t,r)}))},t.U=function(t){var e=this;return xe().then((function(){e.a.removeItem(t)}))},t.ca=function(){},t.ia=function(){};var Wu,Xu,$u={F:qu,bb:zu},Yu={F:qu,bb:zu},Qu={F:bu,bb:Gu},Ju={F:qu,bb:Gu},Zu={rd:"local",NONE:"none",td:"session"};function tc(){var t=!(Br(Pr())||!Ir()),e=jr(),n=Dr();this.m=t,this.h=e,this.l=n,this.a={},Wu||(Wu=new Ku),t=Wu;try{this.g=!fr()&&Wr()||!a.indexedDB?new t.a.F:new Fu(Er()?new Vu:new t.a.F)}catch(t){this.g=new Vu,this.h=!0}try{this.i=new t.a.bb}catch(t){this.i=new Vu}this.v=new Vu,this.f=_(this.Yb,this),this.b={}}function ec(){return Xu||(Xu=new tc),Xu}function nc(t,e){switch(e){case"session":return t.i;case"none":return t.v;default:return t.g}}function rc(t,e){return"firebase:"+t.name+(e?":"+e:"")}function ic(t,e,n){return n=rc(e,n),"local"==e.F&&(t.b[n]=null),nc(t,e.F).U(n)}function oc(t){t.c&&(clearInterval(t.c),t.c=null)}function sc(t){this.a=t,this.b=ec()}(t=tc.prototype).get=function(t,e){return nc(this,t.F).get(rc(t,e))},t.set=function(t,e,n){var r=rc(t,n),i=this,o=nc(this,t.F);return o.set(r,e).then((function(){return o.get(r)})).then((function(e){"local"==t.F&&(i.b[r]=e)}))},t.addListener=function(t,e,n){t=rc(t,e),this.l&&(this.b[t]=a.localStorage.getItem(t)),dt(this.a)&&(nc(this,"local").ca(this.f),this.h||(fr()||!Wr())&&a.indexedDB||!this.l||function(t){oc(t),t.c=setInterval((function(){for(var e in t.a){var n=a.localStorage.getItem(e),r=t.b[e];n!=r&&(t.b[e]=n,n=new Ze({type:"storage",key:e,target:window,oldValue:r,newValue:n,a:!0}),t.Yb(n))}}),1e3)}(this)),this.a[t]||(this.a[t]=[]),this.a[t].push(n)},t.removeListener=function(t,e,n){t=rc(t,e),this.a[t]&&(Y(this.a[t],(function(t){return t==n})),0==this.a[t].length&&delete this.a[t]),dt(this.a)&&(nc(this,"local").ia(this.f),oc(this))},t.Yb=function(t){if(t&&t.g){var e=t.a.key;if(null==e)for(var n in this.a){var r=this.b[n];void 0===r&&(r=null);var i=a.localStorage.getItem(n);i!==r&&(this.b[n]=i,this.mb(n))}else if(0==e.indexOf("firebase:")&&this.a[e]){if(void 0!==t.a.a?nc(this,"local").ia(this.f):oc(this),this.m)if(n=a.localStorage.getItem(e),(r=t.a.newValue)!==n)null!==r?a.localStorage.setItem(e,r):a.localStorage.removeItem(e);else if(this.b[e]===r&&void 0===t.a.a)return;var o=this;n=function(){void 0===t.a.a&&o.b[e]===a.localStorage.getItem(e)||(o.b[e]=a.localStorage.getItem(e),o.mb(e))},Yt&&ue&&10==ue&&a.localStorage.getItem(e)!==t.a.newValue&&t.a.newValue!==t.a.oldValue?setTimeout(n,10):n()}}else z(t,_(this.mb,this))},t.mb=function(t){this.a[t]&&z(this.a[t],(function(t){t()}))};var ac,uc={name:"authEvent",F:"local"};function cc(){this.a=ec()}function hc(t,e){this.b=fc,this.f=a.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=t,this.h=e,this.l=a.Int32Array?new Int32Array(64):Array(64),void 0===ac&&(ac=a.Int32Array?new Int32Array(mc):mc),this.reset()}T(hc,(function(){this.b=-1}));for(var fc=64,lc=fc-1,pc=[],dc=0;dc<lc;dc++)pc[dc]=0;var vc=Q(128,pc);function yc(t){for(var e=t.f,n=t.l,r=0,i=0;i<e.length;)n[r++]=e[i]<<24|e[i+1]<<16|e[i+2]<<8|e[i+3],i=4*r;for(e=16;64>e;e++){i=0|n[e-15],r=0|n[e-2];var o=(0|n[e-16])+((i>>>7|i<<25)^(i>>>18|i<<14)^i>>>3)|0,s=(0|n[e-7])+((r>>>17|r<<15)^(r>>>19|r<<13)^r>>>10)|0;n[e]=o+s|0}r=0|t.a[0],i=0|t.a[1];var a=0|t.a[2],u=0|t.a[3],c=0|t.a[4],h=0|t.a[5],f=0|t.a[6];for(o=0|t.a[7],e=0;64>e;e++){var l=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&i^r&a^i&a)|0;s=(o=o+((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))|0)+((s=(s=c&h^~c&f)+(0|ac[e])|0)+(0|n[e])|0)|0,o=f,f=h,h=c,c=u+s|0,u=a,a=i,i=r,r=s+l|0}t.a[0]=t.a[0]+r|0,t.a[1]=t.a[1]+i|0,t.a[2]=t.a[2]+a|0,t.a[3]=t.a[3]+u|0,t.a[4]=t.a[4]+c|0,t.a[5]=t.a[5]+h|0,t.a[6]=t.a[6]+f|0,t.a[7]=t.a[7]+o|0}function gc(t,e,n){void 0===n&&(n=e.length);var r=0,i=t.c;if("string"==typeof e)for(;r<n;)t.f[i++]=e.charCodeAt(r++),i==t.b&&(yc(t),i=0);else{if(!p(e))throw Error("message must be string or array");for(;r<n;){var o=e[r++];if(!("number"==typeof o&&0<=o&&255>=o&&o==(0|o)))throw Error("message must be a byte array");t.f[i++]=o,i==t.b&&(yc(t),i=0)}}t.c=i,t.g+=n}hc.prototype.reset=function(){this.g=this.c=0,this.a=a.Int32Array?new Int32Array(this.h):J(this.h)};var mc=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function bc(){hc.call(this,8,wc)}T(bc,hc);var wc=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function _c(t,e,n,r,i,o){this.v=t,this.i=e,this.l=n,this.m=r||null,this.u=i||null,this.s=o,this.h=e+":"+n,this.C=new cc,this.g=new sc(this.h),this.f=null,this.b=[],this.a=this.c=null}function Ic(t){return new A("invalid-cordova-configuration",t)}function Ec(t,e){for(var n=0;n<t.b.length;n++)try{t.b[n](e)}catch(t){}}function Tc(t){return t.f||(t.f=t.ma().then((function(){return new Ie((function(e){t.Ea((function n(r){return e(r),t.Sa(n),!1})),function(t){function e(e){r=!0,i&&i.cancel(),Sc(t).then((function(r){var i=n;if(r&&e&&e.url){var o=null;-1!=(i=so(e.url)).indexOf("/__/auth/callback")&&(o=(o="object"==typeof(o=Vr(Vn(o=qn(i),"firebaseError")||null))?N(o):null)?new Bo(r.c,r.b,null,null,o,null,r.T()):new Bo(r.c,r.b,i,r.f,null,null,r.T())),i=o||n}Ec(t,i)}))}var n=new Bo("unknown",null,null,null,new A("no-auth-event")),r=!1,i=kn(500).then((function(){return Sc(t).then((function(){r||Ec(t,n)}))})),o=a.handleOpenURL;a.handleOpenURL=function(t){if(0==t.toLowerCase().indexOf(Rr("BuildInfo.packageName",a).toLowerCase()+"://")&&e({url:t}),"function"==typeof o)try{o(t)}catch(t){console.error(t)}},Ko||(Ko=new zo),function(t){var e=Ko;e.a.push(t),e.b||(e.b=function(t){for(var n=0;n<e.a.length;n++)e.a[n](t)},"function"==typeof(t=Rr("universalLinks.subscribe",a))&&t(null,e.b))}(e)}(t)}))}))),t.f}function Sc(t){var e=null;return function(t){return t.b.get(uc,t.a).then((function(t){return Go(t)}))}(t.g).then((function(n){return e=n,ic((n=t.g).b,uc,n.a)})).then((function(){return e}))}function Ac(t){this.a=t,this.b=ec()}(t=_c.prototype).ma=function(){return this.Ia?this.Ia:this.Ia=(_r(void 0)?wr().then((function(){return new Ie((function(t,e){var n=a.document,r=setTimeout((function(){e(Error("Cordova framework is not ready."))}),1e3);n.addEventListener("deviceready",(function(){clearTimeout(r),t()}),!1)}))})):Oe(Error("Cordova must run in an Android or iOS file scheme."))).then((function(){if("function"!=typeof Rr("universalLinks.subscribe",a))throw Ic("cordova-universal-links-plugin-fix is not installed");if(void 0===Rr("BuildInfo.packageName",a))throw Ic("cordova-plugin-buildinfo is not installed");if("function"!=typeof Rr("cordova.plugins.browsertab.openUrl",a))throw Ic("cordova-plugin-browsertab is not installed");if("function"!=typeof Rr("cordova.InAppBrowser.open",a))throw Ic("cordova-plugin-inappbrowser is not installed")}),(function(){throw new A("cordova-not-ready")}))},t.Ob=function(t,e){return e(new A("operation-not-supported-in-this-environment")),xe()},t.Mb=function(){return Oe(new A("operation-not-supported-in-this-environment"))},t.$b=function(){return!1},t.Xb=function(){return!0},t.Tb=function(){return!0},t.Nb=function(t,e,n,r){if(this.c)return Oe(new A("redirect-operation-pending"));var i=this,o=a.document,s=null,u=null,c=null,h=null;return this.c=xe().then((function(){return qo(e),Tc(i)})).then((function(){return function(t,e,n,r,i){var o=function(){for(var t=20,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}(),s=new Bo(e,r,null,o,new A("no-auth-event"),null,i),u=Rr("BuildInfo.packageName",a);if("string"!=typeof u)throw new A("invalid-cordova-configuration");var c=Rr("BuildInfo.displayName",a),h={};if(Pr().toLowerCase().match(/iphone|ipad|ipod/))h.ibi=u;else{if(!Pr().toLowerCase().match(/android/))return Oe(new A("operation-not-supported-in-this-environment"));h.apn=u}c&&(h.appDisplayName=c),o=function(t){var e=new bc;gc(e,t),t=[];var n=8*e.g;56>e.c?gc(e,vc,56-e.c):gc(e,vc,e.b-(e.c-56));for(var r=63;56<=r;r--)e.f[r]=255&n,n/=256;for(yc(e),r=n=0;r<e.i;r++)for(var i=24;0<=i;i-=8)t[n++]=e.a[r]>>i&255;return function(t){return K(t,(function(t){return 1<(t=t.toString(16)).length?t:"0"+t})).join("")}(t)}(o),h.sessionId=o;var f=mu(t.v,t.i,t.l,e,n,null,r,t.m,h,t.u,i,t.s);return t.ma().then((function(){var e=t.h;return t.C.a.set(uc,s.w(),e)})).then((function(){var e=Rr("cordova.plugins.browsertab.isAvailable",a);if("function"!=typeof e)throw new A("invalid-cordova-configuration");var n=null;e((function(e){if(e){if("function"!=typeof(n=Rr("cordova.plugins.browsertab.openUrl",a)))throw new A("invalid-cordova-configuration");n(f)}else{if("function"!=typeof(n=Rr("cordova.InAppBrowser.open",a)))throw new A("invalid-cordova-configuration");e=Pr(),t.a=n(f,e.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||e.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}}))}))}(i,t,e,n,r)})).then((function(){return new Ie((function(t,e){u=function(){var e=Rr("cordova.plugins.browsertab.close",a);return t(),"function"==typeof e&&e(),i.a&&"function"==typeof i.a.close&&(i.a.close(),i.a=null),!1},i.Ea(u),c=function(){s||(s=kn(2e3).then((function(){e(new A("redirect-cancelled-by-user"))})))},h=function(){Hr()&&c()},o.addEventListener("resume",c,!1),Pr().toLowerCase().match(/android/)||o.addEventListener("visibilitychange",h,!1)})).o((function(t){return Sc(i).then((function(){throw t}))}))})).oa((function(){c&&o.removeEventListener("resume",c,!1),h&&o.removeEventListener("visibilitychange",h,!1),s&&s.cancel(),u&&i.Sa(u),i.c=null}))},t.Ea=function(t){this.b.push(t),Tc(this).o((function(e){"auth/invalid-cordova-configuration"===e.code&&(e=new Bo("unknown",null,null,null,new A("no-auth-event")),t(e))}))},t.Sa=function(t){Y(this.b,(function(e){return e==t}))};var Nc={name:"pendingRedirect",F:"session"};function kc(t){return ic(t.b,Nc,t.a)}function xc(t,e,n,r){this.i={},this.u=0,this.D=t,this.v=e,this.m=n,this.J=r,this.h=[],this.f=!1,this.l=_(this.s,this),this.b=new zc,this.C=new $c,this.g=new Ac(Bc(this.v,this.m)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.C,this.c.linkViaPopup=this.C,this.c.reauthViaPopup=this.C,this.a=Oc(this.D,this.v,this.m,k,this.J)}function Oc(t,e,n,r,i){var o=Nt.SDK_VERSION||null;return _r()?new _c(t,e,n,o,r,i):new du(t,e,n,o,r,i)}function Pc(t){t.f||(t.f=!0,t.a.Ea(t.l));var e=t.a;return t.a.ma().o((function(n){throw t.a==e&&t.reset(),n}))}function Rc(t){t.a.Xb()&&Pc(t).o((function(e){var n=new Bo("unknown",null,null,null,new A("operation-not-supported-in-this-environment"));Uc(e)&&t.s(n)})),t.a.Tb()||Hc(t.b)}function Dc(t,e){X(t.h,e)||t.h.push(e),t.f||function(t){return t.b.get(Nc,t.a).then((function(t){return"pending"==t}))}(t.g).then((function(e){e?kc(t.g).then((function(){Pc(t).o((function(e){var n=new Bo("unknown",null,null,null,new A("operation-not-supported-in-this-environment"));Uc(e)&&t.s(n)}))})):Rc(t)})).o((function(){Rc(t)}))}function Cc(t,e){Y(t.h,(function(t){return t==e}))}xc.prototype.reset=function(){this.f=!1,this.a.Sa(this.l),this.a=Oc(this.D,this.v,this.m,null,this.J),this.i={}},xc.prototype.s=function(t){if(!t)throw new A("invalid-auth-event");if(6e5<=E()-this.u&&(this.i={},this.u=0),t&&t.getUid()&&this.i.hasOwnProperty(t.getUid()))return!1;for(var e=!1,n=0;n<this.h.length;n++){var r=this.h[n];if(r.Fb(t.c,t.b)){(e=this.c[t.c])&&(e.h(t,r),t&&(t.f||t.b)&&(this.i[t.getUid()]=!0,this.u=E())),e=!0;break}}return Hc(this.b),e};var Lc=new zr(2e3,1e4),Mc=new zr(3e4,6e4);function jc(t,e,n,r,i,o,s){return t.a.Mb(e,n,r,(function(){t.f||(t.f=!0,t.a.Ea(t.l))}),(function(){t.reset()}),i,o,s)}function Uc(t){return!(!t||"auth/cordova-not-ready"!=t.code)}function Fc(t,e,n,r,i){var o;return function(t){return t.b.set(Nc,"pending",t.a)}(t.g).then((function(){return t.a.Nb(e,n,r,i).o((function(e){if(Uc(e))throw new A("operation-not-supported-in-this-environment");return o=e,kc(t.g).then((function(){throw o}))})).then((function(){return t.a.$b()?new Ie((function(){})):kc(t.g).then((function(){return t.qa()})).then((function(){})).o((function(){}))}))}))}function Vc(t,e,n,r,i){return t.a.Ob(r,(function(t){e.na(n,null,t,i)}),Lc.get())}xc.prototype.qa=function(){return this.b.qa()};var qc={};function Bc(t,e,n){return t=t+":"+e,n&&(t=t+":"+n.url),t}function Gc(t,e,n,r){var i=Bc(e,n,r);return qc[i]||(qc[i]=new xc(t,e,n,r)),qc[i]}function zc(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function Hc(t){t.g||(t.g=!0,Xc(t,!1,null,null))}function Kc(t){t.g&&!t.i&&Xc(t,!1,null,null)}function Wc(t,e){if(t.b=function(){return xe(e)},t.f.length)for(var n=0;n<t.f.length;n++)t.f[n](e)}function Xc(t,e,n,r){e?r?function(t,e){if(t.b=function(){return Oe(e)},t.c.length)for(var n=0;n<t.c.length;n++)t.c[n](e)}(t,r):Wc(t,n):Wc(t,{user:null}),t.f=[],t.c=[]}function $c(){}function Yc(){this.ib=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.ib},set:function(t){this.ib=t},enumerable:!1})}function Qc(t,e){this.a=e,Jr(this,"verificationId",t)}function Jc(t,e,n,r){return new Uo(t).fb(e,n).then((function(t){return new Qc(t,r)}))}function Zc(t){var e=Ki(t);if(!(e&&e.exp&&e.auth_time&&e.iat))throw new A("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");Zr(this,{token:t,expirationTime:Kr(1e3*e.exp),authTime:Kr(1e3*e.auth_time),issuedAtTime:Kr(1e3*e.iat),signInProvider:e.firebase&&e.firebase.sign_in_provider?e.firebase.sign_in_provider:null,signInSecondFactor:e.firebase&&e.firebase.sign_in_second_factor?e.firebase.sign_in_second_factor:null,claims:e})}function th(t,e,n){var r=e&&e[nh];if(!r)throw new A("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=t,this.f=vt(e),this.g=n,this.c=new ao(null,r),this.b=[];var i=this;z(e[eh]||[],(function(t){(t=ri(t))&&i.b.push(t)})),Jr(this,"auth",this.a),Jr(this,"session",this.c),Jr(this,"hints",this.b)}zc.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},zc.prototype.h=function(t,e){if(t){this.reset(),this.g=!0;var n=t.c,r=t.b,i=t.a&&"auth/web-storage-unsupported"==t.a.code,o=t.a&&"auth/operation-not-supported-in-this-environment"==t.a.code;this.i=!(!i&&!o),"unknown"!=n||i||o?t.a?(Xc(this,!0,null,t.a),xe()):e.Fa(n,r)?function(t,e,n){n=n.Fa(e.c,e.b);var r=e.g,i=e.f,o=e.i,s=e.T(),a=!!e.c.match(/Redirect$/);n(r,i,s,o).then((function(e){Xc(t,a,e,null)})).o((function(e){Xc(t,a,null,e)}))}(this,t,e):Oe(new A("invalid-auth-event")):(Xc(this,!1,null,null),xe())}else Oe(new A("invalid-auth-event"))},zc.prototype.qa=function(){var t=this;return new Ie((function(e,n){t.b?t.b().then(e,n):(t.f.push(e),t.c.push(n),function(t){var e=new A("timeout");t.a&&t.a.cancel(),t.a=kn(Mc.get()).then((function(){t.b||(t.g=!0,Xc(t,!0,null,e))}))}(t))}))},$c.prototype.h=function(t,e){if(t){var n=t.c,r=t.b;t.a?(e.na(t.c,null,t.a,t.b),xe()):e.Fa(n,r)?function(t,e){var n=t.b,r=t.c;e.Fa(r,n)(t.g,t.f,t.T(),t.i).then((function(t){e.na(r,t,null,n)})).o((function(t){e.na(r,null,t,n)}))}(t,e):Oe(new A("invalid-auth-event"))}else Oe(new A("invalid-auth-event"))},Qc.prototype.confirm=function(t){return t=Fo(this.verificationId,t),this.a(t)};var eh="mfaInfo",nh="mfaPendingCredential";function rh(t,e,n,r){A.call(this,"multi-factor-auth-required",r,e),this.b=new th(t,e,n),Jr(this,"resolver",this.b)}function ih(t,e,n){if(t&&v(t.serverResponse)&&"auth/multi-factor-auth-required"===t.code)try{return new rh(e,t.serverResponse,n,t.message)}catch(t){}return null}function oh(){}function sh(t){Jr(this,"factorId",t.fa),this.a=t}function ah(t){if(sh.call(this,t),this.a.fa!=Uo.PROVIDER_ID)throw new A("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}function uh(t,e){for(var n in Je.call(this,t),e)this[n]=e[n]}function ch(t,e){this.a=t,this.b=[],this.c=_(this.yc,this),fn(this.a,"userReloaded",this.c);var n=[];e&&e.multiFactor&&e.multiFactor.enrolledFactors&&z(e.multiFactor.enrolledFactors,(function(t){var e=null,r={};if(t){t.uid&&(r[si]=t.uid),t.displayName&&(r[ii]=t.displayName),t.enrollmentTime&&(r[oi]=new Date(t.enrollmentTime).toISOString()),t.phoneNumber&&(r[ai]=t.phoneNumber);try{e=new ui(r)}catch(t){}t=e}else t=null;t&&n.push(t)})),hh(this,n)}function hh(t,e){t.b=e,Jr(t,"enrolledFactors",e)}function fh(t,e,n){if(this.h=t,this.i=e,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function lh(t,e){t.stop(),t.b=kn(function(t,e){return e?(t.a=t.c,t.g()):(e=t.a,t.a*=2,t.a>t.f&&(t.a=t.f),e)}(t,e)).then((function(){return function(){var t=a.document,e=null;return Hr()||!t?xe():new Ie((function(n){e=function(){Hr()&&(t.removeEventListener("visibilitychange",e,!1),n())},t.addEventListener("visibilitychange",e,!1)})).o((function(n){throw t.removeEventListener("visibilitychange",e,!1),n}))}()})).then((function(){return t.h()})).then((function(){lh(t,!0)})).o((function(e){t.i(e)&&lh(t,!1)}))}function ph(t){this.f=t,this.b=this.a=null,this.c=Date.now()}function dh(t,e){void 0===e&&(e=t.b?(e=t.b).a-e.g:0),t.c=Date.now()+1e3*e}function vh(t,e){t.b=Hi(e[Zs]||""),t.a=e.refreshToken,dh(t,void 0!==(e=e.expiresIn)?Number(e):void 0)}function yh(t,e){this.a=t||null,this.b=e||null,Zr(this,{lastSignInTime:Kr(e||null),creationTime:Kr(t||null)})}function gh(t,e,n,r,i,o){Zr(this,{uid:t,displayName:r||null,photoURL:i||null,email:n||null,phoneNumber:o||null,providerId:e})}function mh(t,e,n){this.J=[],this.l=t.apiKey,this.m=t.appName,this.s=t.authDomain||null;var r=Nt.SDK_VERSION?Or(Nt.SDK_VERSION):null;this.a=new Qs(this.l,R(k),r),t.emulatorConfig&&oa(this.a,t.emulatorConfig),this.b=new ph(this.a),Ah(this,e[Zs]),vh(this.b,e),Jr(this,"refreshToken",this.b.a),xh(this,n||{}),En.call(this),this.R=!1,this.s&&Cr()&&(this.i=Gc(this.s,this.l,this.m)),this.S=[],this.h=null,this.u=function(t){return new fh((function(){return t.I(!0)}),(function(t){return!(!t||"auth/network-request-failed"!=t.code)}),(function(){var e=t.b.c-Date.now()-3e5;return 0<e?e:0}))}(this),this.aa=_(this.hb,this);var i=this;this.ya=null,this.Oa=function(t){i.wa(t.h)},this.ja=null,this.Aa=function(t){oa(i.a,t.c)},this.X=null,this.$=[],this.Ba=function(t){_h(i,t.f)},this.ba=null,this.O=new ch(this,n),Jr(this,"multiFactor",this.O)}function bh(t,e){t.ja&&dn(t.ja,"languageCodeChanged",t.Oa),(t.ja=e)&&fn(e,"languageCodeChanged",t.Oa)}function wh(t,e){t.X&&dn(t.X,"emulatorConfigChanged",t.Aa),(t.X=e)&&fn(e,"emulatorConfigChanged",t.Aa)}function _h(t,e){t.$=e,aa(t.a,Nt.SDK_VERSION?Or(Nt.SDK_VERSION,t.$):null)}function Ih(t,e){t.ba&&dn(t.ba,"frameworkChanged",t.Ba),(t.ba=e)&&fn(e,"frameworkChanged",t.Ba)}function Eh(t){try{return Nt.app(t.m).auth()}catch(e){throw new A("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+t.m+"'!")}}function Th(t){t.D||t.u.b||(t.u.start(),dn(t,"tokenChanged",t.aa),fn(t,"tokenChanged",t.aa))}function Sh(t){dn(t,"tokenChanged",t.aa),t.u.stop()}function Ah(t,e){t.za=e,Jr(t,"_lat",e)}function Nh(t){for(var e=[],n=0;n<t.S.length;n++)e.push(t.S[n](t));return Re(e).then((function(){return t}))}function kh(t){t.i&&!t.R&&(t.R=!0,Dc(t.i,t))}function xh(t,e){Zr(t,{uid:e.uid,displayName:e.displayName||null,photoURL:e.photoURL||null,email:e.email||null,emailVerified:e.emailVerified||!1,phoneNumber:e.phoneNumber||null,isAnonymous:e.isAnonymous||!1,tenantId:e.tenantId||null,metadata:new yh(e.createdAt,e.lastLoginAt),providerData:[]}),t.a.b=t.tenantId}function Oh(){}function Ph(t){return xe().then((function(){if(t.D)throw new A("app-deleted")}))}function Rh(t){return K(t.providerData,(function(t){return t.providerId}))}function Dh(t,e){e&&(Ch(t,e.providerId),t.providerData.push(e))}function Ch(t,e){Y(t.providerData,(function(t){return t.providerId==e}))}function Lh(t,e,n){("uid"!=e||n)&&t.hasOwnProperty(e)&&Jr(t,e,n)}function Mh(t,e){t!=e&&(Zr(t,{uid:e.uid,displayName:e.displayName,photoURL:e.photoURL,email:e.email,emailVerified:e.emailVerified,phoneNumber:e.phoneNumber,isAnonymous:e.isAnonymous,tenantId:e.tenantId,providerData:[]}),e.metadata?Jr(t,"metadata",function(t){return new yh(t.a,t.b)}(e.metadata)):Jr(t,"metadata",new yh),z(e.providerData,(function(e){Dh(t,e)})),function(t,e){t.b=e.b,t.a=e.a,t.c=e.c}(t.b,e.b),Jr(t,"refreshToken",t.b.a),hh(t.O,e.O.b))}function jh(t){return t.I().then((function(e){var n=t.isAnonymous;return function(t,e){return ru(t.a,Ca,{idToken:e}).then(_(t.Kc,t))}(t,e).then((function(){return n||Lh(t,"isAnonymous",!1),e}))}))}function Uh(t,e){e[Zs]&&t.za!=e[Zs]&&(vh(t.b,e),t.dispatchEvent(new uh("tokenChanged")),Ah(t,e[Zs]),Lh(t,"refreshToken",t.b.a))}function Fh(t,e){return jh(t).then((function(){if(X(Rh(t),e))return Nh(t).then((function(){throw new A("provider-already-linked")}))}))}function Vh(t,e,n){return ti({user:t,credential:Vo(e),additionalUserInfo:e=Qi(e),operationType:n})}function qh(t,e){return Uh(t,e),t.reload().then((function(){return t}))}function Bh(t,e,n,r,i){if(!Cr())return Oe(new A("operation-not-supported-in-this-environment"));if(t.h&&!i)return Oe(t.h);var o=Yi(n.providerId),s=qr(t.uid+":::"),a=null;(!jr()||Ir())&&t.s&&n.isOAuthProvider&&(a=mu(t.s,t.l,t.m,e,n,null,s,Nt.SDK_VERSION||null,null,null,t.tenantId));var u=gr(a,o&&o.ua,o&&o.ta);return r=r().then((function(){if(zh(t),!i)return t.I().then((function(){}))})).then((function(){return jc(t.i,u,e,n,s,!!a,t.tenantId)})).then((function(){return new Ie((function(n,r){t.na(e,null,new A("cancelled-popup-request"),t.g||null),t.f=n,t.C=r,t.g=s,t.c=Vc(t.i,t,e,u,s)}))})).then((function(t){return u&&yr(u),t?ti(t):null})).o((function(t){throw u&&yr(u),t})),Hh(t,r,i)}function Gh(t,e,n,r,i){if(!Cr())return Oe(new A("operation-not-supported-in-this-environment"));if(t.h&&!i)return Oe(t.h);var o=null,s=qr(t.uid+":::");return r=r().then((function(){if(zh(t),!i)return t.I().then((function(){}))})).then((function(){return t.ga=s,Nh(t)})).then((function(e){return t.ha&&(e=(e=t.ha).b.set(Xh,t.w(),e.a)),e})).then((function(){return Fc(t.i,e,n,s,t.tenantId)})).o((function(e){if(o=e,t.ha)return $h(t.ha);throw o})).then((function(){if(o)throw o})),Hh(t,r,i)}function zh(t){if(!t.i||!t.R){if(t.i&&!t.R)throw new A("internal-error");throw new A("auth-domain-config-required")}}function Hh(t,e,n){var r=function(t,e,n){return t.h&&!n?(e.cancel(),Oe(t.h)):e.o((function(e){throw!e||"auth/user-disabled"!=e.code&&"auth/user-token-expired"!=e.code||(t.h||t.dispatchEvent(new uh("userInvalidated")),t.h=e),e}))}(t,e,n);return t.J.push(r),r.oa((function(){$(t.J,r)})),r.o((function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=ih(e.w(),Eh(t),_(t.jc,t))),n||e}))}function Kh(t){if(!t.apiKey)return null;var e={apiKey:t.apiKey,authDomain:t.authDomain,appName:t.appName,emulatorConfig:t.emulatorConfig},n={};if(!t.stsTokenManager||!t.stsTokenManager.accessToken)return null;n[Zs]=t.stsTokenManager.accessToken,n.refreshToken=t.stsTokenManager.refreshToken||null;var r=t.stsTokenManager.expirationTime;r&&(n.expiresIn=(r-Date.now())/1e3);var i=new mh(e,n,t);return t.providerData&&z(t.providerData,(function(t){t&&Dh(i,ti(t))})),t.redirectEventId&&(i.ga=t.redirectEventId),i}function Wh(t){this.a=t,this.b=ec()}th.prototype.Rc=function(t){var e=this;return t.sb(this.a.a,this.c).then((function(t){var n=vt(e.f);return delete n[eh],delete n[nh],gt(n,t),e.g(n)}))},T(rh,A),oh.prototype.sb=function(t,e,n){return e.type==uo?function(t,e,n,r){return n.Ha().then((function(n){return n={idToken:n},void 0!==r&&(n.displayName=r),gt(n,{phoneVerificationInfo:jo(t.a)}),ru(e,Ra,n)}))}(this,t,e,n):function(t,e,n){return n.Ha().then((function(n){return gt(n={mfaPendingCredential:n},{phoneVerificationInfo:jo(t.a)}),ru(e,Da,n)}))}(this,t,e)},T(sh,oh),T(ah,sh),T(uh,Je),(t=ch.prototype).yc=function(t){hh(this,function(t){var e=[];return z(t.mfaInfo||[],(function(t){(t=ri(t))&&e.push(t)})),e}(t.hd))},t.Rb=function(){return this.a.I().then((function(t){return new ao(t,null)}))},t.fc=function(t,e){var n=this,r=this.a.a;return this.Rb().then((function(n){return t.sb(r,n,e)})).then((function(t){return Uh(n.a,t),n.a.reload()}))},t.bd=function(t){var e=this,n="string"==typeof t?t:t.uid,r=this.a.a;return this.a.I().then((function(t){return ru(r,nu,{idToken:t,mfaEnrollmentId:n})})).then((function(t){var r=H(e.b,(function(t){return t.uid!=n}));return hh(e,r),Uh(e.a,t),e.a.reload().o((function(t){if("auth/user-token-expired"!=t.code)throw t}))}))},t.w=function(){return{multiFactor:{enrolledFactors:K(this.b,(function(t){return t.w()}))}}},fh.prototype.start=function(){this.a=this.c,lh(this,!0)},fh.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},ph.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}},ph.prototype.getToken=function(t){return t=!!t,this.b&&!this.a?Oe(new A("user-token-expired")):t||!this.b||Date.now()>this.c-3e4?this.a?function(t,e){return function(t,e){return new Ie((function(n,r){"refresh_token"==e.grant_type&&e.refresh_token||"authorization_code"==e.grant_type&&e.code?ua(t,t.l+"?key="+encodeURIComponent(t.c),(function(t){t?t.error?r(ou(t)):t.access_token&&t.refresh_token?n(t):r(new A("internal-error")):r(new A("network-request-failed"))}),"POST",Zn(e).toString(),t.g,t.m.get()):r(new A("internal-error"))}))}(t.f,e).then((function(e){return t.b=Hi(e.access_token),t.a=e.refresh_token,dh(t,e.expires_in),{accessToken:t.b.toString(),refreshToken:t.a}})).o((function(e){throw"auth/user-token-expired"==e.code&&(t.a=null),e}))}(this,{grant_type:"refresh_token",refresh_token:this.a}):xe(null):xe({accessToken:this.b.toString(),refreshToken:this.a})},yh.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}},T(mh,En),mh.prototype.wa=function(t){this.ya=t,ia(this.a,t)},mh.prototype.la=function(){return this.ya},mh.prototype.Ga=function(){return J(this.$)},mh.prototype.hb=function(){this.u.b&&(this.u.stop(),this.u.start())},Jr(mh.prototype,"providerId","firebase"),(t=mh.prototype).reload=function(){var t=this;return Hh(this,Ph(this).then((function(){return jh(t).then((function(){return Nh(t)})).then(Oh)})))},t.oc=function(t){return this.I(t).then((function(t){return new Zc(t)}))},t.I=function(t){var e=this;return Hh(this,Ph(this).then((function(){return e.b.getToken(t)})).then((function(t){if(!t)throw new A("internal-error");return t.accessToken!=e.za&&(Ah(e,t.accessToken),e.dispatchEvent(new uh("tokenChanged"))),Lh(e,"refreshToken",t.refreshToken),t.accessToken})))},t.Kc=function(t){if(!(t=t.users)||!t.length)throw new A("internal-error");xh(this,{uid:(t=t[0]).localId,displayName:t.displayName,photoURL:t.photoUrl,email:t.email,emailVerified:!!t.emailVerified,phoneNumber:t.phoneNumber,lastLoginAt:t.lastLoginAt,createdAt:t.createdAt,tenantId:t.tenantId});for(var e=function(t){return(t=t.providerUserInfo)&&t.length?K(t,(function(t){return new gh(t.rawId,t.providerId,t.email,t.displayName,t.photoUrl,t.phoneNumber)})):[]}(t),n=0;n<e.length;n++)Dh(this,e[n]);Lh(this,"isAnonymous",!(this.email&&t.passwordHash||this.providerData&&this.providerData.length)),this.dispatchEvent(new uh("userReloaded",{hd:t}))},t.Lc=function(t){return Yr("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.tb(t)},t.tb=function(t){var e=this,n=null;return Hh(this,t.c(this.a,this.uid).then((function(t){return Uh(e,t),n=Vh(e,t,"reauthenticate"),e.h=null,e.reload()})).then((function(){return n})),!0)},t.Cc=function(t){return Yr("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.qb(t)},t.qb=function(t){var e=this,n=null;return Hh(this,Fh(this,t.providerId).then((function(){return e.I()})).then((function(n){return t.b(e.a,n)})).then((function(t){return n=Vh(e,t,"link"),qh(e,t)})).then((function(){return n})))},t.Dc=function(t,e){var n=this;return Hh(this,Fh(this,"phone").then((function(){return Jc(Eh(n),t,e,_(n.qb,n))})))},t.Mc=function(t,e){var n=this;return Hh(this,xe().then((function(){return Jc(Eh(n),t,e,_(n.tb,n))})),!0)},t.Bb=function(t){var e=this;return Hh(this,this.I().then((function(n){return e.a.Bb(n,t)})).then((function(t){return Uh(e,t),e.reload()})))},t.ed=function(t){var e=this;return Hh(this,this.I().then((function(n){return t.b(e.a,n)})).then((function(t){return Uh(e,t),e.reload()})))},t.Cb=function(t){var e=this;return Hh(this,this.I().then((function(n){return e.a.Cb(n,t)})).then((function(t){return Uh(e,t),e.reload()})))},t.Db=function(t){if(void 0===t.displayName&&void 0===t.photoURL)return Ph(this);var e=this;return Hh(this,this.I().then((function(n){return e.a.Db(n,{displayName:t.displayName,photoUrl:t.photoURL})})).then((function(t){return Uh(e,t),Lh(e,"displayName",t.displayName||null),Lh(e,"photoURL",t.photoUrl||null),z(e.providerData,(function(t){"password"===t.providerId&&(Jr(t,"displayName",e.displayName),Jr(t,"photoURL",e.photoURL))})),Nh(e)})).then(Oh))},t.cd=function(t){var e=this;return Hh(this,jh(this).then((function(n){return X(Rh(e),t)?function(t,e,n){return ru(t,xa,{idToken:e,deleteProvider:n})}(e.a,n,[t]).then((function(t){var n={};return z(t.providerUserInfo||[],(function(t){n[t.providerId]=!0})),z(Rh(e),(function(t){n[t]||Ch(e,t)})),n[Uo.PROVIDER_ID]||Jr(e,"phoneNumber",null),Nh(e)})):Nh(e).then((function(){throw new A("no-such-provider")}))})))},t.delete=function(){var t=this;return Hh(this,this.I().then((function(e){return ru(t.a,ka,{idToken:e})})).then((function(){t.dispatchEvent(new uh("userDeleted"))}))).then((function(){for(var e=0;e<t.J.length;e++)t.J[e].cancel("app-deleted");bh(t,null),wh(t,null),Ih(t,null),t.J=[],t.D=!0,Sh(t),Jr(t,"refreshToken",null),t.i&&Cc(t.i,t)}))},t.Fb=function(t,e){return!!("linkViaPopup"==t&&(this.g||null)==e&&this.f||"reauthViaPopup"==t&&(this.g||null)==e&&this.f||"linkViaRedirect"==t&&(this.ga||null)==e||"reauthViaRedirect"==t&&(this.ga||null)==e)},t.na=function(t,e,n,r){"linkViaPopup"!=t&&"reauthViaPopup"!=t||r!=(this.g||null)||(n&&this.C?this.C(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},t.Fa=function(t,e){return"linkViaPopup"==t&&e==(this.g||null)?_(this.Kb,this):"reauthViaPopup"==t&&e==(this.g||null)?_(this.Lb,this):"linkViaRedirect"==t&&(this.ga||null)==e?_(this.Kb,this):"reauthViaRedirect"==t&&(this.ga||null)==e?_(this.Lb,this):null},t.Ec=function(t){var e=this;return Bh(this,"linkViaPopup",t,(function(){return Fh(e,t.providerId).then((function(){return Nh(e)}))}),!1)},t.Nc=function(t){return Bh(this,"reauthViaPopup",t,(function(){return xe()}),!0)},t.Fc=function(t){var e=this;return Gh(this,"linkViaRedirect",t,(function(){return Fh(e,t.providerId)}),!1)},t.Oc=function(t){return Gh(this,"reauthViaRedirect",t,(function(){return xe()}),!0)},t.Kb=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Hh(this,this.I().then((function(n){return _a(i.a,{requestUri:t,postBody:r,sessionId:e,idToken:n})})).then((function(t){return o=Vh(i,t,"link"),qh(i,t)})).then((function(){return o})))},t.Lb=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Hh(this,xe().then((function(){return fo(Ia(i.a,{requestUri:t,sessionId:e,postBody:r,tenantId:n}),i.uid)})).then((function(t){return o=Vh(i,t,"reauthenticate"),Uh(i,t),i.h=null,i.reload()})).then((function(){return o})),!0)},t.ub=function(t){var e=this,n=null;return Hh(this,this.I().then((function(e){return n=e,void 0===t||dt(t)?{}:Bi(new Ri(t))})).then((function(t){return e.a.ub(n,t)})).then((function(t){if(e.email!=t)return e.reload()})).then((function(){})))},t.Eb=function(t,e){var n=this,r=null;return Hh(this,this.I().then((function(t){return r=t,void 0===e||dt(e)?{}:Bi(new Ri(e))})).then((function(e){return n.a.Eb(r,t,e)})).then((function(t){if(n.email!=t)return n.reload()})).then((function(){})))},t.jc=function(t){var e=null,n=this;return Hh(this,t=fo(xe(t),n.uid).then((function(t){return e=Vh(n,t,"reauthenticate"),Uh(n,t),n.h=null,n.reload()})).then((function(){return e})),!0)},t.toJSON=function(){return this.w()},t.w=function(){var t={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.b.w(),redirectEventId:this.ga||null};return this.metadata&&gt(t,this.metadata.w()),z(this.providerData,(function(e){t.providerData.push(function(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}(e))})),gt(t,this.O.w()),t};var Xh={name:"redirectUser",F:"session"};function $h(t){return ic(t.b,Xh,t.a)}function Yh(t){this.a=t,this.b=ec(),this.c=null,this.f=function(t){var e=Zh("local"),n=Zh("session"),r=Zh("none");return function(t,e,n){var r=rc(e,n),i=nc(t,e.F);return t.get(e,n).then((function(o){var s=null;try{s=Vr(a.localStorage.getItem(r))}catch(t){}if(s&&!o)return a.localStorage.removeItem(r),t.set(e,s,n);s&&o&&"localStorage"!=i.type&&a.localStorage.removeItem(r)}))}(t.b,e,t.a).then((function(){return t.b.get(n,t.a)})).then((function(i){return i?n:t.b.get(r,t.a).then((function(n){return n?r:t.b.get(e,t.a).then((function(n){return n?e:t.b.get(Jh,t.a).then((function(t){return t?Zh(t):e}))}))}))})).then((function(e){return t.c=e,Qh(t,e.F)})).o((function(){t.c||(t.c=e)}))}(this),this.b.addListener(Zh("local"),this.a,_(this.g,this))}function Qh(t,e){var n,r=[];for(n in Zu)Zu[n]!==e&&r.push(ic(t.b,Zh(Zu[n]),t.a));return r.push(ic(t.b,Jh,t.a)),function(t){return new Ie((function(e,n){var r=t.length,i=[];if(r)for(var o=function(t,n){r--,i[t]=n,0==r&&e(i)},s=function(t){n(t)},a=0;a<t.length;a++)Pe(t[a],I(o,a),s);else e(i)}))}(r)}Yh.prototype.g=function(){var t=this,e=Zh("local");rf(this,(function(){return xe().then((function(){return t.c&&"local"!=t.c.F?t.b.get(e,t.a):null})).then((function(n){if(n)return Qh(t,"local").then((function(){t.c=e}))}))}))};var Jh={name:"persistence",F:"session"};function Zh(t){return{name:"authUser",F:t}}function tf(t,e){return rf(t,(function(){return t.b.set(t.c,e.w(),t.a)}))}function ef(t){return rf(t,(function(){return ic(t.b,t.c,t.a)}))}function nf(t,e,n){return rf(t,(function(){return t.b.get(t.c,t.a).then((function(t){return t&&e&&(t.authDomain=e),t&&n&&(t.emulatorConfig=n),Kh(t||{})}))}))}function rf(t,e){return t.f=t.f.then(e,e),t.f}function of(t){if(this.l=!1,Jr(this,"settings",new Yc),Jr(this,"app",t),!pf(this).options||!pf(this).options.apiKey)throw new A("invalid-api-key");t=Nt.SDK_VERSION?Or(Nt.SDK_VERSION):null,this.a=new Qs(pf(this).options&&pf(this).options.apiKey,R(k),t),this.R=[],this.s=[],this.O=[],this.hb=Nt.INTERNAL.createSubscribe(_(this.zc,this)),this.X=void 0,this.bc=Nt.INTERNAL.createSubscribe(_(this.Ac,this)),ff(this,null),this.i=new Yh(pf(this).options.apiKey+":"+pf(this).name),this.D=new Wh(pf(this).options.apiKey+":"+pf(this).name),this.$=gf(this,function(t){var e=pf(t).options.authDomain,n=function(t){var e=function(t,e){return t.b.get(Xh,t.a).then((function(t){return t&&e&&(t.authDomain=e),Kh(t||{})}))}(t.D,pf(t).options.authDomain).then((function(e){return(t.m=e)&&(e.ha=t.D),$h(t.D)}));return gf(t,e)}(t).then((function(){return nf(t.i,e,t.P)})).then((function(e){return e?(e.ha=t.D,t.m&&(t.m.ga||null)==(e.ga||null)?e:e.reload().then((function(){return tf(t.i,e).then((function(){return e}))})).o((function(n){return"auth/network-request-failed"==n.code?e:ef(t.i)}))):null})).then((function(e){ff(t,e||null)}));return gf(t,n)}(this)),this.h=gf(this,function(t){return t.$.then((function(){return hf(t)})).o((function(){})).then((function(){if(!t.l)return t.ja()})).o((function(){})).then((function(){if(!t.l){t.ba=!0;var e=t.i;e.b.addListener(Zh("local"),e.a,t.ja)}}))}(this)),this.ba=!1,this.ja=_(this.Zc,this),this.Ba=_(this.da,this),this.ya=_(this.mc,this),this.za=_(this.wc,this),this.Aa=_(this.xc,this),this.b=null,function(t){var e=pf(t).options.authDomain,n=pf(t).options.apiKey;e&&Cr()&&(t.Oa=t.$.then((function(){if(!t.l){if(t.b=Gc(e,n,pf(t).name,t.P),Dc(t.b,t),df(t)&&kh(df(t)),t.m){kh(t.m);var r=t.m;r.wa(t.la()),bh(r,t),_h(r=t.m,t.J),Ih(r,t),oa((r=t.m).a,t.P),wh(r,t),t.m=null}return t.b}})))}(this),this.INTERNAL={},this.INTERNAL.delete=_(this.delete,this),this.INTERNAL.logFramework=_(this.Gc,this),this.u=0,En.call(this),function(t){Object.defineProperty(t,"lc",{get:function(){return this.la()},set:function(t){this.wa(t)},enumerable:!1}),t.aa=null,Object.defineProperty(t,"ti",{get:function(){return this.T()},set:function(t){this.yb(t)},enumerable:!1}),t.S=null,Object.defineProperty(t,"emulatorConfig",{get:function(){if(this.P){var t=qn(this.P.url);t=ti({protocol:t.c,host:t.a,port:t.g,options:ti({disableWarnings:this.P.ec})})}else t=null;return t},enumerable:!1})}(this),this.J=[],this.P=null}function sf(t){Je.call(this,"languageCodeChanged"),this.h=t}function af(t){Je.call(this,"emulatorConfigChanged"),this.c=t}function uf(t){Je.call(this,"frameworkChanged"),this.f=t}function cf(t){return t.Oa||Oe(new A("auth-domain-config-required"))}function hf(t){if(!Cr())return Oe(new A("operation-not-supported-in-this-environment"));var e=cf(t).then((function(){return t.b.qa()})).then((function(t){return t?ti(t):null}));return gf(t,e)}function ff(t,e){df(t)&&(function(t,e){Y(t.S,(function(t){return t==e}))}(df(t),t.Ba),dn(df(t),"tokenChanged",t.ya),dn(df(t),"userDeleted",t.za),dn(df(t),"userInvalidated",t.Aa),Sh(df(t))),e&&(e.S.push(t.Ba),fn(e,"tokenChanged",t.ya),fn(e,"userDeleted",t.za),fn(e,"userInvalidated",t.Aa),0<t.u&&Th(e)),Jr(t,"currentUser",e),e&&(e.wa(t.la()),bh(e,t),_h(e,t.J),Ih(e,t),oa(e.a,t.P),wh(e,t))}function lf(t,e){var n=null,r=null;return gf(t,e.then((function(e){return n=Vo(e),r=Qi(e),function(t,e){var n={};return n.apiKey=pf(t).options.apiKey,n.authDomain=pf(t).options.authDomain,n.appName=pf(t).name,t.P&&(n.emulatorConfig=t.P),t.$.then((function(){return function(t,e,n,r){var i=new mh(t,e);return n&&(i.ha=n),r&&_h(i,r),i.reload().then((function(){return i}))}(n,e,t.D,t.Ga())})).then((function(e){return df(t)&&e.uid==df(t).uid?(Mh(df(t),e),t.da(e)):(ff(t,e),kh(e),t.da(e))})).then((function(){yf(t)}))}(t,e)}),(function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=ih(e.w(),t,_(t.kc,t))),n||e})).then((function(){return ti({user:df(t),credential:n,additionalUserInfo:r,operationType:"signIn"})})))}function pf(t){return t.app}function df(t){return t.currentUser}function vf(t){return df(t)&&df(t)._lat||null}function yf(t){if(t.ba){for(var e=0;e<t.s.length;e++)t.s[e]&&t.s[e](vf(t));if(t.X!==t.getUid()&&t.O.length)for(t.X=t.getUid(),e=0;e<t.O.length;e++)t.O[e]&&t.O[e](vf(t))}}function gf(t,e){return t.R.push(e),e.oa((function(){$(t.R,e)})),e}function mf(){}function bf(){this.a={},this.b=1e12}Yh.prototype.xb=function(t){var e=null,n=this;return function(t){var e=new A("invalid-persistence-type"),n=new A("unsupported-persistence-type");t:{for(r in Zu)if(Zu[r]==t){var r=!0;break t}r=!1}if(!r||"string"!=typeof t)throw e;switch(Tr()){case"ReactNative":if("session"===t)throw n;break;case"Node":if("none"!==t)throw n;break;case"Worker":if("session"===t||!Ru()&&"none"!==t)throw n;break;default:if(!Dr()&&"none"!==t)throw n}}(t),rf(this,(function(){return t!=n.c.F?n.b.get(n.c,n.a).then((function(r){return e=r,Qh(n,t)})).then((function(){if(n.c=Zh(t),e)return n.b.set(n.c,e,n.a)})):xe()}))},T(of,En),T(sf,Je),T(af,Je),T(uf,Je),(t=of.prototype).xb=function(t){return gf(this,t=this.i.xb(t))},t.wa=function(t){this.aa===t||this.l||(this.aa=t,ia(this.a,this.aa),this.dispatchEvent(new sf(this.la())))},t.la=function(){return this.aa},t.fd=function(){var t=a.navigator;this.wa(t&&(t.languages&&t.languages[0]||t.language||t.userLanguage)||null)},t.gd=function(t,e){if(!this.P){if(!/^https?:\/\//.test(t))throw new A("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");(function(t){"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),a.document&&!t&&wr().then((function(){var t=a.document.createElement("div");t.innerText="Running in emulator mode. Do not use with production credentials.",t.style.position="fixed",t.style.width="100%",t.style.backgroundColor="#ffffff",t.style.border=".1em solid #000000",t.style.color="#ff0000",t.style.bottom="0px",t.style.left="0px",t.style.margin="0px",t.style.zIndex=1e4,t.style.textAlign="center",t.classList.add("firebase-emulator-warning"),a.document.body.appendChild(t)}))})(e=!!e&&!!e.disableWarnings),this.P={url:t,ec:e},this.settings.ib=!0,oa(this.a,this.P),this.dispatchEvent(new af(this.P))}},t.Gc=function(t){this.J.push(t),aa(this.a,Nt.SDK_VERSION?Or(Nt.SDK_VERSION,this.J):null),this.dispatchEvent(new uf(this.J))},t.Ga=function(){return J(this.J)},t.yb=function(t){this.S===t||this.l||(this.S=t,this.a.b=this.S)},t.T=function(){return this.S},t.toJSON=function(){return{apiKey:pf(this).options.apiKey,authDomain:pf(this).options.authDomain,appName:pf(this).name,currentUser:df(this)&&df(this).w()}},t.Fb=function(t,e){switch(t){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==e&&!!this.f;default:return!1}},t.na=function(t,e,n,r){"signInViaPopup"==t&&this.g==r&&(n&&this.C?this.C(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},t.Fa=function(t,e){return"signInViaRedirect"==t||"signInViaPopup"==t&&this.g==e&&this.f?_(this.ic,this):null},t.ic=function(t,e,n,r){var i=this,o={requestUri:t,postBody:r,sessionId:e,tenantId:n};return this.c&&(this.c.cancel(),this.c=null),i.$.then((function(){return lf(i,wa(i.a,o))}))},t.Xc=function(t){if(!Cr())return Oe(new A("operation-not-supported-in-this-environment"));var e=this,n=Yi(t.providerId),r=qr(),i=null;(!jr()||Ir())&&pf(this).options.authDomain&&t.isOAuthProvider&&(i=mu(pf(this).options.authDomain,pf(this).options.apiKey,pf(this).name,"signInViaPopup",t,null,r,Nt.SDK_VERSION||null,null,null,this.T(),this.P));var o=gr(i,n&&n.ua,n&&n.ta);return gf(this,n=cf(this).then((function(n){return jc(n,o,"signInViaPopup",t,r,!!i,e.T())})).then((function(){return new Ie((function(t,n){e.na("signInViaPopup",null,new A("cancelled-popup-request"),e.g),e.f=t,e.C=n,e.g=r,e.c=Vc(e.b,e,"signInViaPopup",o,r)}))})).then((function(t){return o&&yr(o),t?ti(t):null})).o((function(t){throw o&&yr(o),t})))},t.Yc=function(t){if(!Cr())return Oe(new A("operation-not-supported-in-this-environment"));var e=this;return gf(this,cf(this).then((function(){return function(t){return rf(t,(function(){return t.b.set(Jh,t.c.F,t.a)}))}(e.i)})).then((function(){return Fc(e.b,"signInViaRedirect",t,void 0,e.T())})))},t.qa=function(){var t=this;return hf(this).then((function(e){return t.b&&Kc(t.b.b),e})).o((function(e){throw t.b&&Kc(t.b.b),e}))},t.dd=function(t){if(!t)return Oe(new A("null-user"));if(this.S!=t.tenantId)return Oe(new A("tenant-id-mismatch"));var e=this,n={};n.apiKey=pf(this).options.apiKey,n.authDomain=pf(this).options.authDomain,n.appName=pf(this).name;var r=function(t,e,n,r){var i=t.b,o={};return o[Zs]=i.b&&i.b.toString(),o.refreshToken=i.a,e=new mh(e||{apiKey:t.l,authDomain:t.s,appName:t.m},o),n&&(e.ha=n),r&&_h(e,r),Mh(e,t),e}(t,n,e.D,e.Ga());return gf(this,this.h.then((function(){if(pf(e).options.apiKey!=t.l)return r.reload()})).then((function(){return df(e)&&t.uid==df(e).uid?(Mh(df(e),t),e.da(t)):(ff(e,r),kh(r),e.da(r))})).then((function(){yf(e)})))},t.Ab=function(){var t=this;return gf(this,this.h.then((function(){return t.b&&Kc(t.b.b),df(t)?(ff(t,null),ef(t.i).then((function(){yf(t)}))):xe()})))},t.Zc=function(){var t=this;return nf(this.i,pf(this).options.authDomain).then((function(e){if(!t.l){var n;if(n=df(t)&&e){n=df(t).uid;var r=e.uid;n=null!=n&&""!==n&&null!=r&&""!==r&&n==r}if(n)return Mh(df(t),e),df(t).I();(df(t)||e)&&(ff(t,e),e&&(kh(e),e.ha=t.D),t.b&&Dc(t.b,t),yf(t))}}))},t.da=function(t){return tf(this.i,t)},t.mc=function(){yf(this),this.da(df(this))},t.wc=function(){this.Ab()},t.xc=function(){this.Ab()},t.kc=function(t){var e=this;return this.h.then((function(){return lf(e,xe(t))}))},t.zc=function(t){var e=this;this.addAuthTokenListener((function(){t.next(df(e))}))},t.Ac=function(t){var e=this;!function(t,e){t.O.push(e),gf(t,t.h.then((function(){!t.l&&X(t.O,e)&&t.X!==t.getUid()&&(t.X=t.getUid(),e(vf(t)))})))}(this,(function(){t.next(df(e))}))},t.Ic=function(t,e,n){var r=this;return this.ba&&Promise.resolve().then((function(){"function"==typeof t?t(df(r)):"function"==typeof t.next&&t.next(df(r))})),this.hb(t,e,n)},t.Hc=function(t,e,n){var r=this;return this.ba&&Promise.resolve().then((function(){r.X=r.getUid(),"function"==typeof t?t(df(r)):"function"==typeof t.next&&t.next(df(r))})),this.bc(t,e,n)},t.nc=function(t){var e=this;return gf(this,this.h.then((function(){return df(e)?df(e).I(t).then((function(t){return{accessToken:t}})):null})))},t.Tc=function(t){var e=this;return this.h.then((function(){return lf(e,ru(e.a,Qa,{token:t}))})).then((function(t){var n=t.user;return Lh(n,"isAnonymous",!1),e.da(n),t}))},t.Uc=function(t,e){var n=this;return this.h.then((function(){return lf(n,ru(n.a,Ja,{email:t,password:e}))}))},t.dc=function(t,e){var n=this;return this.h.then((function(){return lf(n,ru(n.a,Aa,{email:t,password:e}))}))},t.$a=function(t){var e=this;return this.h.then((function(){return lf(e,t.ka(e.a))}))},t.Sc=function(t){return Yr("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.$a(t)},t.zb=function(){var t=this;return this.h.then((function(){var e=df(t);if(e&&e.isAnonymous){var n=ti({providerId:null,isNewUser:!1});return ti({user:e,credential:null,additionalUserInfo:n,operationType:"signIn"})}return lf(t,t.a.zb()).then((function(e){var n=e.user;return Lh(n,"isAnonymous",!0),t.da(n),e}))}))},t.getUid=function(){return df(this)&&df(this).uid||null},t.cc=function(t){this.addAuthTokenListener(t),this.u++,0<this.u&&df(this)&&Th(df(this))},t.Pc=function(t){var e=this;z(this.s,(function(n){n==t&&e.u--})),0>this.u&&(this.u=0),0==this.u&&df(this)&&Sh(df(this)),this.removeAuthTokenListener(t)},t.addAuthTokenListener=function(t){var e=this;this.s.push(t),gf(this,this.h.then((function(){e.l||X(e.s,t)&&t(vf(e))})))},t.removeAuthTokenListener=function(t){Y(this.s,(function(e){return e==t}))},t.delete=function(){this.l=!0;for(var t=0;t<this.R.length;t++)this.R[t].cancel("app-deleted");return this.R=[],this.i&&(t=this.i).b.removeListener(Zh("local"),t.a,this.ja),this.b&&(Cc(this.b,this),Kc(this.b.b)),Promise.resolve()},t.hc=function(t){return gf(this,function(t,e){return ru(t,Na,{identifier:e,continueUri:Lr()?lr():"http://localhost"}).then((function(t){return t.signinMethods||[]}))}(this.a,t))},t.Bc=function(t){return!!Co(t)},t.wb=function(t,e){var n=this;return gf(this,xe().then((function(){var t=new Ri(e);if(!t.c)throw new A("argument-error",Li+" must be true when sending sign in link to email");return Bi(t)})).then((function(e){return n.a.wb(t,e)})).then((function(){})))},t.jd=function(t){return this.Ra(t).then((function(t){return t.data.email}))},t.nb=function(t,e){return gf(this,this.a.nb(t,e).then((function(){})))},t.Ra=function(t){return gf(this,this.a.Ra(t).then((function(t){return new ci(t)})))},t.jb=function(t){return gf(this,this.a.jb(t).then((function(){})))},t.vb=function(t,e){var n=this;return gf(this,xe().then((function(){return void 0===e||dt(e)?{}:Bi(new Ri(e))})).then((function(e){return n.a.vb(t,e)})).then((function(){})))},t.Wc=function(t,e){return gf(this,Jc(this,t,e,_(this.$a,this)))},t.Vc=function(t,e){var n=this;return gf(this,xe().then((function(){var r=e||lr(),i=Do(t,r);if(!(r=Co(r)))throw new A("argument-error","Invalid email link!");if(r.tenantId!==n.T())throw new A("tenant-id-mismatch");return n.$a(i)})))},mf.prototype.render=function(){},mf.prototype.reset=function(){},mf.prototype.getResponse=function(){},mf.prototype.execute=function(){};var wf=null;function _f(t,e){return(e=If(e))&&t.a[e]||null}function If(t){return(t=void 0===t?1e12:t)?t.toString():null}function Ef(t,e){this.g=!1,this.c=e,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=he(t);var n=this;this.i=function(){n.execute()},this.h?this.execute():fn(this.f,"click",this.i)}function Tf(t){if(t.g)throw Error("reCAPTCHA mock was already deleted!")}function Sf(){}function Af(){}bf.prototype.render=function(t,e){return this.a[this.b.toString()]=new Ef(t,e),this.b++},bf.prototype.reset=function(t){var e=_f(this,t);t=If(t),e&&t&&(e.delete(),delete this.a[t])},bf.prototype.getResponse=function(t){return(t=_f(this,t))?t.getResponse():null},bf.prototype.execute=function(t){(t=_f(this,t))&&t.execute()},Ef.prototype.getResponse=function(){return Tf(this),this.b},Ef.prototype.execute=function(){Tf(this);var t=this;this.a||(this.a=setTimeout((function(){t.b=function(){for(var t=50,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}();var e=t.c.callback,n=t.c["expired-callback"];if(e)try{e(t.b)}catch(t){}t.a=setTimeout((function(){if(t.a=null,t.b=null,n)try{n()}catch(t){}t.h&&t.execute()}),6e4)}),500))},Ef.prototype.delete=function(){Tf(this),this.g=!0,clearTimeout(this.a),this.a=null,dn(this.f,"click",this.i)},Jr(Sf,"FACTOR_ID","phone"),Af.prototype.g=function(){return wf||(wf=new bf),xe(wf)},Af.prototype.c=function(){};var Nf=null;function kf(){this.b=a.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var xf=new bt(Et,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),Of=new zr(3e4,6e4);kf.prototype.g=function(t){var e=this;return new Ie((function(n,r){var i=setTimeout((function(){r(new A("network-request-failed"))}),Of.get());!a.grecaptcha||t!==e.f&&!e.b?(a[e.a]=function(){if(a.grecaptcha){e.f=t;var o=a.grecaptcha.render;a.grecaptcha.render=function(t,n){return t=o(t,n),e.b++,t},clearTimeout(i),n(a.grecaptcha)}else clearTimeout(i),r(new A("internal-error"));delete a[e.a]},xe(zs(kt(xf,{onload:e.a,hl:t||""}))).o((function(){clearTimeout(i),r(new A("internal-error","Unable to load external reCAPTCHA dependencies!"))}))):(clearTimeout(i),n(a.grecaptcha))}))},kf.prototype.c=function(){this.b--};var Pf=null;function Rf(t,e,n,r,i,o,s){if(Jr(this,"type","recaptcha"),this.c=this.f=null,this.D=!1,this.v=e,this.g=null,s?(Nf||(Nf=new Af),s=Nf):(Pf||(Pf=new kf),s=Pf),this.m=s,this.a=n||{theme:"light",type:"image"},this.h=[],this.a[Lf])throw new A("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[Mf],!a.document)throw new A("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!he(e)||!this.i&&he(e).hasChildNodes())throw new A("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new Qs(t,o||null,i||null),this.u=r||function(){return null};var u=this;this.l=[];var c=this.a[Df];this.a[Df]=function(t){if(jf(u,t),"function"==typeof c)c(t);else if("string"==typeof c){var e=Rr(c,a);"function"==typeof e&&e(t)}};var h=this.a[Cf];this.a[Cf]=function(){if(jf(u,null),"function"==typeof h)h();else if("string"==typeof h){var t=Rr(h,a);"function"==typeof t&&t()}}}var Df="callback",Cf="expired-callback",Lf="sitekey",Mf="size";function jf(t,e){for(var n=0;n<t.l.length;n++)try{t.l[n](e)}catch(t){}}function Uf(t,e){return t.h.push(e),e.oa((function(){$(t.h,e)})),e}function Ff(t){if(t.D)throw new A("internal-error","RecaptchaVerifier instance has been destroyed.")}function Vf(t,e,n){var r=!1;try{this.b=n||Nt.app()}catch(t){throw new A("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new A("invalid-api-key");n=this.b.options.apiKey;var i=this,o=null;try{o=this.b.auth().Ga()}catch(t){}try{r=this.b.auth().settings.appVerificationDisabledForTesting}catch(t){}o=Nt.SDK_VERSION?Or(Nt.SDK_VERSION,o):null,Rf.call(this,n,t,e,(function(){try{var t=i.b.auth().la()}catch(e){t=null}return t}),o,R(k),r)}function qf(t,e,n,r){t:{n=Array.prototype.slice.call(n);for(var i=0,o=!1,s=0;s<e.length;s++)if(e[s].optional)o=!0;else{if(o)throw new A("internal-error","Argument validator encountered a required argument after an optional argument.");i++}if(o=e.length,n.length<i||o<n.length)r="Expected "+(i==o?1==i?"1 argument":i+" arguments":i+"-"+o+" arguments")+" but got "+n.length+".";else{for(i=0;i<n.length;i++)if(o=e[i].optional&&void 0===n[i],!e[i].M(n[i])&&!o){if(e=e[i],0>i||i>=Bf.length)throw new A("internal-error","Argument validator received an unsupported number of arguments.");n=Bf[i],r=(r?"":n+" argument ")+(e.name?'"'+e.name+'" ':"")+"must be "+e.K+".";break t}r=null}}if(r)throw new A("argument-error",t+" failed: "+r)}(t=Rf.prototype).Ia=function(){var t=this;return this.f?this.f:this.f=Uf(this,xe().then((function(){if(Lr()&&!Er())return wr();throw new A("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")})).then((function(){return t.m.g(t.u())})).then((function(e){return t.g=e,ru(t.s,Va,{})})).then((function(e){t.a[Lf]=e.recaptchaSiteKey})).o((function(e){throw t.f=null,e})))},t.render=function(){Ff(this);var t=this;return Uf(this,this.Ia().then((function(){if(null===t.c){var e=t.v;if(!t.i){var n=he(e);e=function(t,e,n){var r=arguments,i=document,o=String(r[0]),s=r[1];if(!ce&&s&&(s.name||s.type)){if(o=["<",o],s.name&&o.push(' name="',Ht(s.name),'"'),s.type){o.push(' type="',Ht(s.type),'"');var a={};gt(a,s),delete a.type,s=a}o.push(">"),o=o.join("")}return o=ye(i,o),s&&("string"==typeof s?o.className=s:Array.isArray(s)?o.className=s.join(" "):fe(o,s)),2<r.length&&ve(i,o,r),o}("DIV"),n.appendChild(e)}t.c=t.g.render(e,t.a)}return t.c})))},t.verify=function(){Ff(this);var t=this;return Uf(this,this.render().then((function(e){return new Ie((function(n){var r=t.g.getResponse(e);if(r)n(r);else{var i=function(e){e&&(function(t,e){Y(t.l,(function(t){return t==e}))}(t,i),n(e))};t.l.push(i),t.i&&t.g.execute(t.c)}}))})))},t.reset=function(){Ff(this),null!==this.c&&this.g.reset(this.c)},t.clear=function(){Ff(this),this.D=!0,this.m.c();for(var t=0;t<this.h.length;t++)this.h[t].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){t=he(this.v);for(var e;e=t.firstChild;)t.removeChild(e)}},T(Vf,Rf);var Bf="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function Gf(t,e){return{name:t||"",K:"a valid string",optional:!!e,M:function(t){return"string"==typeof t}}}function zf(t,e){return{name:t||"",K:"a boolean",optional:!!e,M:function(t){return"boolean"==typeof t}}}function Hf(t,e){return{name:t||"",K:"a valid object",optional:!!e,M:v}}function Kf(t,e){return{name:t||"",K:"a function",optional:!!e,M:function(t){return"function"==typeof t}}}function Wf(t,e){return{name:t||"",K:"null",optional:!!e,M:function(t){return null===t}}}function Xf(t){return{name:t?t+"Credential":"credential",K:t?"a valid "+t+" credential":"a valid credential",optional:!1,M:function(e){if(!e)return!1;var n=!t||e.providerId===t;return!(!e.ka||!n)}}}function $f(t,e){return v(t)&&"string"==typeof t.type&&t.type===e&&"function"==typeof t.Ha}function Yf(t){return v(t)&&"string"==typeof t.uid}function Qf(t,e,n,r){return{name:n||"",K:t.K+" or "+e.K,optional:!!r,M:function(n){return t.M(n)||e.M(n)}}}function Jf(t,e){for(var n in e){var r=e[n].name;t[r]=el(r,t[n],e[n].j)}}function Zf(t,e){for(var n in e){var r=e[n].name;r!==n&&Object.defineProperty(t,r,{get:I((function(t){return this[t]}),n),set:I((function(t,e,n,r){qf(t,[n],[r],!0),this[e]=r}),r,n,e[n].kb),enumerable:!0})}}function tl(t,e,n,r){t[e]=el(e,n,r)}function el(t,e,n){function r(){var t=Array.prototype.slice.call(arguments);return qf(o,n,t),e.apply(this,t)}if(!n)return e;var i,o=function(t){return(t=t.split("."))[t.length-1]}(t);for(i in e)r[i]=e[i];for(i in e.prototype)r.prototype[i]=e.prototype[i];return r}Jf(of.prototype,{jb:{name:"applyActionCode",j:[Gf("code")]},Ra:{name:"checkActionCode",j:[Gf("code")]},nb:{name:"confirmPasswordReset",j:[Gf("code"),Gf("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[Gf("email"),Gf("password")]},hc:{name:"fetchSignInMethodsForEmail",j:[Gf("email")]},qa:{name:"getRedirectResult",j:[]},Bc:{name:"isSignInWithEmailLink",j:[Gf("emailLink")]},Hc:{name:"onAuthStateChanged",j:[Qf(Hf(),Kf(),"nextOrObserver"),Kf("opt_error",!0),Kf("opt_completed",!0)]},Ic:{name:"onIdTokenChanged",j:[Qf(Hf(),Kf(),"nextOrObserver"),Kf("opt_error",!0),Kf("opt_completed",!0)]},vb:{name:"sendPasswordResetEmail",j:[Gf("email"),Qf(Hf("opt_actionCodeSettings",!0),Wf(null,!0),"opt_actionCodeSettings",!0)]},wb:{name:"sendSignInLinkToEmail",j:[Gf("email"),Hf("actionCodeSettings")]},xb:{name:"setPersistence",j:[Gf("persistence")]},Sc:{name:"signInAndRetrieveDataWithCredential",j:[Xf()]},zb:{name:"signInAnonymously",j:[]},$a:{name:"signInWithCredential",j:[Xf()]},Tc:{name:"signInWithCustomToken",j:[Gf("token")]},Uc:{name:"signInWithEmailAndPassword",j:[Gf("email"),Gf("password")]},Vc:{name:"signInWithEmailLink",j:[Gf("email"),Gf("emailLink",!0)]},Wc:{name:"signInWithPhoneNumber",j:[Gf("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Xc:{name:"signInWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Yc:{name:"signInWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},dd:{name:"updateCurrentUser",j:[Qf({name:"user",K:"an instance of Firebase User",optional:!1,M:function(t){return!!(t&&t instanceof mh)}},Wf(),"user")]},Ab:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[Gf(null,!0)]},fd:{name:"useDeviceLanguage",j:[]},gd:{name:"useEmulator",j:[Gf("url"),Hf("options",!0)]},jd:{name:"verifyPasswordResetCode",j:[Gf("code")]}}),Zf(of.prototype,{lc:{name:"languageCode",kb:Qf(Gf(),Wf(),"languageCode")},ti:{name:"tenantId",kb:Qf(Gf(),Wf(),"tenantId")}}),of.Persistence=Zu,of.Persistence.LOCAL="local",of.Persistence.SESSION="session",of.Persistence.NONE="none",Jf(mh.prototype,{delete:{name:"delete",j:[]},oc:{name:"getIdTokenResult",j:[zf("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[zf("opt_forceRefresh",!0)]},Cc:{name:"linkAndRetrieveDataWithCredential",j:[Xf()]},qb:{name:"linkWithCredential",j:[Xf()]},Dc:{name:"linkWithPhoneNumber",j:[Gf("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Ec:{name:"linkWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Fc:{name:"linkWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Lc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[Xf()]},tb:{name:"reauthenticateWithCredential",j:[Xf()]},Mc:{name:"reauthenticateWithPhoneNumber",j:[Gf("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Nc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Oc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},ub:{name:"sendEmailVerification",j:[Qf(Hf("opt_actionCodeSettings",!0),Wf(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[Gf(null,!0)]},cd:{name:"unlink",j:[Gf("provider")]},Bb:{name:"updateEmail",j:[Gf("email")]},Cb:{name:"updatePassword",j:[Gf("password")]},ed:{name:"updatePhoneNumber",j:[Xf("phone")]},Db:{name:"updateProfile",j:[Hf("profile")]},Eb:{name:"verifyBeforeUpdateEmail",j:[Gf("email"),Qf(Hf("opt_actionCodeSettings",!0),Wf(null,!0),"opt_actionCodeSettings",!0)]}}),Jf(bf.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Jf(mf.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Jf(Ie.prototype,{oa:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),Zf(Yc.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",kb:zf("appVerificationDisabledForTesting")}}),Jf(Qc.prototype,{confirm:{name:"confirm",j:[Gf("verificationCode")]}}),tl(ho,"fromJSON",(function(t){t="string"==typeof t?JSON.parse(t):t;for(var e,n=[mo,Po,Mo,vo],r=0;r<n.length;r++)if(e=n[r](t))return e;return null}),[Qf(Gf(),Hf(),"json")]),tl(Ro,"credential",(function(t,e){return new Oo(t,e)}),[Gf("email"),Gf("password")]),Jf(Oo.prototype,{w:{name:"toJSON",j:[Gf(null,!0)]}}),Jf(Io.prototype,{Ca:{name:"addScope",j:[Gf("scope")]},Ka:{name:"setCustomParameters",j:[Hf("customOAuthParameters")]}}),tl(Io,"credential",Eo,[Qf(Gf(),Hf(),"token")]),tl(Ro,"credentialWithLink",Do,[Gf("email"),Gf("emailLink")]),Jf(To.prototype,{Ca:{name:"addScope",j:[Gf("scope")]},Ka:{name:"setCustomParameters",j:[Hf("customOAuthParameters")]}}),tl(To,"credential",So,[Qf(Gf(),Hf(),"token")]),Jf(Ao.prototype,{Ca:{name:"addScope",j:[Gf("scope")]},Ka:{name:"setCustomParameters",j:[Hf("customOAuthParameters")]}}),tl(Ao,"credential",No,[Qf(Gf(),Qf(Hf(),Wf()),"idToken"),Qf(Gf(),Wf(),"accessToken",!0)]),Jf(ko.prototype,{Ka:{name:"setCustomParameters",j:[Hf("customOAuthParameters")]}}),tl(ko,"credential",xo,[Qf(Gf(),Hf(),"token"),Gf("secret",!0)]),Jf(_o.prototype,{Ca:{name:"addScope",j:[Gf("scope")]},credential:{name:"credential",j:[Qf(Gf(),Qf(Hf(),Wf()),"optionsOrIdToken"),Qf(Gf(),Wf(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[Hf("customOAuthParameters")]}}),Jf(yo.prototype,{w:{name:"toJSON",j:[Gf(null,!0)]}}),Jf(lo.prototype,{w:{name:"toJSON",j:[Gf(null,!0)]}}),tl(Uo,"credential",Fo,[Gf("verificationId"),Gf("verificationCode")]),Jf(Uo.prototype,{fb:{name:"verifyPhoneNumber",j:[Qf(Gf(),{name:"phoneInfoOptions",K:"valid phone info options",optional:!1,M:function(t){return!!t&&(t.session&&t.phoneNumber?$f(t.session,uo)&&"string"==typeof t.phoneNumber:t.session&&t.multiFactorHint?$f(t.session,co)&&Yf(t.multiFactorHint):t.session&&t.multiFactorUid?$f(t.session,co)&&"string"==typeof t.multiFactorUid:!!t.phoneNumber&&"string"==typeof t.phoneNumber)}},"phoneInfoOptions"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]}}),Jf(Lo.prototype,{w:{name:"toJSON",j:[Gf(null,!0)]}}),Jf(A.prototype,{toJSON:{name:"toJSON",j:[Gf(null,!0)]}}),Jf(Xo.prototype,{toJSON:{name:"toJSON",j:[Gf(null,!0)]}}),Jf(Wo.prototype,{toJSON:{name:"toJSON",j:[Gf(null,!0)]}}),Jf(rh.prototype,{toJSON:{name:"toJSON",j:[Gf(null,!0)]}}),Jf(th.prototype,{Rc:{name:"resolveSignIn",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(t){return!!t&&!!t.sb}}]}}),Jf(ch.prototype,{Rb:{name:"getSession",j:[]},fc:{name:"enroll",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(t){return!!t&&!!t.sb}},Gf("displayName",!0)]},bd:{name:"unenroll",j:[Qf({name:"multiFactorInfo",K:"a valid multiFactorInfo",optional:!1,M:Yf},Gf(),"multiFactorInfoIdentifier")]}}),Jf(Vf.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),tl(Ei,"parseLink",Pi,[Gf("link")]),tl(Sf,"assertion",(function(t){return new ah(t)}),[Xf("phone")]),function(){if(void 0===Nt||!Nt.INTERNAL||!Nt.INTERNAL.registerComponent)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var t={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:fi,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:hi,VERIFY_AND_CHANGE_EMAIL:li,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:of,AuthCredential:ho,Error:A};tl(t,"EmailAuthProvider",Ro,[]),tl(t,"FacebookAuthProvider",Io,[]),tl(t,"GithubAuthProvider",To,[]),tl(t,"GoogleAuthProvider",Ao,[]),tl(t,"TwitterAuthProvider",ko,[]),tl(t,"OAuthProvider",_o,[Gf("providerId")]),tl(t,"SAMLAuthProvider",wo,[Gf("providerId")]),tl(t,"PhoneAuthProvider",Uo,[{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(t){return!!(t&&t instanceof of)}}]),tl(t,"RecaptchaVerifier",Vf,[Qf(Gf(),{name:"",K:"an HTML element",optional:!1,M:function(t){return!!(t&&t instanceof Element)}},"recaptchaContainer"),Hf("recaptchaParameters",!0),{name:"app",K:"an instance of Firebase App",optional:!0,M:function(t){return!!(t&&t instanceof Nt.app.App)}}]),tl(t,"ActionCodeURL",Ei,[]),tl(t,"PhoneMultiFactorGenerator",Sf,[]),Nt.INTERNAL.registerComponent({name:"auth",instanceFactory:function(t){return new of(t=t.getProvider("app").getImmediate())},multipleInstances:!1,serviceProps:t,instantiationMode:"LAZY",type:"PUBLIC"}),Nt.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(t){return{getUid:_((t=t.getProvider("auth").getImmediate()).getUid,t),getToken:_(t.nc,t),addAuthTokenListener:_(t.cc,t),removeAuthTokenListener:_(t.Pc,t)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),Nt.registerVersion("@firebase/auth","0.16.4"),Nt.INTERNAL.extendNamespace({User:mh})}()}.apply(void 0!==n.g?n.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var Xe=function(t,e){return(Xe=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function $e(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var Ye,Qe="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{},Je=Je||{},Ze=Qe||self;function tn(){}function en(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function nn(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var rn="closure_uid_"+(1e9*Math.random()>>>0),on=0;function sn(t,e,n){return t.call.apply(t.bind,arguments)}function an(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function un(t,e,n){return(un=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?sn:an).apply(null,arguments)}function cn(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function hn(){return Date.now()}function fn(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Kb=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function ln(){this.j=this.j,this.i=this.i}ln.prototype.j=!1,ln.prototype.ja=function(){!this.j&&(this.j=!0,this.G(),0)&&function(t){Object.prototype.hasOwnProperty.call(t,rn)&&t[rn]||(t[rn]=++on)}(this)},ln.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var pn=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},dn=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function vn(t){return Array.prototype.concat.apply([],arguments)}function yn(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function gn(t){return/^[\s\xa0]*$/.test(t)}var mn,bn=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function wn(t,e){return-1!=t.indexOf(e)}function _n(t,e){return t<e?-1:t>e?1:0}t:{var In=Ze.navigator;if(In){var En=In.userAgent;if(En){mn=En;break t}}mn=""}function Tn(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function Sn(t){var e={};for(var n in t)e[n]=t[n];return e}var An="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Nn(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<An.length;o++)n=An[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function kn(t){return kn[" "](t),t}kn[" "]=tn;var xn,On,Pn=wn(mn,"Opera"),Rn=wn(mn,"Trident")||wn(mn,"MSIE"),Dn=wn(mn,"Edge"),Cn=Dn||Rn,Ln=wn(mn,"Gecko")&&!(wn(mn.toLowerCase(),"webkit")&&!wn(mn,"Edge"))&&!(wn(mn,"Trident")||wn(mn,"MSIE"))&&!wn(mn,"Edge"),Mn=wn(mn.toLowerCase(),"webkit")&&!wn(mn,"Edge");function jn(){var t=Ze.document;return t?t.documentMode:void 0}t:{var Un="",Fn=(On=mn,Ln?/rv:([^\);]+)(\)|;)/.exec(On):Dn?/Edge\/([\d\.]+)/.exec(On):Rn?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(On):Mn?/WebKit\/(\S+)/.exec(On):Pn?/(?:Version)[ \/]?(\S+)/.exec(On):void 0);if(Fn&&(Un=Fn?Fn[1]:""),Rn){var Vn=jn();if(null!=Vn&&Vn>parseFloat(Un)){xn=String(Vn);break t}}xn=Un}var qn,Bn={};function Gn(t){return function(t,e){var n=Bn;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,(function(){for(var e=0,n=bn(String(xn)).split("."),r=bn(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var s=n[o]||"",a=r[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==s[0].length&&0==a[0].length)break;e=_n(0==s[1].length?0:parseInt(s[1],10),0==a[1].length?0:parseInt(a[1],10))||_n(0==s[2].length,0==a[2].length)||_n(s[2],a[2]),s=s[3],a=a[3]}while(0==e)}return 0<=e}))}Ze.document&&Rn?qn=jn()||parseInt(xn,10)||void 0:qn=void 0;var zn=qn,Hn=!Rn||9<=Number(zn),Kn=Rn&&!Gn("9"),Wn=function(){if(!Ze.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Ze.addEventListener("test",tn,e),Ze.removeEventListener("test",tn,e)}catch(t){}return t}();function Xn(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function $n(t,e){if(Xn.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(Ln){t:{try{kn(e.nodeName);var i=!0;break t}catch(t){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Yn[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}Xn.prototype.b=function(){this.defaultPrevented=!0},fn($n,Xn);var Yn={2:"touch",3:"pen",4:"mouse"};$n.prototype.b=function(){$n.X.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,Kn)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(t){}};var Qn="closure_listenable_"+(1e6*Math.random()|0),Jn=0;function Zn(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ca=i,this.key=++Jn,this.Y=this.Z=!1}function tr(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.ca=null}function er(t){this.src=t,this.a={},this.b=0}function nr(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],o=pn(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(tr(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function rr(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.Y&&o.listener==e&&o.capture==!!n&&o.ca==r)return i}return-1}er.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var s=rr(t,e,r,i);return-1<s?(e=t[s],n||(e.Z=!1)):((e=new Zn(e,this.src,o,!!r,i)).Z=n,t.push(e)),e};var ir="closure_lm_"+(1e6*Math.random()|0),or={};function sr(t,e,n,r,i){if(r&&r.once)return ur(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)sr(t,e[o],n,r,i);return null}return n=yr(n),t&&t[Qn]?t.va(e,n,nn(r)?!!r.capture:!!r,i):ar(t,e,n,!1,r,i)}function ar(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=nn(i)?!!i.capture:!!i;if(s&&!Hn)return null;var a=dr(t);if(a||(t[ir]=a=new er(t)),(n=a.add(e,n,r,s,o)).proxy)return n;if(r=function(){var t=pr,e=Hn?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Wn||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(fr(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function ur(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)ur(t,e[o],n,r,i);return null}return n=yr(n),t&&t[Qn]?t.wa(e,n,nn(r)?!!r.capture:!!r,i):ar(t,e,n,!0,r,i)}function cr(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)cr(t,e[o],n,r,i);else r=nn(r)?!!r.capture:!!r,n=yr(n),t&&t[Qn]?(t=t.c,(e=String(e).toString())in t.a&&-1<(n=rr(o=t.a[e],n,r,i))&&(tr(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--))):t&&(t=dr(t))&&(e=t.a[e.toString()],t=-1,e&&(t=rr(e,n,r,i)),(n=-1<t?e[t]:null)&&hr(n))}function hr(t){if("number"!=typeof t&&t&&!t.Y){var e=t.src;if(e&&e[Qn])nr(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(fr(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=dr(e))?(nr(n,t),0==n.b&&(n.src=null,e[ir]=null)):tr(t)}}}function fr(t){return t in or?or[t]:or[t]="on"+t}function lr(t,e){var n=t.listener,r=t.ca||t.src;return t.Z&&hr(t),n.call(r,e)}function pr(t,e){if(t.Y)return!0;if(!Hn){if(!e)t:{e=["window","event"];for(var n=Ze,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return lr(t,e=new $n(e,this))}return lr(t,new $n(e,this))}function dr(t){return(t=t[ir])instanceof er?t:null}var vr="__closure_events_fn_"+(1e9*Math.random()>>>0);function yr(t){return"function"==typeof t?t:(t[vr]||(t[vr]=function(e){return t.handleEvent(e)}),t[vr])}function gr(){ln.call(this),this.c=new er(this),this.J=this,this.C=null}function mr(t,e){var n,r=t.C;if(r)for(n=[];r;r=r.C)n.push(r);if(t=t.J,r=e.type||e,"string"==typeof e)e=new Xn(e,t);else if(e instanceof Xn)e.target=e.target||t;else{var i=e;Nn(e=new Xn(r,t),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.a=n[o];i=br(s,r,!0,e)&&i}if(i=br(s=e.a=t,r,!0,e)&&i,i=br(s,r,!1,e)&&i,n)for(o=0;o<n.length;o++)i=br(s=e.a=n[o],r,!1,e)&&i}function br(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.Y&&s.capture==n){var a=s.listener,u=s.ca||s.src;s.Z&&nr(t.c,s),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}fn(gr,ln),gr.prototype[Qn]=!0,(Ye=gr.prototype).addEventListener=function(t,e,n,r){sr(this,t,e,n,r)},Ye.removeEventListener=function(t,e,n,r){cr(this,t,e,n,r)},Ye.G=function(){if(gr.X.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)tr(n[r]);delete e.a[t],e.b--}}this.C=null},Ye.va=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},Ye.wa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var wr=Ze.JSON.stringify;function _r(){this.b=this.a=null}var Ir,Er=new(function(){function t(t,e){this.c=t,this.f=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,t=this.a,this.a=t.next,t.next=null):t=this.c(),t},t}())((function(){return new Sr}),(function(t){t.reset()}));function Tr(){var t=xr,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function Sr(){this.next=this.b=this.a=null}function Ar(t){Ze.setTimeout((function(){throw t}),0)}function Nr(t,e){Ir||function(){var t=Ze.Promise.resolve(void 0);Ir=function(){t.then(Or)}}(),kr||(Ir(),kr=!0),xr.add(t,e)}_r.prototype.add=function(t,e){var n=Er.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},Sr.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},Sr.prototype.reset=function(){this.next=this.b=this.a=null};var kr=!1,xr=new _r;function Or(){for(var t;t=Tr();){try{t.a.call(t.b)}catch(t){Ar(t)}var e=Er;e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}kr=!1}function Pr(t,e){gr.call(this),this.b=t||1,this.a=e||Ze,this.f=un(this.Za,this),this.g=hn()}function Rr(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function Dr(t,e,n){if("function"==typeof t)n&&(t=un(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=un(t.handleEvent,t)}return 2147483647<Number(e)?-1:Ze.setTimeout(t,e||0)}function Cr(t){t.a=Dr((function(){t.a=null,t.c&&(t.c=!1,Cr(t))}),t.h);var e=t.b;t.b=null,t.g.apply(null,e)}fn(Pr,gr),(Ye=Pr.prototype).aa=!1,Ye.M=null,Ye.Za=function(){if(this.aa){var t=hn()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),mr(this,"tick"),this.aa&&(Rr(this),this.start()))}},Ye.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=hn())},Ye.G=function(){Pr.X.G.call(this),Rr(this),delete this.a};var Lr=function(t){function e(e,n){var r=t.call(this)||this;return r.g=e,r.h=n,r.b=null,r.c=!1,r.a=null,r}return function(t,e){function n(){this.constructor=t}Xe(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:Cr(this)},e.prototype.G=function(){t.prototype.G.call(this),this.a&&(Ze.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},e}(ln);function Mr(t){ln.call(this),this.b=t,this.a={}}fn(Mr,ln);var jr=[];function Ur(t,e,n,r){Array.isArray(n)||(n&&(jr[0]=n.toString()),n=jr);for(var i=0;i<n.length;i++){var o=sr(e,n[i],r||t.handleEvent,!1,t.b||t);if(!o)break;t.a[o.key]=o}}function Fr(t){Tn(t.a,(function(t,e){this.a.hasOwnProperty(e)&&hr(t)}),t),t.a={}}function Vr(){this.a=!0}function qr(t,e,n,r){t.info((function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return wr(n)}catch(t){return e}}(t,n)+(r?" "+r:"")}))}Mr.prototype.G=function(){Mr.X.G.call(this),Fr(this)},Mr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Vr.prototype.info=function(){};var Br={},Gr=null;function zr(){return Gr=Gr||new gr}function Hr(t){Xn.call(this,Br.Fa,t)}function Kr(t){var e=zr();mr(e,new Hr(e,t))}function Wr(t,e){Xn.call(this,Br.STAT_EVENT,t),this.stat=e}function Xr(t){var e=zr();mr(e,new Wr(e,t))}function $r(t){Xn.call(this,Br.Ga,t)}function Yr(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return Ze.setTimeout((function(){t()}),e)}Br.Fa="serverreachability",fn(Hr,Xn),Br.STAT_EVENT="statevent",fn(Wr,Xn),Br.Ga="timingevent",fn($r,Xn);var Qr={NO_ERROR:0,$a:1,nb:2,mb:3,hb:4,lb:5,ob:6,Da:7,TIMEOUT:8,rb:9},Jr={fb:"complete",Bb:"success",Ea:"error",Da:"abort",tb:"ready",ub:"readystatechange",TIMEOUT:"timeout",pb:"incrementaldata",sb:"progress",ib:"downloadprogress",Jb:"uploadprogress"};function Zr(){}function ti(t){var e;return(e=t.a)||(e=t.a={}),e}function ei(){}Zr.prototype.a=null;var ni,ri={OPEN:"a",eb:"b",Ea:"c",qb:"d"};function ii(){Xn.call(this,"d")}function oi(){Xn.call(this,"c")}function si(){}function ai(t,e,n,r){this.g=t,this.c=e,this.f=n,this.S=r||1,this.J=new Mr(this),this.P=ui,t=Cn?125:void 0,this.R=new Pr(t),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}fn(ii,Xn),fn(oi,Xn),fn(si,Zr),ni=new si;var ui=45e3,ci={},hi={};function fi(t,e,n){t.H=1,t.i=Di(Ni(e)),t.j=n,t.I=!0,li(t,null)}function li(t,e){t.u=hn(),vi(t),t.l=Ni(t.i);var n=t.l,r=t.S;Array.isArray(r)||(r=[String(r)]),Ki(n.b,"t",r),t.D=0,t.a=qo(t.g,t.g.C?e:null),0<t.O&&(t.F=new Lr(un(t.Ca,t,t.a),t.O)),Ur(t.J,t.a,"readystatechange",t.Xa),e=t.B?Sn(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),Kr(1),function(t,e,n,r,i,o){t.info((function(){if(t.a)if(o)for(var s="",a=o.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var h=c[0];c=c[1];var f=h.split("_");s=2<=f.length&&"type"==f[1]?s+(h+"=")+c+"&":s+(h+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+s}))}(t.c,t.m,t.l,t.f,t.S,t.j)}function pi(t,e,n){for(var r=!0;!t.A&&t.D<n.length;){var i=di(t,n);if(i==hi){4==e&&(t.h=4,Xr(14),r=!1),qr(t.c,t.f,null,"[Incomplete Response]");break}if(i==ci){t.h=4,Xr(15),qr(t.c,t.f,n,"[Invalid Chunk]"),r=!1;break}qr(t.c,t.f,i,null),wi(t,i)}4==e&&0==n.length&&(t.h=1,Xr(16),r=!1),t.b=t.b&&r,r?0<n.length&&!t.V&&(t.V=!0,(e=t.g).a==t&&e.U&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),Do(e),e.F=!0,Xr(11))):(qr(t.c,t.f,n,"[Invalid Chunked Response]"),bi(t),mi(t))}function di(t,e){var n=t.D,r=e.indexOf("\n",n);return-1==r?hi:(n=Number(e.substring(n,r)),isNaN(n)?ci:(r+=1)+n>e.length?hi:(e=e.substr(r,n),t.D=r+n,e))}function vi(t){t.T=hn()+t.P,yi(t,t.P)}function yi(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=Yr(un(t.Va,t),e)}function gi(t){t.o&&(Ze.clearTimeout(t.o),t.o=null)}function mi(t){0==t.g.v||t.A||Mo(t.g,t)}function bi(t){gi(t);var e=t.F;e&&"function"==typeof e.ja&&e.ja(),t.F=null,Rr(t.R),Fr(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ja())}function wi(t,e){try{var n=t.g;if(0!=n.v&&(n.a==t||Zi(n.b,t)))if(n.I=t.N,!t.C&&Zi(n.b,t)&&3==n.v){try{var r=n.ka.a.parse(e)}catch(t){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.j){if(n.a){if(!(n.a.u+3e3<t.u))break t;Lo(n),To(n)}Ro(n),Xr(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&0==n.o&&!n.m&&(n.m=Yr(un(n.Sa,n),6e3));if(1>=Ji(n.b)&&n.ea){try{n.ea()}catch(t){}n.ea=void 0}}else Uo(n,11)}else if((t.C||n.a==t)&&Lo(n),!gn(e))for(e=r=n.ka.a.parse(e),r=0;r<e.length;r++)if(i=e[r],n.P=i[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ga=i[2];var o=i[3];null!=o&&(n.ha=o,n.c.info("VER="+n.ha));var s=i[4];null!=s&&(n.pa=s,n.c.info("SVER="+n.pa));var a=i[5];if(null!=a&&"number"==typeof a&&0<a){var u=1.5*a;n.D=u,n.c.info("backChannelRequestTimeoutMs_="+u)}u=n;var c=t.a;if(c){var h=c.a?c.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(h){var f=u.b;!f.a&&(wn(h,"spdy")||wn(h,"quic")||wn(h,"h2"))&&(f.f=f.g,f.a=new Set,f.b&&(to(f,f.b),f.b=null))}if(u.A){var l=c.a?c.a.getResponseHeader("X-HTTP-Session-Id"):null;l&&(u.na=l,Ri(u.B,u.A,l))}}n.v=3,n.f&&n.f.ta(),n.U&&(n.N=hn()-t.u,n.c.info("Handshake RTT: "+n.N+"ms"));var p=t;if((u=n).la=Vo(u,u.C?u.ga:null,u.fa),p.C){eo(u.b,p);var d=p,v=u.D;v&&d.setTimeout(v),d.o&&(gi(d),vi(d)),u.a=p}else Po(u);0<n.g.length&&No(n)}else"stop"!=i[0]&&"close"!=i[0]||Uo(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?Uo(n,7):Eo(n):"noop"!=i[0]&&n.f&&n.f.sa(i),n.o=0);Kr(4)}catch(t){}}function _i(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(en(t)||"string"==typeof t)dn(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if(en(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"==typeof t)return t.split("");if(en(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function Ii(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Ii)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function Ei(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Ti(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)Ti(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function Ti(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(Ye=ai.prototype).setTimeout=function(t){this.P=t},Ye.Xa=function(t){t=t.target;var e=this.F;e&&3==bo(t)?e.f():this.Ca(t)},Ye.Ca=function(t){try{if(t==this.a)t:{var e=bo(this.a),n=this.a.ua(),r=this.a.W();if(!(3>e||3==e&&!Cn&&!this.a.$())){this.A||4!=e||7==n||Kr(8==n||0>=r?3:2),gi(this);var i=this.a.W();this.N=i;var o=this.a.$();if(this.b=200==i,function(t,e,n,r,i,o,s){t.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+s}))}(this.c,this.m,this.l,this.f,this.S,e,i),this.b){if(this.U&&!this.C){e:{if(this.a){var s,a=this.a;if((s=a.a?a.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!gn(s)){var u=s;break e}}u=null}if(!u){this.b=!1,this.h=3,Xr(12),bi(this),mi(this);break t}qr(this.c,this.f,u,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,wi(this,u)}this.I?(pi(this,e,o),Cn&&this.b&&3==e&&(Ur(this.J,this.R,"tick",this.Wa),this.R.start())):(qr(this.c,this.f,o,null),wi(this,o)),4==e&&bi(this),this.b&&!this.A&&(4==e?Mo(this.g,this):(this.b=!1,vi(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.h=3,Xr(12)):(this.h=0,Xr(13)),bi(this),mi(this)}}}catch(t){}},Ye.Wa=function(){if(this.a){var t=bo(this.a),e=this.a.$();this.D<e.length&&(gi(this),pi(this,t,e),this.b&&4!=t&&vi(this))}},Ye.cancel=function(){this.A=!0,bi(this)},Ye.Va=function(){this.o=null;var t=hn();0<=t-this.T?(function(t,e){t.info((function(){return"TIMEOUT: "+e}))}(this.c,this.l),2!=this.H&&(Kr(3),Xr(17)),bi(this),this.h=2,mi(this)):yi(this,this.T-t)},(Ye=Ii.prototype).K=function(){Ei(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},Ye.L=function(){return Ei(this),this.a.concat()},Ye.get=function(t,e){return Ti(this.b,t)?this.b[t]:e},Ye.set=function(t,e){Ti(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},Ye.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var Si=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Ai(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof Ai){this.a=void 0!==e?e:t.a,ki(this,t.f),this.j=t.j,xi(this,t.c),Oi(this,t.h),this.g=t.g,e=t.b;var n=new Bi;n.c=e.c,e.a&&(n.a=new Ii(e.a),n.b=e.b),Pi(this,n),this.i=t.i}else t&&(n=String(t).match(Si))?(this.a=!!e,ki(this,n[1]||"",!0),this.j=Ci(n[2]||""),xi(this,n[3]||"",!0),Oi(this,n[4]),this.g=Ci(n[5]||"",!0),Pi(this,n[6]||"",!0),this.i=Ci(n[7]||"")):(this.a=!!e,this.b=new Bi(null,this.a))}function Ni(t){return new Ai(t)}function ki(t,e,n){t.f=n?Ci(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function xi(t,e,n){t.c=n?Ci(e,!0):e}function Oi(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function Pi(t,e,n){e instanceof Bi?(t.b=e,function(t,e){e&&!t.f&&(Gi(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(zi(this,e),Ki(this,n,t))}),t)),t.f=e}(t.b,t.a)):(n||(e=Li(e,Vi)),t.b=new Bi(e,t.a))}function Ri(t,e,n){t.b.set(e,n)}function Di(t){return Ri(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^hn()).toString(36)),t}function Ci(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Li(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Mi),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Mi(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Ai.prototype.toString=function(){var t=[],e=this.f;e&&t.push(Li(e,ji,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(Li(e,ji,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(Li(n,"/"==n.charAt(0)?Fi:Ui,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",Li(n,qi)),t.join("")};var ji=/[#\/\?@]/g,Ui=/[#\?:]/g,Fi=/[#\?]/g,Vi=/[#\?@]/g,qi=/#/g;function Bi(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Gi(t){t.a||(t.a=new Ii,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function zi(t,e){Gi(t),e=Wi(t,e),Ti(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Ti((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&Ei(t)))}function Hi(t,e){return Gi(t),e=Wi(t,e),Ti(t.a.b,e)}function Ki(t,e,n){zi(t,e),0<n.length&&(t.c=null,t.a.set(Wi(t,e),yn(n)),t.b+=n.length)}function Wi(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}(Ye=Bi.prototype).add=function(t,e){Gi(this),this.c=null,t=Wi(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},Ye.forEach=function(t,e){Gi(this),this.a.forEach((function(n,r){dn(n,(function(n){t.call(e,n,r,this)}),this)}),this)},Ye.L=function(){Gi(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},Ye.K=function(t){Gi(this);var e=[];if("string"==typeof t)Hi(this,t)&&(e=vn(e,this.a.get(Wi(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=vn(e,t[n])}return e},Ye.set=function(t,e){return Gi(this),this.c=null,Hi(this,t=Wi(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},Ye.get=function(t,e){return t&&0<(t=this.K(t)).length?String(t[0]):e},Ye.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.K(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}}return this.c=t.join("&")};var Xi=function(t,e){this.b=t,this.a=e};function $i(t){this.g=t||Yi,t=Ze.PerformanceNavigationTiming?0<(t=Ze.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(Ze.ia&&Ze.ia.ya&&Ze.ia.ya()&&Ze.ia.ya().Lb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var Yi=10;function Qi(t){return!!t.b||!!t.a&&t.a.size>=t.f}function Ji(t){return t.b?1:t.a?t.a.size:0}function Zi(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function to(t,e){t.a?t.a.add(e):t.b=e}function eo(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function no(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null!=t.a&&0!==t.a.size){var r=t.c;try{for(var i=$e(t.a.values()),o=i.next();!o.done;o=i.next()){var s=o.value;r=r.concat(s.s)}}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return yn(t.c)}function ro(){}function io(){this.a=new ro}function oo(t,e,n){var r=n||"";try{_i(t,(function(t,n){var i=t;nn(t)&&(i=wr(t)),e.push(r+n+"="+encodeURIComponent(i))}))}catch(t){throw e.push(r+"type="+encodeURIComponent("_badmap")),t}}function so(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(t){}}$i.prototype.cancel=function(){var t,e;if(this.c=no(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=$e(this.a.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(e){t={error:e}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},ro.prototype.stringify=function(t){return Ze.JSON.stringify(t,void 0)},ro.prototype.parse=function(t){return Ze.JSON.parse(t,void 0)};var ao=Ze.JSON.parse;function uo(t){gr.call(this),this.headers=new Ii,this.H=t||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=co,this.D=this.F=!1}fn(uo,gr);var co="",ho=/^https?$/i,fo=["POST","PUT"];function lo(t){return"content-type"==t.toLowerCase()}function po(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,vo(t),go(t)}function vo(t){t.u||(t.u=!0,mr(t,"complete"),mr(t,"error"))}function yo(t){if(t.b&&void 0!==Je&&(!t.s[1]||4!=bo(t)||2!=t.W()))if(t.l&&4==bo(t))Dr(t.za,0,t);else if(mr(t,"readystatechange"),4==bo(t)){t.b=!1;try{var e,n=t.W();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.B).match(Si)[1]||null;if(!o&&Ze.self&&Ze.self.location){var s=Ze.self.location.protocol;o=s.substr(0,s.length-1)}i=!ho.test(o?o.toLowerCase():"")}e=i}if(e)mr(t,"complete"),mr(t,"success");else{t.h=6;try{var a=2<bo(t)?t.a.statusText:""}catch(n){a=""}t.f=a+" ["+t.W()+"]",vo(t)}}finally{go(t)}}}function go(t,e){if(t.a){mo(t);var n=t.a,r=t.s[0]?tn:null;t.a=null,t.s=null,e||mr(t,"ready");try{n.onreadystatechange=r}catch(t){}}}function mo(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(Ze.clearTimeout(t.m),t.m=null)}function bo(t){return t.a?t.a.readyState:0}function wo(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return Tn(t,(function(t,n){e+=n,e+=":",e+=t,e+="\r\n"})),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Ri(t,e,n))}function _o(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Io(t){this.pa=0,this.g=[],this.c=new Vr,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.V=this.i=this.O=this.l=null,this.Oa=this.R=0,this.La=_o("failFast",!1,t),this.H=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.oa=this.P=-1,this.T=this.o=this.u=0,this.Ha=_o("baseRetryDelayMs",5e3,t),this.Ra=_o("retryDelaySeedMs",1e4,t),this.Ma=_o("forwardChannelMaxRetries",2,t),this.ma=_o("forwardChannelRequestTimeoutMs",2e4,t),this.Na=t&&t.g||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new $i(t&&t.concurrentRequestLimit),this.ka=new io,this.da=t&&t.fastHandshake||!1,this.Ia=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.S=!1),this.U=!this.da&&this.S&&t&&t.detectBufferingProxy||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null,(this.Ka=t&&t.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}function Eo(t){if(So(t),3==t.v){var e=t.R++,n=Ni(t.B);Ri(n,"SID",t.J),Ri(n,"RID",e),Ri(n,"TYPE","terminate"),xo(t,n),(e=new ai(t,t.c,e,void 0)).H=2,e.i=Di(Ni(n)),n=!1,Ze.navigator&&Ze.navigator.sendBeacon&&(n=Ze.navigator.sendBeacon(e.i.toString(),"")),!n&&Ze.Image&&((new Image).src=e.i,n=!0),n||(e.a=qo(e.g,null),e.a.ba(e.i)),e.u=hn(),vi(e)}Fo(t)}function To(t){t.a&&(Do(t),t.a.cancel(),t.a=null)}function So(t){To(t),t.j&&(Ze.clearTimeout(t.j),t.j=null),Lo(t),t.b.cancel(),t.h&&("number"==typeof t.h&&Ze.clearTimeout(t.h),t.h=null)}function Ao(t,e){t.g.push(new Xi(t.Oa++,e)),3==t.v&&No(t)}function No(t){Qi(t.b)||t.h||(t.h=!0,Nr(t.Ba,t),t.u=0)}function ko(t,e){var n;n=e?e.f:t.R++;var r=Ni(t.B);Ri(r,"SID",t.J),Ri(r,"RID",n),Ri(r,"AID",t.P),xo(t,r),t.i&&t.l&&wo(r,t.i,t.l),n=new ai(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=Oo(t,n,1e3),n.setTimeout(Math.round(.5*t.ma)+Math.round(.5*t.ma*Math.random())),to(t.b,n),fi(n,r,e)}function xo(t,e){t.f&&_i({},(function(t,n){Ri(e,n,t)}))}function Oo(t,e,n){n=Math.min(t.g.length,n);var r=t.f?un(t.f.Ja,t.f,t):null;t:for(var i=t.g,o=-1;;){var s=["count="+n];-1==o?0<n?(o=i[0].b,s.push("ofs="+o)):o=0:s.push("ofs="+o);for(var a=!0,u=0;u<n;u++){var c=i[u].b,h=i[u].a;if(0>(c-=o))o=Math.max(0,i[u].b-100),a=!1;else try{oo(h,s,"req"+c+"_")}catch(t){r&&r(h)}}if(a){r=s.join("&");break t}}return t=t.g.splice(0,n),e.s=t,r}function Po(t){t.a||t.j||(t.T=1,Nr(t.Aa,t),t.o=0)}function Ro(t){return!(t.a||t.j||3<=t.o||(t.T++,t.j=Yr(un(t.Aa,t),jo(t,t.o)),t.o++,0))}function Do(t){null!=t.s&&(Ze.clearTimeout(t.s),t.s=null)}function Co(t){t.a=new ai(t,t.c,"rpc",t.T),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=Ni(t.la);Ri(e,"RID","rpc"),Ri(e,"SID",t.J),Ri(e,"CI",t.H?"0":"1"),Ri(e,"AID",t.P),xo(t,e),Ri(e,"TYPE","xmlhttp"),t.i&&t.l&&wo(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ga,n.H=1,n.i=Di(Ni(e)),n.j=null,n.I=!0,li(n,t)}function Lo(t){null!=t.m&&(Ze.clearTimeout(t.m),t.m=null)}function Mo(t,e){var n=null;if(t.a==e){Lo(t),Do(t),t.a=null;var r=2}else{if(!Zi(t.b,e))return;n=e.s,eo(t.b,e),r=1}if(t.I=e.N,0!=t.v)if(e.b)if(1==r){n=e.j?e.j.length:0,e=hn()-e.u;var i=t.u;mr(r=zr(),new $r(r,n,e,i)),No(t)}else Po(t);else if(3==(i=e.h)||0==i&&0<t.I||!(1==r&&function(t,e){return!(Ji(t.b)>=t.b.f-(t.h?1:0)||(t.h?(t.g=e.s.concat(t.g),0):1==t.v||2==t.v||t.u>=(t.La?0:t.Ma)||(t.h=Yr(un(t.Ba,t,e),jo(t,t.u)),t.u++,0)))}(t,e)||2==r&&Ro(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),i){case 1:Uo(t,5);break;case 4:Uo(t,10);break;case 3:Uo(t,6);break;default:Uo(t,2)}}function jo(t,e){var n=t.Ha+Math.floor(Math.random()*t.Ra);return t.f||(n*=2),n*e}function Uo(t,e){if(t.c.info("Error code "+e),2==e){var n=null;t.f&&(n=null);var r=un(t.Ya,t);n||(n=new Ai("//www.google.com/images/cleardot.gif"),Ze.location&&"http"==Ze.location.protocol||ki(n,"https"),Di(n)),function(t,e){var n=new Vr;if(Ze.Image){var r=new Image;r.onload=cn(so,n,r,"TestLoadImage: loaded",!0,e),r.onerror=cn(so,n,r,"TestLoadImage: error",!1,e),r.onabort=cn(so,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=cn(so,n,r,"TestLoadImage: timeout",!1,e),Ze.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=t}else e(!1)}(n.toString(),r)}else Xr(2);t.v=0,t.f&&t.f.ra(e),Fo(t),So(t)}function Fo(t){t.v=0,t.I=-1,t.f&&(0==no(t.b).length&&0==t.g.length||(t.b.c.length=0,yn(t.g),t.g.length=0),t.f.qa())}function Vo(t,e,n){var r=function(t){return t instanceof Ai?Ni(t):new Ai(t,void 0)}(n);if(""!=r.c)e&&xi(r,e+"."+r.c),Oi(r,r.h);else{var i=Ze.location;r=function(t,e,n,r){var i=new Ai(null,void 0);return t&&ki(i,t),e&&xi(i,e),n&&Oi(i,n),r&&(i.g=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.V&&Tn(t.V,(function(t,e){Ri(r,e,t)})),e=t.A,n=t.na,e&&n&&Ri(r,e,n),Ri(r,"VER",t.ha),xo(t,r),r}function qo(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new uo(t.Na)).F=t.C,e}function Bo(){}function Go(){if(Rn&&!(10<=Number(zn)))throw Error("Environmental error: no available transport.")}function zo(t,e){gr.call(this),this.a=new Io(e),this.o=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!gn(t)&&(this.a.i=t),this.m=e&&e.supportsCrossDomainXhr||!1,this.l=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!gn(e)&&(this.a.A=e,null!==(t=this.b)&&e in t&&e in(t=this.b)&&delete t[e]),this.f=new Wo(this)}function Ho(t){ii.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function Ko(){oi.call(this),this.status=1}function Wo(t){this.a=t}(Ye=uo.prototype).ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=this.H?ti(this.H):ti(ni),this.a.onreadystatechange=un(this.za,this);try{this.A=!0,this.a.open(e,String(t),!0),this.A=!1}catch(t){return void po(this,t)}t=n||"";var i=new Ii(this.headers);r&&_i(r,(function(t,e){i.set(e,t)})),r=function(t){t:{for(var e=lo,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.L()),n=Ze.FormData&&t instanceof Ze.FormData,!(0<=pn(fo,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(t,e){this.a.setRequestHeader(e,t)}),this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{mo(this),0<this.o&&((this.D=function(t){return Rn&&Gn(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=un(this.xa,this)):this.m=Dr(this.xa,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(t){po(this,t)}},Ye.xa=function(){void 0!==Je&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,mr(this,"timeout"),this.abort(8))},Ye.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,mr(this,"complete"),mr(this,"abort"),go(this))},Ye.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),go(this,!0)),uo.X.G.call(this)},Ye.za=function(){this.j||(this.A||this.l||this.g?yo(this):this.Ua())},Ye.Ua=function(){yo(this)},Ye.W=function(){try{return 2<bo(this)?this.a.status:-1}catch(t){return-1}},Ye.$=function(){try{return this.a?this.a.responseText:""}catch(t){return""}},Ye.Pa=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),ao(e)}},Ye.ua=function(){return this.h},Ye.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(Ye=Io.prototype).ha=8,Ye.v=1,Ye.Ba=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,n=new ai(this,this.c,t,void 0),r=this.l;if(this.O&&(r?Nn(r=Sn(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)t:{for(var i=e=0;i<this.g.length;i++){var o=this.g[i];if(void 0===(o="__data__"in o.a&&"string"==typeof(o=o.a.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=i;break t}if(4096===e||i===this.g.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=Oo(this,n,e),Ri(i=Ni(this.B),"RID",t),Ri(i,"CVER",22),this.A&&Ri(i,"X-HTTP-Session-Id",this.A),xo(this,i),this.i&&r&&wo(i,this.i,r),to(this.b,n),this.Ia&&Ri(i,"TYPE","init"),this.da?(Ri(i,"$req",e),Ri(i,"SID","null"),n.U=!0,fi(n,i,null)):fi(n,i,e),this.v=2}}else 3==this.v&&(t?ko(this,t):0==this.g.length||Qi(this.b)||ko(this))},Ye.Aa=function(){if(this.j=null,Co(this),this.U&&!(this.F||null==this.a||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=Yr(un(this.Ta,this),t)}},Ye.Ta=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,Xr(10),To(this),Co(this))},Ye.Sa=function(){null!=this.m&&(this.m=null,To(this),Ro(this),Xr(19))},Ye.Ya=function(t){t?(this.c.info("Successfully pinged google.com"),Xr(2)):(this.c.info("Failed to ping google.com"),Xr(1))},(Ye=Bo.prototype).ta=function(){},Ye.sa=function(){},Ye.ra=function(){},Ye.qa=function(){},Ye.Ja=function(){},Go.prototype.a=function(t,e){return new zo(t,e)},fn(zo,gr),zo.prototype.g=function(){this.a.f=this.f,this.m&&(this.a.C=!0);var t=this.a,e=this.o,n=this.b||void 0;Xr(0),t.fa=e,t.V=n||{},t.H=t.S,t.B=Vo(t,null,t.fa),No(t)},zo.prototype.close=function(){Eo(this.a)},zo.prototype.h=function(t){if("string"==typeof t){var e={};e.__data__=t,Ao(this.a,e)}else this.l?((e={}).__data__=wr(t),Ao(this.a,e)):Ao(this.a,t)},zo.prototype.G=function(){this.a.f=null,delete this.f,Eo(this.a),delete this.a,zo.X.G.call(this)},fn(Ho,ii),fn(Ko,oi),fn(Wo,Bo),Wo.prototype.ta=function(){mr(this.a,"a")},Wo.prototype.sa=function(t){mr(this.a,new Ho(t))},Wo.prototype.ra=function(t){mr(this.a,new Ko(t))},Wo.prototype.qa=function(){mr(this.a,"b")},Go.prototype.createWebChannel=Go.prototype.a,zo.prototype.send=zo.prototype.h,zo.prototype.open=zo.prototype.g,zo.prototype.close=zo.prototype.close,Qr.NO_ERROR=0,Qr.TIMEOUT=8,Qr.HTTP_ERROR=6,Jr.COMPLETE="complete",ei.EventType=ri,ri.OPEN="a",ri.CLOSE="b",ri.ERROR="c",ri.MESSAGE="d",gr.prototype.listen=gr.prototype.va,uo.prototype.listenOnce=uo.prototype.wa,uo.prototype.getLastError=uo.prototype.Qa,uo.prototype.getLastErrorCode=uo.prototype.ua,uo.prototype.getStatus=uo.prototype.W,uo.prototype.getResponseJson=uo.prototype.Pa,uo.prototype.getResponseText=uo.prototype.$,uo.prototype.send=uo.prototype.ba;var Xo=Qr,$o=Jr,Yo=Br,Qo=10,Jo=11,Zo=ei,ts=uo,es=function(t,e,n,r,i,o){this.t=t,this.persistenceKey=e,this.host=n,this.ssl=r,this.forceLongPolling=i,this.i=o},ns=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"o",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),rs=new lt("@firebase/firestore");function is(){return rs.logLevel}function os(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(rs.logLevel<=ot.DEBUG){var r=e.map(us);rs.debug.apply(rs,F(["Firestore (8.2.9): "+t],r))}}function ss(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(rs.logLevel<=ot.ERROR){var r=e.map(us);rs.error.apply(rs,F(["Firestore (8.2.9): "+t],r))}}function as(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(rs.logLevel<=ot.WARN){var r=e.map(us);rs.warn.apply(rs,F(["Firestore (8.2.9): "+t],r))}}function us(t){if("string"==typeof t)return t;try{return e=t,JSON.stringify(e)}catch(e){return t}var e}function cs(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.2.9) INTERNAL ASSERTION FAILED: "+t;throw ss(e),new Error(e)}function hs(t,e){t||cs()}function fs(t,e){return t}function ls(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var ps=function(){function t(){}return t.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=ls(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function ds(t,e){return t<e?-1:t>e?1:0}function vs(t,e,n){return t.length===e.length&&t.every((function(t,r){return n(t,e[r])}))}function ys(t){return t+"\0"}var gs=function(){function t(t){this.h=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return t=this.h,btoa(t);var t},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.h)},t.prototype.l=function(){return 2*this.h.length},t.prototype._=function(t){return ds(this.h,t.h)},t.prototype.isEqual=function(t){return this.h===t.h},t}();gs.T=new gs("");var ms={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},bs=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return D(e,t),e}(Error),ws=function(){function t(t){this.I=t}return t.fromBase64String=function(e){try{return new t(gs.fromBase64String(e))}catch(e){throw new bs(ms.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(gs.fromUint8Array(e))},t.prototype.toBase64=function(){return this.I.toBase64()},t.prototype.toUint8Array=function(){return this.I.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this.I.isEqual(t.I)},t}(),_s=function(){function t(t){this.uid=t}return t.prototype.m=function(){return null!=this.uid},t.prototype.A=function(){return this.m()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();_s.UNAUTHENTICATED=new _s(null),_s.R=new _s("google-credentials-uid"),_s.P=new _s("first-party-uid");var Is=function(t,e){this.user=e,this.type="OAuth",this.g={},this.g.Authorization="Bearer "+t},Es=function(){function t(){this.V=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.p=function(){},t.prototype.v=function(t){this.V=t,t(_s.UNAUTHENTICATED)},t.prototype.S=function(){this.V=null},t}(),Ts=function(){function t(t){var e=this;this.D=null,this.currentUser=_s.UNAUTHENTICATED,this.C=!1,this.N=0,this.V=null,this.forceRefresh=!1,this.D=function(){e.N++,e.currentUser=e.$(),e.C=!0,e.V&&e.V(e.currentUser)},this.N=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.D):(this.D(null),t.get().then((function(t){e.auth=t,e.D&&e.auth.addAuthTokenListener(e.D)}),(function(){})))}return t.prototype.getToken=function(){var t=this,e=this.N,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return t.N!==e?(os("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(hs("string"==typeof n.accessToken),new Is(n.accessToken,t.currentUser)):null})):Promise.resolve(null)},t.prototype.p=function(){this.forceRefresh=!0},t.prototype.v=function(t){this.V=t,this.C&&t(this.currentUser)},t.prototype.S=function(){this.auth&&this.auth.removeAuthTokenListener(this.D),this.D=null,this.V=null},t.prototype.$=function(){var t=this.auth&&this.auth.getUid();return hs(null===t||"string"==typeof t),new _s(t)},t}(),Ss=function(){function t(t,e){this.F=t,this.O=e,this.type="FirstParty",this.user=_s.P}return Object.defineProperty(t.prototype,"g",{get:function(){var t={"X-Goog-AuthUser":this.O},e=this.F.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),t},enumerable:!1,configurable:!0}),t}(),As=function(){function t(t,e){this.F=t,this.O=e}return t.prototype.getToken=function(){return Promise.resolve(new Ss(this.F,this.O))},t.prototype.v=function(t){t(_s.P)},t.prototype.S=function(){},t.prototype.p=function(){},t}(),Ns=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.k=function(t){return n.M(t)},this.L=function(t){return e.B(t)})}return t.prototype.M=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.L&&this.L(t),t},t}();Ns.q=-1;var ks=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new bs(ms.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new bs(ms.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new bs(ms.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new bs(ms.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,1e6*(e-1e3*n))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype.U=function(t){return this.seconds===t.seconds?ds(this.nanoseconds,t.nanoseconds):ds(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){var t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),xs=function(){function t(t){this.timestamp=t}return t.K=function(e){return new t(e)},t.min=function(){return new t(new ks(0,0))},t.prototype._=function(t){return this.timestamp.U(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.W=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.j=function(){return this.timestamp},t}(),Os=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&cs(),void 0===n?n=t.length-e:n>t.length-e&&cs(),this.segments=t,this.offset=e,this.G=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.G},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.H(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach((function(t){n.push(t)})):n.push(e),this.J(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.Y=function(t){return t=void 0===t?1:t,this.J(this.segments,this.offset+t,this.length-t)},t.prototype.X=function(){return this.J(this.segments,this.offset,this.length-1)},t.prototype.Z=function(){return this.segments[this.offset]},t.prototype.tt=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.et=function(){return 0===this.length},t.prototype.nt=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.st=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.it=function(){return this.segments.slice(this.offset,this.limit())},t.H=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),Ps=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return D(e,t),e.prototype.J=function(t,n,r){return new e(t,n,r)},e.prototype.rt=function(){return this.it().join("/")},e.prototype.toString=function(){return this.rt()},e.ot=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,o=t;i<o.length;i++){var s=o[i];if(s.indexOf("//")>=0)throw new bs(ms.INVALID_ARGUMENT,"Invalid segment ("+s+"). Paths must not contain // in them.");r.push.apply(r,s.split("/").filter((function(t){return t.length>0})))}return new e(r)},e.ct=function(){return new e([])},e}(Os),Rs=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Ds=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return D(e,t),e.prototype.J=function(t,n,r){return new e(t,n,r)},e.at=function(t){return Rs.test(t)},e.prototype.rt=function(){return this.it().map((function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.at(t)||(t="`"+t+"`"),t})).join(".")},e.prototype.toString=function(){return this.rt()},e.prototype.ut=function(){return 1===this.length&&"__name__"===this.get(0)},e.ht=function(){return new e(["__name__"])},e.lt=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new bs(ms.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},s=!1;i<t.length;){var a=t[i];if("\\"===a){if(i+1===t.length)throw new bs(ms.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new bs(ms.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===a?(s=!s,i++):"."!==a||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new bs(ms.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.ct=function(){return new e([])},e}(Os),Cs=function(){function t(t){this.path=t}return t._t=function(e){return new t(Ps.ot(e))},t.ft=function(e){return new t(Ps.ot(e).Y(5))},t.prototype.dt=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===Ps.H(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.H=function(t,e){return Ps.H(t.path,e.path)},t.wt=function(t){return t.length%2==0},t.Et=function(e){return new t(new Ps(e.slice()))},t}();function Ls(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ms(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function js(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Us=function(){function t(t){this.fields=t,t.sort(Ds.H)}return t.prototype.Tt=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].nt(t))return!0;return!1},t.prototype.isEqual=function(t){return vs(this.fields,t.fields,(function(t,e){return t.isEqual(e)}))},t}(),Fs=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Vs(t){if(hs(!!t),"string"==typeof t){var e=0,n=Fs.exec(t);if(hs(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:qs(t.seconds),nanos:qs(t.nanos)}}function qs(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Bs(t){return"string"==typeof t?gs.fromBase64String(t):gs.fromUint8Array(t)}function Gs(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function zs(t){var e=t.mapValue.fields.__previous_value__;return Gs(e)?zs(e):e}function Hs(t){var e=Vs(t.mapValue.fields.__local_write_time__.timestampValue);return new ks(e.seconds,e.nanos)}function Ks(t){return null==t}function Ws(t){return 0===t&&1/t==-1/0}function Xs(t){return"number"==typeof t&&Number.isInteger(t)&&!Ws(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}function $s(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Gs(t)?4:10:cs()}function Ys(t,e){var n=$s(t);if(n!==$s(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Hs(t).isEqual(Hs(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=Vs(t.timestampValue),r=Vs(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return Bs(t.bytesValue).isEqual(Bs(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return qs(t.geoPointValue.latitude)===qs(e.geoPointValue.latitude)&&qs(t.geoPointValue.longitude)===qs(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return qs(t.integerValue)===qs(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=qs(t.doubleValue),r=qs(e.doubleValue);return n===r?Ws(n)===Ws(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return vs(t.arrayValue.values||[],e.arrayValue.values||[],Ys);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(Ls(n)!==Ls(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Ys(n[i],r[i])))return!1;return!0}(t,e);default:return cs()}}function Qs(t,e){return void 0!==(t.values||[]).find((function(t){return Ys(t,e)}))}function Js(t,e){var n=$s(t),r=$s(e);if(n!==r)return ds(n,r);switch(n){case 0:return 0;case 1:return ds(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=qs(t.integerValue||t.doubleValue),r=qs(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return Zs(t.timestampValue,e.timestampValue);case 4:return Zs(Hs(t),Hs(e));case 5:return ds(t.stringValue,e.stringValue);case 6:return function(t,e){var n=Bs(t),r=Bs(e);return n._(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var o=ds(n[i],r[i]);if(0!==o)return o}return ds(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=ds(qs(t.latitude),qs(e.latitude));return 0!==n?n:ds(qs(t.longitude),qs(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var o=Js(n[i],r[i]);if(o)return o}return ds(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var s=0;s<r.length&&s<o.length;++s){var a=ds(r[s],o[s]);if(0!==a)return a;var u=Js(n[r[s]],i[o[s]]);if(0!==u)return u}return ds(r.length,o.length)}(t.mapValue,e.mapValue);default:throw cs()}}function Zs(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return ds(t,e);var n=Vs(t),r=Vs(e),i=ds(n.seconds,r.seconds);return 0!==i?i:ds(n.nanos,r.nanos)}function ta(t){return ea(t)}function ea(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){var e=Vs(t);return"time("+e.seconds+","+e.nanos+")"}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Bs(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,Cs.ft(n).toString()):"geoPointValue"in t?"geo("+(e=t.geoPointValue).latitude+","+e.longitude+")":"arrayValue"in t?function(t){for(var e="[",n=!0,r=0,i=t.values||[];r<i.length;r++)n?n=!1:e+=",",e+=ea(i[r]);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){for(var e="{",n=!0,r=0,i=Object.keys(t.fields||{}).sort();r<i.length;r++){var o=i[r];n?n=!1:e+=",",e+=o+":"+ea(t.fields[o])}return e+"}"}(t.mapValue):cs();var e,n}function na(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.rt()}}function ra(t){return!!t&&"integerValue"in t}function ia(t){return!!t&&"arrayValue"in t}function oa(t){return!!t&&"nullValue"in t}function sa(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function aa(t){return!!t&&"mapValue"in t}var ua=function(){function t(t){this.proto=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t.et())return this.proto;for(var e=this.proto,n=0;n<t.length-1;++n){if(!e.mapValue.fields)return null;if(!aa(e=e.mapValue.fields[t.get(n)]))return null}return(e=(e.mapValue.fields||{})[t.tt()])||null},t.prototype.isEqual=function(t){return Ys(this.proto,t.proto)},t}(),ca=function(){function t(t){void 0===t&&(t=ua.empty()),this.It=t,this.At=new Map}return t.prototype.set=function(t,e){return this.Rt(t,e),this},t.prototype.delete=function(t){return this.Rt(t,null),this},t.prototype.Rt=function(t,e){for(var n=this.At,r=0;r<t.length-1;++r){var i=t.get(r),o=n.get(i);o instanceof Map?n=o:o&&10===$s(o)?(o=new Map(Object.entries(o.mapValue.fields||{})),n.set(i,o),n=o):(o=new Map,n.set(i,o),n=o)}n.set(t.tt(),e)},t.prototype.Pt=function(){var t=this.yt(Ds.ct(),this.At);return null!=t?new ua(t):this.It},t.prototype.yt=function(t,e){var n=this,r=!1,i=this.It.field(t),o=aa(i)?Object.assign({},i.mapValue.fields):{};return e.forEach((function(e,i){if(e instanceof Map){var s=n.yt(t.child(i),e);null!=s&&(o[i]=s,r=!0)}else null!==e?(o[i]=e,r=!0):o.hasOwnProperty(i)&&(delete o[i],r=!0)})),r?{mapValue:{fields:o}}:null},t}();function ha(t){var e=[];return Ms(t.fields||{},(function(t,n){var r=new Ds([t]);if(aa(n)){var i=ha(n.mapValue).fields;if(0===i.length)e.push(r);else for(var o=0,s=i;o<s.length;o++){var a=s[o];e.push(r.child(a))}}else e.push(r)})),new Us(e)}var fa=function(t,e){this.key=t,this.version=e},la=function(t){function e(e,n,r,i){var o=this;return(o=t.call(this,e,n)||this).gt=r,o.Vt=!!i.Vt,o.hasCommittedMutations=!!i.hasCommittedMutations,o}return D(e,t),e.prototype.field=function(t){return this.gt.field(t)},e.prototype.data=function(){return this.gt},e.prototype.bt=function(){return this.gt.proto},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.Vt===t.Vt&&this.hasCommittedMutations===t.hasCommittedMutations&&this.gt.isEqual(t.gt)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.gt.toString()+", {hasLocalMutations: "+this.Vt+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.Vt||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e}(fa),pa=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n)||this).hasCommittedMutations=!(!r||!r.hasCommittedMutations),i}return D(e,t),e.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.hasCommittedMutations===this.hasCommittedMutations&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(fa),da=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return D(e,t),e.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(fa),va=function(t,e,n,r,i,o,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.vt=null};function ya(t,e,n,r,i,o,s){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),new va(t,e,n,r,i,o,s)}function ga(t){var e=fs(t);if(null===e.vt){var n=e.path.rt();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((function(t){return function(t){return t.field.rt()+t.op.toString()+ta(t.value)}(t)})).join(","),n+="|ob:",n+=e.orderBy.map((function(t){return function(t){return t.field.rt()+t.dir}(t)})).join(","),Ks(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=Oa(e.startAt)),e.endAt&&(n+="|ub:",n+=Oa(e.endAt)),e.vt=n}return e.vt}function ma(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!Ra(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if(i=t.filters[r],o=e.filters[r],i.op!==o.op||!i.field.isEqual(o.field)||!Ys(i.value,o.value))return!1;var i,o;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Ca(t.startAt,e.startAt)&&Ca(t.endAt,e.endAt)}function ba(t){return Cs.wt(t.path)&&null===t.collectionGroup&&0===t.filters.length}var wa=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return D(e,t),e.create=function(t,n,r){return t.ut()?"in"===n||"not-in"===n?this.St(t,n,r):new _a(t,n,r):"array-contains"===n?new Sa(t,r):"in"===n?new Aa(t,r):"not-in"===n?new Na(t,r):"array-contains-any"===n?new ka(t,r):new e(t,n,r)},e.St=function(t,e,n){return"in"===e?new Ia(t,n):new Ea(t,n)},e.prototype.matches=function(t){var e=t.field(this.field);return"!="===this.op?null!==e&&this.Dt(Js(e,this.value)):null!==e&&$s(this.value)===$s(e)&&this.Dt(Js(e,this.value))},e.prototype.Dt=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return cs()}},e.prototype.Ct=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}((function(){})),_a=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=Cs.ft(r.referenceValue),i}return D(e,t),e.prototype.matches=function(t){var e=Cs.H(t.key,this.key);return this.Dt(e)},e}(wa),Ia=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=Ta(0,n),r}return D(e,t),e.prototype.matches=function(t){return this.keys.some((function(e){return e.isEqual(t.key)}))},e}(wa),Ea=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=Ta(0,n),r}return D(e,t),e.prototype.matches=function(t){return!this.keys.some((function(e){return e.isEqual(t.key)}))},e}(wa);function Ta(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(t){return Cs.ft(t.referenceValue)}))}var Sa=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return D(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return ia(e)&&Qs(e.arrayValue,this.value)},e}(wa),Aa=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return D(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&Qs(this.value.arrayValue,e)},e}(wa),Na=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return D(e,t),e.prototype.matches=function(t){if(Qs(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.field(this.field);return null!==e&&!Qs(this.value.arrayValue,e)},e}(wa),ka=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return D(e,t),e.prototype.matches=function(t){var e=this,n=t.field(this.field);return!(!ia(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(t){return Qs(e.value.arrayValue,t)}))},e}(wa),xa=function(t,e){this.position=t,this.before=e};function Oa(t){return(t.before?"b":"a")+":"+t.position.map((function(t){return ta(t)})).join(",")}var Pa=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function Ra(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function Da(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var o=e[i],s=t.position[i];if(r=o.field.ut()?Cs.H(Cs.ft(s.referenceValue),n.key):Js(s,n.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function Ca(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!Ys(t.position[n],e.position[n]))return!1;return!0}var La=function(t,e,n,r,i,o,s,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===s&&(s=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.xt=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=s,this.endAt=a,this.Nt=null,this.$t=null,this.startAt,this.endAt};function Ma(t,e,n,r,i,o,s,a){return new La(t,e,n,r,i,o,s,a)}function ja(t){return new La(t)}function Ua(t){return!Ks(t.limit)&&"F"===t.limitType}function Fa(t){return!Ks(t.limit)&&"L"===t.limitType}function Va(t){return t.xt.length>0?t.xt[0].field:null}function qa(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.Ct())return r.field}return null}function Ba(t){return null!==t.collectionGroup}function Ga(t){var e=fs(t);if(null===e.Nt){e.Nt=[];var n=qa(e),r=Va(e);if(null!==n&&null===r)n.ut()||e.Nt.push(new Pa(n)),e.Nt.push(new Pa(Ds.ht(),"asc"));else{for(var i=!1,o=0,s=e.xt;o<s.length;o++){var a=s[o];e.Nt.push(a),a.field.ut()&&(i=!0)}if(!i){var u=e.xt.length>0?e.xt[e.xt.length-1].dir:"asc";e.Nt.push(new Pa(Ds.ht(),u))}}}return e.Nt}function za(t){var e=fs(t);if(!e.$t)if("F"===e.limitType)e.$t=ya(e.path,e.collectionGroup,Ga(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=Ga(e);r<i.length;r++){var o=i[r],s="desc"===o.dir?"asc":"desc";n.push(new Pa(o.field,s))}var a=e.endAt?new xa(e.endAt.position,!e.endAt.before):null,u=e.startAt?new xa(e.startAt.position,!e.startAt.before):null;e.$t=ya(e.path,e.collectionGroup,n,e.filters,e.limit,a,u)}return e.$t}function Ha(t,e,n){return new La(t.path,t.collectionGroup,t.xt.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Ka(t,e){return ma(za(t),za(e))&&t.limitType===e.limitType}function Wa(t){return ga(za(t))+"|lt:"+t.limitType}function Xa(t){return"Query(target="+function(t){var e=t.path.rt();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map((function(t){return(e=t).field.rt()+" "+e.op+" "+ta(e.value);var e})).join(", ")+"]"),Ks(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map((function(t){return function(t){return t.field.rt()+" ("+t.dir+")"}(t)})).join(", ")+"]"),t.startAt&&(e+=", startAt: "+Oa(t.startAt)),t.endAt&&(e+=", endAt: "+Oa(t.endAt)),"Target("+e+")"}(za(t))+"; limitType="+t.limitType+")"}function $a(t,e){return function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.dt(t.collectionGroup)&&t.path.nt(n):Cs.wt(t.path)?t.path.isEqual(n):t.path.st(n)}(t,e)&&function(t,e){for(var n=0,r=t.xt;n<r.length;n++){var i=r[n];if(!i.field.ut()&&null===e.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!Da(t.startAt,Ga(t),e)||t.endAt&&Da(t.endAt,Ga(t),e))}(t,e)}function Ya(t){return function(e,n){for(var r=!1,i=0,o=Ga(t);i<o.length;i++){var s=o[i],a=Qa(s,e,n);if(0!==a)return a;r=r||s.field.ut()}return 0}}function Qa(t,e,n){var r=t.field.ut()?Cs.H(e.key,n.key):function(t,e,n){var r=e.field(t),i=n.field(t);return null!==r&&null!==i?Js(r,i):cs()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return cs()}}var Ja=function(){function t(t,e,n,r,i,o,s){void 0===i&&(i=xs.min()),void 0===o&&(o=xs.min()),void 0===s&&(s=gs.T),this.target=t,this.targetId=e,this.Ft=n,this.sequenceNumber=r,this.Ot=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return t.prototype.kt=function(e){return new t(this.target,this.targetId,this.Ft,e,this.Ot,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.Mt=function(e,n){return new t(this.target,this.targetId,this.Ft,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.Lt=function(e){return new t(this.target,this.targetId,this.Ft,this.sequenceNumber,this.Ot,e,this.resumeToken)},t}();function Za(t,e){if(t.Bt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ws(e)?"-0":e}}function tu(t){return{integerValue:""+t}}function eu(t,e){return Xs(e)?tu(e):Za(t,e)}var nu=function(){this.qt=void 0};function ru(t,e,n){return t instanceof su?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof au?uu(t,e):t instanceof cu?hu(t,e):function(t,e){var n=ou(t,e),r=lu(n)+lu(t.Ut);return ra(n)&&ra(t.Ut)?tu(r):Za(t.Qt,r)}(t,e)}function iu(t,e,n){return t instanceof au?uu(t,e):t instanceof cu?hu(t,e):n}function ou(t,e){return t instanceof fu?ra(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var su=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return D(e,t),e}(nu),au=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return D(e,t),e}(nu);function uu(t,e){for(var n=pu(e),r=function(t){n.some((function(e){return Ys(e,t)}))||n.push(t)},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var cu=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return D(e,t),e}(nu);function hu(t,e){for(var n=pu(e),r=function(t){n=n.filter((function(e){return!Ys(e,t)}))},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var fu=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Qt=e,r.Ut=n,r}return D(e,t),e}(nu);function lu(t){return qs(t.integerValue||t.doubleValue)}function pu(t){return ia(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var du=function(t,e){this.field=t,this.transform=e},vu=function(t,e){this.version=t,this.transformResults=e},yu=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.Kt=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"Wt",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function gu(t,e){return void 0!==t.updateTime?e instanceof la&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e instanceof la}var mu=function(){};function bu(t,e,n){return t instanceof Tu?function(t,e,n){var r=t.value;if(n.transformResults){var i=Nu(t.fieldTransforms,e,n.transformResults);r=xu(t.fieldTransforms,r,i)}return new la(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):t instanceof Su?function(t,e,n){if(!gu(t.jt,e))return new da(t.key,n.version);var r=Au(t,e,n.transformResults?Nu(t.fieldTransforms,e,n.transformResults):[]);return new la(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):function(t,e,n){return new pa(t.key,n.version,{hasCommittedMutations:!0})}(t,0,n)}function wu(t,e,n){return t instanceof Tu?function(t,e,n){if(!gu(t.jt,e))return e;var r=t.value,i=ku(t.fieldTransforms,n,e);r=xu(t.fieldTransforms,r,i);var o=Eu(e);return new la(t.key,o,r,{Vt:!0})}(t,e,n):t instanceof Su?function(t,e,n){if(!gu(t.jt,e))return e;var r=Eu(e),i=Au(t,e,ku(t.fieldTransforms,n,e));return new la(t.key,r,i,{Vt:!0})}(t,e,n):function(t,e){return gu(t.jt,e)?new pa(t.key,xs.min()):e}(t,e)}function _u(t,e){return function(t,e){for(var n=null,r=0,i=t;r<i.length;r++){var o=i[r],s=e instanceof la?e.field(o.field):void 0,a=ou(o.transform,s||null);null!=a&&(n=null==n?(new ca).set(o.field,a):n.set(o.field,a))}return n?n.Pt():null}(t.fieldTransforms,e)}function Iu(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.jt.isEqual(e.jt)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&vs(t,e,(function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof au&&e instanceof au||t instanceof cu&&e instanceof cu?vs(t.elements,e.elements,Ys):t instanceof fu&&e instanceof fu?Ys(t.Ut,e.Ut):t instanceof su&&e instanceof su}(t.transform,e.transform)}(t,e)}))}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.Gt.isEqual(e.Gt))}function Eu(t){return t instanceof la?t.version:xs.min()}var Tu=function(t){function e(e,n,r,i){void 0===i&&(i=[]);var o=this;return(o=t.call(this)||this).key=e,o.value=n,o.jt=r,o.fieldTransforms=i,o.type=0,o}return D(e,t),e}(mu),Su=function(t){function e(e,n,r,i,o){void 0===o&&(o=[]);var s=this;return(s=t.call(this)||this).key=e,s.data=n,s.Gt=r,s.jt=i,s.fieldTransforms=o,s.type=1,s}return D(e,t),e}(mu);function Au(t,e,n){var r;return r=function(t,e){var n=new ca(e);return t.Gt.fields.forEach((function(e){if(!e.et()){var r=t.data.field(e);null!==r?n.set(e,r):n.delete(e)}})),n.Pt()}(t,r=e instanceof la?e.data():ua.empty()),xu(t.fieldTransforms,r,n)}function Nu(t,e,n){var r=[];hs(t.length===n.length);for(var i=0;i<n.length;i++){var o=t[i],s=o.transform,a=null;e instanceof la&&(a=e.field(o.field)),r.push(iu(s,a,n[i]))}return r}function ku(t,e,n){for(var r=[],i=0,o=t;i<o.length;i++){var s=o[i],a=s.transform,u=null;n instanceof la&&(u=n.field(s.field)),r.push(ru(a,u,e))}return r}function xu(t,e,n){for(var r=new ca(e),i=0;i<t.length;i++){var o=t[i];r.set(o.field,n[i])}return r.Pt()}var Ou,Pu,Ru=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.jt=n,r.type=2,r.fieldTransforms=[],r}return D(e,t),e}(mu),Du=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.jt=n,r.type=3,r.fieldTransforms=[],r}return D(e,t),e}(mu),Cu=function(t){this.count=t};function Lu(t){switch(t){case ms.OK:return cs();case ms.CANCELLED:case ms.UNKNOWN:case ms.DEADLINE_EXCEEDED:case ms.RESOURCE_EXHAUSTED:case ms.INTERNAL:case ms.UNAVAILABLE:case ms.UNAUTHENTICATED:return!1;case ms.INVALID_ARGUMENT:case ms.NOT_FOUND:case ms.ALREADY_EXISTS:case ms.PERMISSION_DENIED:case ms.FAILED_PRECONDITION:case ms.ABORTED:case ms.OUT_OF_RANGE:case ms.UNIMPLEMENTED:case ms.DATA_LOSS:return!0;default:return cs()}}function Mu(t){if(void 0===t)return ss("GRPC error has no .code"),ms.UNKNOWN;switch(t){case Ou.OK:return ms.OK;case Ou.CANCELLED:return ms.CANCELLED;case Ou.UNKNOWN:return ms.UNKNOWN;case Ou.DEADLINE_EXCEEDED:return ms.DEADLINE_EXCEEDED;case Ou.RESOURCE_EXHAUSTED:return ms.RESOURCE_EXHAUSTED;case Ou.INTERNAL:return ms.INTERNAL;case Ou.UNAVAILABLE:return ms.UNAVAILABLE;case Ou.UNAUTHENTICATED:return ms.UNAUTHENTICATED;case Ou.INVALID_ARGUMENT:return ms.INVALID_ARGUMENT;case Ou.NOT_FOUND:return ms.NOT_FOUND;case Ou.ALREADY_EXISTS:return ms.ALREADY_EXISTS;case Ou.PERMISSION_DENIED:return ms.PERMISSION_DENIED;case Ou.FAILED_PRECONDITION:return ms.FAILED_PRECONDITION;case Ou.ABORTED:return ms.ABORTED;case Ou.OUT_OF_RANGE:return ms.OUT_OF_RANGE;case Ou.UNIMPLEMENTED:return ms.UNIMPLEMENTED;case Ou.DATA_LOSS:return ms.DATA_LOSS;default:return cs()}}(Pu=Ou||(Ou={}))[Pu.OK=0]="OK",Pu[Pu.CANCELLED=1]="CANCELLED",Pu[Pu.UNKNOWN=2]="UNKNOWN",Pu[Pu.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Pu[Pu.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Pu[Pu.NOT_FOUND=5]="NOT_FOUND",Pu[Pu.ALREADY_EXISTS=6]="ALREADY_EXISTS",Pu[Pu.PERMISSION_DENIED=7]="PERMISSION_DENIED",Pu[Pu.UNAUTHENTICATED=16]="UNAUTHENTICATED",Pu[Pu.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Pu[Pu.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Pu[Pu.ABORTED=10]="ABORTED",Pu[Pu.OUT_OF_RANGE=11]="OUT_OF_RANGE",Pu[Pu.UNIMPLEMENTED=12]="UNIMPLEMENTED",Pu[Pu.INTERNAL=13]="INTERNAL",Pu[Pu.UNAVAILABLE=14]="UNAVAILABLE",Pu[Pu.DATA_LOSS=15]="DATA_LOSS";var ju=function(){function t(t,e){this.H=t,this.root=e||Fu.EMPTY}return t.prototype.zt=function(e,n){return new t(this.H,this.root.zt(e,n,this.H).copy(null,null,Fu.Ht,null,null))},t.prototype.remove=function(e){return new t(this.H,this.root.remove(e,this.H).copy(null,null,Fu.Ht,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.et();){var n=this.H(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.et();){var r=this.H(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.et=function(){return this.root.et()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.Jt=function(){return this.root.Jt()},t.prototype.Yt=function(){return this.root.Yt()},t.prototype.Xt=function(t){return this.root.Xt(t)},t.prototype.forEach=function(t){this.Xt((function(e,n){return t(e,n),!1}))},t.prototype.toString=function(){var t=[];return this.Xt((function(e,n){return t.push(e+":"+n),!1})),"{"+t.join(", ")+"}"},t.prototype.Zt=function(t){return this.root.Zt(t)},t.prototype.te=function(){return new Uu(this.root,null,this.H,!1)},t.prototype.ee=function(t){return new Uu(this.root,t,this.H,!1)},t.prototype.ne=function(){return new Uu(this.root,null,this.H,!0)},t.prototype.se=function(t){return new Uu(this.root,t,this.H,!0)},t}(),Uu=function(){function t(t,e,n,r){this.ie=r,this.re=[];for(var i=1;!t.et();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.ie?t.left:t.right;else{if(0===i){this.re.push(t);break}this.re.push(t),t=this.ie?t.right:t.left}}return t.prototype.oe=function(){var t=this.re.pop(),e={key:t.key,value:t.value};if(this.ie)for(t=t.left;!t.et();)this.re.push(t),t=t.right;else for(t=t.right;!t.et();)this.re.push(t),t=t.left;return e},t.prototype.ce=function(){return this.re.length>0},t.prototype.ae=function(){if(0===this.re.length)return null;var t=this.re[this.re.length-1];return{key:t.key,value:t.value}},t}(),Fu=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.et=function(){return!1},t.prototype.Xt=function(t){return this.left.Xt(t)||t(this.key,this.value)||this.right.Xt(t)},t.prototype.Zt=function(t){return this.right.Zt(t)||t(this.key,this.value)||this.left.Zt(t)},t.prototype.min=function(){return this.left.et()?this:this.left.min()},t.prototype.Jt=function(){return this.min().key},t.prototype.Yt=function(){return this.right.et()?this.key:this.right.Yt()},t.prototype.zt=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.zt(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.zt(t,e,n))).ue()},t.prototype.he=function(){if(this.left.et())return t.EMPTY;var e=this;return e.left.le()||e.left.left.le()||(e=e._e()),(e=e.copy(null,null,null,e.left.he(),null)).ue()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.et()||i.left.le()||i.left.left.le()||(i=i._e()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.le()&&(i=i.fe()),i.right.et()||i.right.le()||i.right.left.le()||(i=i.de()),0===n(e,i.key)){if(i.right.et())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.he())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.ue()},t.prototype.le=function(){return this.color},t.prototype.ue=function(){var t=this;return t.right.le()&&!t.left.le()&&(t=t.we()),t.left.le()&&t.left.left.le()&&(t=t.fe()),t.left.le()&&t.right.le()&&(t=t.Ee()),t},t.prototype._e=function(){var t=this.Ee();return t.right.left.le()&&(t=(t=(t=t.copy(null,null,null,null,t.right.fe())).we()).Ee()),t},t.prototype.de=function(){var t=this.Ee();return t.left.left.le()&&(t=(t=t.fe()).Ee()),t},t.prototype.we=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.fe=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.Ee=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.Te=function(){var t=this.Ie();return Math.pow(2,t)<=this.size+1},t.prototype.Ie=function(){if(this.le()&&this.left.le())throw cs();if(this.right.le())throw cs();var t=this.left.Ie();if(t!==this.right.Ie())throw cs();return t+(this.le()?0:1)},t}();Fu.EMPTY=null,Fu.RED=!0,Fu.Ht=!1,Fu.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw cs()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw cs()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw cs()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw cs()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw cs()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.zt=function(t,e,n){return new Fu(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.et=function(){return!0},t.prototype.Xt=function(t){return!1},t.prototype.Zt=function(t){return!1},t.prototype.Jt=function(){return null},t.prototype.Yt=function(){return null},t.prototype.le=function(){return!1},t.prototype.Te=function(){return!0},t.prototype.Ie=function(){return 0},t}());var Vu=function(){function t(t){this.H=t,this.data=new ju(this.H)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.Jt()},t.prototype.last=function(){return this.data.Yt()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.Xt((function(e,n){return t(e),!1}))},t.prototype.me=function(t,e){for(var n=this.data.ee(t[0]);n.ce();){var r=n.oe();if(this.H(r.key,t[1])>=0)return;e(r.key)}},t.prototype.Ae=function(t,e){var n;for(n=void 0!==e?this.data.ee(e):this.data.te();n.ce();)if(!t(n.oe().key))return},t.prototype.Re=function(t){var e=this.data.ee(t);return e.ce()?e.oe().key:null},t.prototype.te=function(){return new qu(this.data.te())},t.prototype.ee=function(t){return new qu(this.data.ee(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).zt(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.et=function(){return this.data.et()},t.prototype.Pe=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach((function(t){e=e.add(t)})),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.te(),r=e.data.te();n.ce();){var i=n.oe().key,o=r.oe().key;if(0!==this.H(i,o))return!1}return!0},t.prototype.it=function(){var t=[];return this.forEach((function(e){t.push(e)})),t},t.prototype.toString=function(){var t=[];return this.forEach((function(e){return t.push(e)})),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.H);return n.data=e,n},t}(),qu=function(){function t(t){this.ye=t}return t.prototype.oe=function(){return this.ye.oe().key},t.prototype.ce=function(){return this.ye.ce()},t}(),Bu=new ju(Cs.H);function Gu(){return Bu}function zu(){return Gu()}var Hu=new ju(Cs.H);function Ku(){return Hu}var Wu=new ju(Cs.H);function Xu(){return Wu}var $u=new Vu(Cs.H);function Yu(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=$u,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var Qu=new Vu(ds);function Ju(){return Qu}var Zu=function(){function t(t){this.H=t?function(e,n){return t(e,n)||Cs.H(e.key,n.key)}:function(t,e){return Cs.H(t.key,e.key)},this.ge=Ku(),this.Ve=new ju(this.H)}return t.pe=function(e){return new t(e.H)},t.prototype.has=function(t){return null!=this.ge.get(t)},t.prototype.get=function(t){return this.ge.get(t)},t.prototype.first=function(){return this.Ve.Jt()},t.prototype.last=function(){return this.Ve.Yt()},t.prototype.et=function(){return this.Ve.et()},t.prototype.indexOf=function(t){var e=this.ge.get(t);return e?this.Ve.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.Ve.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.Ve.Xt((function(e,n){return t(e),!1}))},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.ge.zt(t.key,t),e.Ve.zt(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.ge.remove(t),this.Ve.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.Ve.te(),r=e.Ve.te();n.ce();){var i=n.oe().key,o=r.oe().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach((function(e){t.push(e.toString())})),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.H=this.H,r.ge=e,r.Ve=n,r},t}(),tc=function(){function t(){this.be=new ju(Cs.H)}return t.prototype.track=function(t){var e=t.doc.key,n=this.be.get(e);n?0!==t.type&&3===n.type?this.be=this.be.zt(e,t):3===t.type&&1!==n.type?this.be=this.be.zt(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.be=this.be.zt(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.be=this.be.zt(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.be=this.be.remove(e):1===t.type&&2===n.type?this.be=this.be.zt(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.be=this.be.zt(e,{type:2,doc:t.doc}):cs():this.be=this.be.zt(e,t)},t.prototype.ve=function(){var t=[];return this.be.Xt((function(e,n){t.push(n)})),t},t}(),ec=function(){function t(t,e,n,r,i,o,s,a){this.query=t,this.docs=e,this.Se=n,this.docChanges=r,this.De=i,this.fromCache=o,this.Ce=s,this.xe=a}return t.Ne=function(e,n,r,i){var o=[];return n.forEach((function(t){o.push({type:0,doc:t})})),new t(e,n,Zu.pe(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.De.et()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.Ce===t.Ce&&this.De.isEqual(t.De)&&Ka(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.Se.isEqual(t.Se)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),nc=function(){function t(t,e,n,r,i){this.Ot=t,this.$e=e,this.Fe=n,this.Oe=r,this.ke=i}return t.Me=function(e,n){var r=new Map;return r.set(e,rc.Le(e,n)),new t(xs.min(),r,Ju(),Gu(),Yu())},t}(),rc=function(){function t(t,e,n,r,i){this.resumeToken=t,this.Be=e,this.qe=n,this.Ue=r,this.Qe=i}return t.Le=function(e,n){return new t(gs.T,n,Yu(),Yu(),Yu())},t}(),ic=function(t,e,n,r){this.Ke=t,this.removedTargetIds=e,this.key=n,this.We=r},oc=function(t,e){this.targetId=t,this.je=e},sc=function(t,e,n,r){void 0===n&&(n=gs.T),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},ac=function(){function t(){this.Ge=0,this.ze=hc(),this.He=gs.T,this.Je=!1,this.Ye=!0}return Object.defineProperty(t.prototype,"Be",{get:function(){return this.Je},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.He},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Xe",{get:function(){return 0!==this.Ge},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Ze",{get:function(){return this.Ye},enumerable:!1,configurable:!0}),t.prototype.tn=function(t){t.l()>0&&(this.Ye=!0,this.He=t)},t.prototype.en=function(){var t=Yu(),e=Yu(),n=Yu();return this.ze.forEach((function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:cs()}})),new rc(this.He,this.Je,t,e,n)},t.prototype.nn=function(){this.Ye=!1,this.ze=hc()},t.prototype.sn=function(t,e){this.Ye=!0,this.ze=this.ze.zt(t,e)},t.prototype.rn=function(t){this.Ye=!0,this.ze=this.ze.remove(t)},t.prototype.on=function(){this.Ge+=1},t.prototype.cn=function(){this.Ge-=1},t.prototype.an=function(){this.Ye=!0,this.Je=!0},t}(),uc=function(){function t(t){this.un=t,this.hn=new Map,this.ln=Gu(),this._n=cc(),this.fn=new Vu(ds)}return t.prototype.dn=function(t){for(var e=0,n=t.Ke;e<n.length;e++){var r=n[e];t.We instanceof la?this.wn(r,t.We):t.We instanceof pa&&this.En(r,t.key,t.We)}for(var i=0,o=t.removedTargetIds;i<o.length;i++)r=o[i],this.En(r,t.key,t.We)},t.prototype.Tn=function(t){var e=this;this.In(t,(function(n){var r=e.mn(n);switch(t.state){case 0:e.An(n)&&r.tn(t.resumeToken);break;case 1:r.cn(),r.Xe||r.nn(),r.tn(t.resumeToken);break;case 2:r.cn(),r.Xe||e.removeTarget(n);break;case 3:e.An(n)&&(r.an(),r.tn(t.resumeToken));break;case 4:e.An(n)&&(e.Rn(n),r.tn(t.resumeToken));break;default:cs()}}))},t.prototype.In=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.hn.forEach((function(t,r){n.An(r)&&e(r)}))},t.prototype.Pn=function(t){var e=t.targetId,n=t.je.count,r=this.yn(e);if(r){var i=r.target;if(ba(i))if(0===n){var o=new Cs(i.path);this.En(e,o,new pa(o,xs.min()))}else hs(1===n);else this.gn(e)!==n&&(this.Rn(e),this.fn=this.fn.add(e))}},t.prototype.Vn=function(t){var e=this,n=new Map;this.hn.forEach((function(r,i){var o=e.yn(i);if(o){if(r.Be&&ba(o.target)){var s=new Cs(o.target.path);null!==e.ln.get(s)||e.pn(i,s)||e.En(i,s,new pa(s,t))}r.Ze&&(n.set(i,r.en()),r.nn())}}));var r=Yu();this._n.forEach((function(t,n){var i=!0;n.Ae((function(t){var n=e.yn(t);return!n||2===n.Ft||(i=!1,!1)})),i&&(r=r.add(t))}));var i=new nc(t,n,this.fn,this.ln,r);return this.ln=Gu(),this._n=cc(),this.fn=new Vu(ds),i},t.prototype.wn=function(t,e){if(this.An(t)){var n=this.pn(t,e.key)?2:0;this.mn(t).sn(e.key,n),this.ln=this.ln.zt(e.key,e),this._n=this._n.zt(e.key,this.bn(e.key).add(t))}},t.prototype.En=function(t,e,n){if(this.An(t)){var r=this.mn(t);this.pn(t,e)?r.sn(e,1):r.rn(e),this._n=this._n.zt(e,this.bn(e).delete(t)),n&&(this.ln=this.ln.zt(e,n))}},t.prototype.removeTarget=function(t){this.hn.delete(t)},t.prototype.gn=function(t){var e=this.mn(t).en();return this.un.vn(t).size+e.qe.size-e.Qe.size},t.prototype.on=function(t){this.mn(t).on()},t.prototype.mn=function(t){var e=this.hn.get(t);return e||(e=new ac,this.hn.set(t,e)),e},t.prototype.bn=function(t){var e=this._n.get(t);return e||(e=new Vu(ds),this._n=this._n.zt(t,e)),e},t.prototype.An=function(t){var e=null!==this.yn(t);return e||os("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.yn=function(t){var e=this.hn.get(t);return e&&e.Xe?null:this.un.Sn(t)},t.prototype.Rn=function(t){var e=this;this.hn.set(t,new ac),this.un.vn(t).forEach((function(n){e.En(t,n,null)}))},t.prototype.pn=function(t,e){return this.un.vn(t).has(e)},t}();function cc(){return new ju(Cs.H)}function hc(){return new ju(Cs.H)}var fc={asc:"ASCENDING",desc:"DESCENDING"},lc={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},pc=function(t,e){this.t=t,this.Bt=e};function dc(t,e){return t.Bt?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function vc(t,e){return t.Bt?e.toBase64():e.toUint8Array()}function yc(t,e){return dc(t,e.j())}function gc(t){return hs(!!t),xs.K(function(t){var e=Vs(t);return new ks(e.seconds,e.nanos)}(t))}function mc(t,e){return function(t){return new Ps(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).rt()}function bc(t){var e=Ps.ot(t);return hs(Gc(e)),e}function wc(t,e){return mc(t.t,e.path)}function _c(t,e){var n=bc(e);if(n.get(1)!==t.t.projectId)throw new bs(ms.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.t.projectId);if(n.get(3)!==t.t.database)throw new bs(ms.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.t.database);return new Cs(Sc(n))}function Ic(t,e){return mc(t.t,e)}function Ec(t){var e=bc(t);return 4===e.length?Ps.ct():Sc(e)}function Tc(t){return new Ps(["projects",t.t.projectId,"databases",t.t.database]).rt()}function Sc(t){return hs(t.length>4&&"documents"===t.get(4)),t.Y(5)}function Ac(t,e,n){return{name:wc(t,e),fields:n.proto.mapValue.fields}}function Nc(t,e,n){var r=_c(t,e.name),i=gc(e.updateTime),o=new ua({mapValue:{fields:e.fields}});return new la(r,i,o,{hasCommittedMutations:!!n})}function kc(t,e){var n;if(e instanceof Tu)n={update:Ac(t,e.key,e.value)};else if(e instanceof Ru)n={delete:wc(t,e.key)};else if(e instanceof Su)n={update:Ac(t,e.key,e.data),updateMask:Bc(e.Gt)};else{if(!(e instanceof Du))return cs();n={verify:wc(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((function(t){return function(t,e){var n=e.transform;if(n instanceof su)return{fieldPath:e.field.rt(),setToServerValue:"REQUEST_TIME"};if(n instanceof au)return{fieldPath:e.field.rt(),appendMissingElements:{values:n.elements}};if(n instanceof cu)return{fieldPath:e.field.rt(),removeAllFromArray:{values:n.elements}};if(n instanceof fu)return{fieldPath:e.field.rt(),increment:n.Ut};throw cs()}(0,t)}))),e.jt.Wt||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:yc(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:cs()}(t,e.jt)),n}function xc(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?yu.updateTime(gc(t.updateTime)):void 0!==t.exists?yu.exists(t.exists):yu.Kt()}(e.currentDocument):yu.Kt(),r=e.updateTransforms?e.updateTransforms.map((function(e){return function(t,e){var n=null;if("setToServerValue"in e)hs("REQUEST_TIME"===e.setToServerValue),n=new su;else if("appendMissingElements"in e){var r=e.appendMissingElements.values||[];n=new au(r)}else if("removeAllFromArray"in e){var i=e.removeAllFromArray.values||[];n=new cu(i)}else"increment"in e?n=new fu(t,e.increment):cs();var o=Ds.lt(e.fieldPath);return new du(o,n)}(t,e)})):[];if(e.update){e.update.name;var i=_c(t,e.update.name),o=new ua({mapValue:{fields:e.update.fields}});if(e.updateMask){var s=function(t){var e=t.fieldPaths||[];return new Us(e.map((function(t){return Ds.lt(t)})))}(e.updateMask);return new Su(i,o,s,n,r)}return new Tu(i,o,n,r)}if(e.delete){var a=_c(t,e.delete);return new Ru(a,n)}if(e.verify){var u=_c(t,e.verify);return new Du(u,n)}return cs()}function Oc(t,e){return{documents:[Ic(t,e.path)]}}function Pc(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=Ic(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Ic(t,r.X()),n.structuredQuery.from=[{collectionId:r.tt()}]);var i=function(t){if(0!==t.length){var e=t.map((function(t){return function(t){if("=="===t.op){if(sa(t.value))return{unaryFilter:{field:Uc(t.field),op:"IS_NAN"}};if(oa(t.value))return{unaryFilter:{field:Uc(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(sa(t.value))return{unaryFilter:{field:Uc(t.field),op:"IS_NOT_NAN"}};if(oa(t.value))return{unaryFilter:{field:Uc(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Uc(t.field),op:jc(t.op),value:t.value}}}(t)}));return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var o=function(t){if(0!==t.length)return t.map((function(t){return function(t){return{field:Uc(t.field),direction:Mc(t.dir)}}(t)}))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);var s=function(t,e){return t.Bt||Ks(e)?e:{value:e}}(t,e.limit);return null!==s&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt=Cc(e.startAt)),e.endAt&&(n.structuredQuery.endAt=Cc(e.endAt)),n}function Rc(t){var e=Ec(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){hs(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var s=[];n.where&&(s=Dc(n.where));var a=[];n.orderBy&&(a=n.orderBy.map((function(t){return function(t){return new Pa(Fc(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)})));var u=null;n.limit&&(u=function(t){var e;return Ks(e="object"==typeof t?t.value:t)?null:e}(n.limit));var c=null;n.startAt&&(c=Lc(n.startAt));var h=null;return n.endAt&&(h=Lc(n.endAt)),Ma(e,i,a,s,u,"F",c,h)}function Dc(t){return t?void 0!==t.unaryFilter?[qc(t)]:void 0!==t.fieldFilter?[Vc(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map((function(t){return Dc(t)})).reduce((function(t,e){return t.concat(e)})):cs():[]}function Cc(t){return{before:t.before,values:t.position}}function Lc(t){var e=!!t.before,n=t.values||[];return new xa(n,e)}function Mc(t){return fc[t]}function jc(t){return lc[t]}function Uc(t){return{fieldPath:t.rt()}}function Fc(t){return Ds.lt(t.fieldPath)}function Vc(t){return wa.create(Fc(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return cs()}}(t.fieldFilter.op),t.fieldFilter.value)}function qc(t){switch(t.unaryFilter.op){case"IS_NAN":var e=Fc(t.unaryFilter.field);return wa.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=Fc(t.unaryFilter.field);return wa.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Fc(t.unaryFilter.field);return wa.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Fc(t.unaryFilter.field);return wa.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return cs()}}function Bc(t){var e=[];return t.fields.forEach((function(t){return e.push(t.rt())})),{fieldPaths:e}}function Gc(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}var zc=function(){var t=this;this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))},Hc=function(){function t(t){var e=this;this.Dn=null,this.Cn=null,this.result=void 0,this.error=void 0,this.xn=!1,this.Nn=!1,t((function(t){e.xn=!0,e.result=t,e.Dn&&e.Dn(t)}),(function(t){e.xn=!0,e.error=t,e.Cn&&e.Cn(t)}))}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.Nn&&cs(),this.Nn=!0,this.xn?this.error?this.$n(n,this.error):this.Fn(e,this.result):new t((function(t,i){r.Dn=function(n){r.Fn(e,n).next(t,i)},r.Cn=function(e){r.$n(n,e).next(t,i)}}))},t.prototype.On=function(){var t=this;return new Promise((function(e,n){t.next(e,n)}))},t.prototype.kn=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.Fn=function(e,n){return e?this.kn((function(){return e(n)})):t.resolve(n)},t.prototype.$n=function(e,n){return e?this.kn((function(){return e(n)})):t.reject(n)},t.resolve=function(e){return new t((function(t,n){t(e)}))},t.reject=function(e){return new t((function(t,n){n(e)}))},t.Mn=function(e){return new t((function(t,n){var r=0,i=0,o=!1;e.forEach((function(e){++r,e.next((function(){++i,o&&i===r&&t()}),(function(t){return n(t)}))})),o=!0,i===r&&t()}))},t.Ln=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next((function(n){return n?t.resolve(n):e()}))},i=0,o=e;i<o.length;i++)r(o[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach((function(t,i){r.push(e.call(n,t,i))})),this.Mn(r)},t}(),Kc=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.Bn=new zc,this.transaction.oncomplete=function(){n.Bn.resolve()},this.transaction.onabort=function(){e.error?n.Bn.reject(new $c(t,e.error)):n.Bn.resolve()},this.transaction.onerror=function(e){var r=th(e.target.error);n.Bn.reject(new $c(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new $c(n,e)}},Object.defineProperty(t.prototype,"qn",{get:function(){return this.Bn.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.Bn.reject(t),this.aborted||(os("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new Qc(e)},t}(),Wc=function(){function t(e,n,r){this.name=e,this.version=n,this.Un=r,12.2===t.Qn(G())&&ss("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return os("SimpleDb","Removing database:",t),Jc(window.indexedDB.deleteDatabase(t)).On()},t.Kn=function(){if("undefined"==typeof indexedDB)return!1;if(t.Wn())return!0;var e=G(),n=t.Qn(e),r=0<n&&n<10,i=t.jn(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)},t.Wn=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.Gn)},t.zn=function(t,e){return t.store(e)},t.Qn=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.jn=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.Hn=function(t){return L(this,void 0,void 0,(function(){var e,n=this;return M(this,(function(r){switch(r.label){case 0:return this.db?[3,2]:(os("SimpleDb","Opening database:",this.name),e=this,[4,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new $c(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new bs(ms.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):r(new $c(t,n))},i.onupgradeneeded=function(t){os("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion);var e=t.target.result;n.Un.Jn(e,i.transaction,t.oldVersion,n.version).next((function(){os("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}))]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.Yn&&(this.db.onversionchange=function(t){return n.Yn(t)}),this.db)]}}))}))},t.prototype.Xn=function(t){this.Yn=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,r){return L(this,void 0,void 0,(function(){var i,o,s,a,u;return M(this,(function(c){switch(c.label){case 0:i="readonly"===e,o=0,s=function(){var e,s,u,c,h;return M(this,(function(f){switch(f.label){case 0:++o,f.label=1;case 1:return f.trys.push([1,4,,5]),[4,a.Hn(t)];case 2:return a.db=f.sent(),e=Kc.open(a.db,t,i?"readonly":"readwrite",n),s=r(e).catch((function(t){return e.abort(t),Hc.reject(t)})).On(),u={},s.catch((function(){})),[4,e.qn];case 3:return[2,(u.value=(f.sent(),s),u)];case 4:return c=f.sent(),h="FirebaseError"!==c.name&&o<3,os("SimpleDb","Transaction failed with error:",c.message,"Retrying:",h),a.close(),h?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}}))},a=this,c.label=1;case 1:return[5,s()];case 2:if("object"==typeof(u=c.sent()))return[2,u.value];c.label=3;case 3:return[3,1];case 4:return[2]}}))}))},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),Xc=function(){function t(t){this.Zn=t,this.ts=!1,this.es=null}return Object.defineProperty(t.prototype,"xn",{get:function(){return this.ts},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ns",{get:function(){return this.es},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.Zn=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.ts=!0},t.prototype.ss=function(t){this.es=t},t.prototype.delete=function(){return Jc(this.Zn.delete())},t}(),$c=function(t){function e(e,n){var r=this;return(r=t.call(this,ms.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return D(e,t),e}(bs);function Yc(t){return"IndexedDbTransactionError"===t.name}var Qc=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(os("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(os("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),Jc(n)},t.prototype.add=function(t){return os("SimpleDb","ADD",this.store.name,t,t),Jc(this.store.add(t))},t.prototype.get=function(t){var e=this;return Jc(this.store.get(t)).next((function(n){return void 0===n&&(n=null),os("SimpleDb","GET",e.store.name,t,n),n}))},t.prototype.delete=function(t){return os("SimpleDb","DELETE",this.store.name,t),Jc(this.store.delete(t))},t.prototype.count=function(){return os("SimpleDb","COUNT",this.store.name),Jc(this.store.count())},t.prototype.rs=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.os(n,(function(t,e){r.push(e)})).next((function(){return r}))},t.prototype.cs=function(t,e){os("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.us=!1;var r=this.cursor(n);return this.os(r,(function(t,e,n){return n.delete()}))},t.prototype.hs=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.os(r,e)},t.prototype.ls=function(t){var e=this.cursor({});return new Hc((function(n,r){e.onerror=function(t){var e=th(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next((function(t){t?r.continue():n()})):n()}}))},t.prototype.os=function(t,e){var n=[];return new Hc((function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new Xc(i),s=e(i.primaryKey,i.value,o);if(s instanceof Hc){var a=s.catch((function(t){return o.done(),Hc.reject(t)}));n.push(a)}o.xn?r():null===o.ns?i.continue():i.continue(o.ns)}else r()}})).next((function(){return Hc.Mn(n)}))},t.prototype.options=function(t,e){var n;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.us?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function Jc(t){return new Hc((function(e,n){t.onsuccess=function(t){var n=t.target.result;e(n)},t.onerror=function(t){var e=th(t.target.error);n(e)}}))}var Zc=!1;function th(t){var e=Wc.Qn(G());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new bs("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return Zc||(Zc=!0,setTimeout((function(){throw r}),0)),r}}return t}var eh=function(){function t(t,e,n,r,i){this._s=t,this.fs=e,this.ds=n,this.op=r,this.ws=i,this.Es=new zc,this.then=this.Es.promise.then.bind(this.Es.promise),this.Es.promise.catch((function(t){}))}return t.Ts=function(e,n,r,i,o){var s=new t(e,n,Date.now()+r,i,o);return s.start(r),s},t.prototype.start=function(t){var e=this;this.Is=setTimeout((function(){return e.As()}),t)},t.prototype.Rs=function(){return this.As()},t.prototype.cancel=function(t){null!==this.Is&&(this.clearTimeout(),this.Es.reject(new bs(ms.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.As=function(){var t=this;this._s.Ps((function(){return null!==t.Is?(t.clearTimeout(),t.op().then((function(e){return t.Es.resolve(e)}))):Promise.resolve()}))},t.prototype.clearTimeout=function(){null!==this.Is&&(this.ws(this),clearTimeout(this.Is),this.Is=null)},t}();function nh(t,e){if(ss("AsyncQueue",e+": "+t),Yc(t))return new bs(ms.UNAVAILABLE,e+": "+t);throw t}var rh="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",ih=function(){function t(){this.ys=[]}return t.prototype.gs=function(t){this.ys.push(t)},t.prototype.Vs=function(){this.ys.forEach((function(t){return t()}))},t}();function oh(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=ah(e)),e=sh(t.get(n),e);return ah(e)}function sh(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="";break;case"":n+="";break;default:n+=o}}return n}function ah(t){return t+""}function uh(t){var e=t.length;if(hs(e>=2),2===e)return hs(""===t.charAt(0)&&""===t.charAt(1)),Ps.ct();for(var n=e-2,r=[],i="",o=0;o<e;){var s=t.indexOf("",o);switch((s<0||s>n)&&cs(),t.charAt(s+1)){case"":var a=t.substring(o,s),u=void 0;0===i.length?u=a:(u=i+=a,i=""),r.push(u);break;case"":i+=t.substring(o,s),i+="\0";break;case"":i+=t.substring(o,s+1);break;default:cs()}o=s+2}return new Ps(r)}var ch=function(t,e){this.seconds=t,this.nanoseconds=e},hh=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};hh.store="owner",hh.key="owner";var fh=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};fh.store="mutationQueues",fh.keyPath="userId";var lh=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};lh.store="mutations",lh.keyPath="batchId",lh.userMutationsIndex="userMutationsIndex",lh.userMutationsKeyPath=["userId","batchId"];var ph=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,oh(e)]},t.key=function(t,e,n){return[t,oh(e),n]},t}();ph.store="documentMutations",ph.PLACEHOLDER=new ph;var dh=function(t,e){this.path=t,this.readTime=e},vh=function(t,e){this.path=t,this.version=e},yh=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};yh.store="remoteDocuments",yh.readTimeIndex="readTimeIndex",yh.readTimeIndexPath="readTime",yh.collectionReadTimeIndex="collectionReadTimeIndex",yh.collectionReadTimeIndexPath=["parentPath","readTime"];var gh=function(t){this.byteSize=t};gh.store="remoteDocumentGlobal",gh.key="remoteDocumentGlobalKey";var mh=function(t,e,n,r,i,o,s){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=s};mh.store="targets",mh.keyPath="targetId",mh.queryTargetsIndexName="queryTargetsIndex",mh.queryTargetsKeyPath=["canonicalId","targetId"];var bh=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};bh.store="targetDocuments",bh.keyPath=["targetId","path"],bh.documentTargetsIndex="documentTargetsIndex",bh.documentTargetsKeyPath=["path","targetId"];var wh=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};wh.key="targetGlobalKey",wh.store="targetGlobal";var _h=function(t,e){this.collectionId=t,this.parent=e};_h.store="collectionParents",_h.keyPath=["collectionId","parent"];var Ih=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};Ih.store="clientMetadata",Ih.keyPath="clientId";var Eh=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};Eh.store="bundles",Eh.keyPath="bundleId";var Th=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};Th.store="namedQueries",Th.keyPath="name";var Sh=F(F(F(F([fh.store,lh.store,ph.store,yh.store,mh.store,hh.store,wh.store,bh.store],[Ih.store]),[gh.store]),[_h.store]),[Eh.store,Th.store]),Ah=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).ps=e,r.bs=n,r}return D(e,t),e}(ih);function Nh(t,e){var n=fs(t);return Wc.zn(n.ps,e)}var kh=function(){function t(t,e,n,r){this.batchId=t,this.vs=e,this.baseMutations=n,this.mutations=r}return t.prototype.Ss=function(t,e,n){for(var r=n.Ds,i=0;i<this.mutations.length;i++){var o=this.mutations[i];o.key.isEqual(t)&&(e=bu(o,e,r[i]))}return e},t.prototype.Cs=function(t,e){for(var n=0,r=this.baseMutations;n<r.length;n++)(s=r[n]).key.isEqual(t)&&(e=wu(s,e,this.vs));for(var i=0,o=this.mutations;i<o.length;i++){var s;(s=o[i]).key.isEqual(t)&&(e=wu(s,e,this.vs))}return e},t.prototype.xs=function(t){var e=this,n=t;return this.mutations.forEach((function(r){var i=e.Cs(r.key,t.get(r.key));i&&(n=n.zt(r.key,i))})),n},t.prototype.keys=function(){return this.mutations.reduce((function(t,e){return t.add(e.key)}),Yu())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&vs(this.mutations,t.mutations,(function(t,e){return Iu(t,e)}))&&vs(this.baseMutations,t.baseMutations,(function(t,e){return Iu(t,e)}))},t}(),xh=function(){function t(t,e,n,r){this.batch=t,this.Ns=e,this.Ds=n,this.$s=r}return t.from=function(e,n,r){hs(e.mutations.length===r.length);for(var i=Xu(),o=e.mutations,s=0;s<o.length;s++)i=i.zt(o[s].key,r[s].version);return new t(e,n,r,i)},t}(),Oh=function(t){this.Fs=t};function Ph(t,e){if(e.document)return Nc(t.Fs,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=Cs.Et(e.noDocument.path),r=Mh(e.noDocument.readTime);return new pa(n,r,{hasCommittedMutations:!!e.hasCommittedMutations})}if(e.unknownDocument){var i=Cs.Et(e.unknownDocument.path);return r=Mh(e.unknownDocument.version),new da(i,r)}return cs()}function Rh(t,e,n){var r=Dh(n),i=e.key.path.X().it();if(e instanceof la){var o=function(t,e){return{name:wc(t,e.key),fields:e.bt().mapValue.fields,updateTime:dc(t,e.version.j())}}(t.Fs,e),s=e.hasCommittedMutations;return new yh(null,null,o,s,r,i)}if(e instanceof pa){var a=e.key.path.it(),u=Lh(e.version);return s=e.hasCommittedMutations,new yh(null,new dh(a,u),null,s,r,i)}if(e instanceof da){var c=e.key.path.it(),h=Lh(e.version);return new yh(new vh(c,h),null,null,!0,r,i)}return cs()}function Dh(t){var e=t.j();return[e.seconds,e.nanoseconds]}function Ch(t){var e=new ks(t[0],t[1]);return xs.K(e)}function Lh(t){var e=t.j();return new ch(e.seconds,e.nanoseconds)}function Mh(t){var e=new ks(t.seconds,t.nanoseconds);return xs.K(e)}function jh(t,e){for(var n=(e.baseMutations||[]).map((function(e){return xc(t.Fs,e)})),r=0;r<e.mutations.length-1;++r){var i=e.mutations[r];if(r+1<e.mutations.length&&void 0!==e.mutations[r+1].transform){var o=e.mutations[r+1];i.updateTransforms=o.transform.fieldTransforms,e.mutations.splice(r+1,1),++r}}var s=e.mutations.map((function(e){return xc(t.Fs,e)})),a=ks.fromMillis(e.localWriteTimeMs);return new kh(e.batchId,a,n,s)}function Uh(t){var e,n,r=Mh(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?Mh(t.lastLimboFreeSnapshotVersion):xs.min();return void 0!==t.query.documents?(hs(1===(n=t.query).documents.length),e=za(ja(Ec(n.documents[0])))):e=function(t){return za(Rc(t))}(t.query),new Ja(e,t.targetId,0,t.lastListenSequenceNumber,r,i,gs.fromBase64String(t.resumeToken))}function Fh(t,e){var n,r=Lh(e.Ot),i=Lh(e.lastLimboFreeSnapshotVersion);n=ba(e.target)?Oc(t.Fs,e.target):Pc(t.Fs,e.target);var o=e.resumeToken.toBase64();return new mh(e.targetId,ga(e.target),r,o,e.sequenceNumber,i,n)}function Vh(t){var e=Rc({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?Ha(e,e.limit,"L"):e}var qh=function(){function t(){}return t.prototype.Os=function(t,e){return Bh(t).get(e).next((function(t){if(t)return{id:(e=t).bundleId,createTime:Mh(e.createTime),version:e.version};var e}))},t.prototype.ks=function(t,e){return Bh(t).put({bundleId:(n=e).id,createTime:Lh(gc(n.createTime)),version:n.version});var n},t.prototype.Ms=function(t,e){return Gh(t).get(e).next((function(t){if(t)return{name:(e=t).name,query:Vh(e.bundledQuery),readTime:Mh(e.readTime)};var e}))},t.prototype.Ls=function(t,e){return Gh(t).put(function(t){return{name:t.name,readTime:Lh(gc(t.readTime)),bundledQuery:t.bundledQuery}}(e))},t}();function Bh(t){return Nh(t,Eh.store)}function Gh(t){return Nh(t,Th.store)}var zh=function(){function t(){this.Bs=new Hh}return t.prototype.qs=function(t,e){return this.Bs.add(e),Hc.resolve()},t.prototype.Us=function(t,e){return Hc.resolve(this.Bs.getEntries(e))},t}(),Hh=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.tt(),n=t.X(),r=this.index[e]||new Vu(Ps.H),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.tt(),n=t.X(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new Vu(Ps.H)).it()},t}(),Kh=function(){function t(){this.Qs=new Hh}return t.prototype.qs=function(t,e){var n=this;if(!this.Qs.has(e)){var r=e.tt(),i=e.X();t.gs((function(){n.Qs.add(e)}));var o={collectionId:r,parent:oh(i)};return Wh(t).put(o)}return Hc.resolve()},t.prototype.Us=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[ys(e),""],!1,!0);return Wh(t).rs(r).next((function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(uh(o.parent))}return n}))},t}();function Wh(t){return Nh(t,_h.store)}var Xh={Ks:!1,Ws:0,js:0,Gs:0},$h=function(){function t(t,e,n){this.zs=t,this.Hs=e,this.Js=n}return t.Ys=function(e){return new t(e,t.Xs,t.Zs)},t}();function Yh(t){return L(this,void 0,void 0,(function(){return M(this,(function(e){if(t.code!==ms.FAILED_PRECONDITION||t.message!==rh)throw t;return os("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}$h.Xs=10,$h.Zs=1e3,$h.ti=new $h(41943040,$h.Xs,$h.Zs),$h.ei=new $h(-1,0,0);var Qh=function(){function t(t,e){this.ni=t,this.si=e,this.ii={}}return t.prototype.get=function(t){var e=this.ni(t),n=this.ii[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],s=o[0],a=o[1];if(this.si(s,t))return a}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.ni(t),r=this.ii[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.si(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.ii[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.ni(t),n=this.ii[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.si(n[r][0],t))return 1===n.length?delete this.ii[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){Ms(this.ii,(function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r],s=o[0],a=o[1];t(s,a)}}))},t.prototype.et=function(){return js(this.ii)},t}(),Jh=function(){function t(){this.ri=new Qh((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),this.oi=!1}return t.prototype.ci=function(t){var e=this.ri.get(t);return e?e.readTime:xs.min()},t.prototype.ai=function(t,e){this.ui(),this.ri.set(t.key,{hi:t,readTime:e})},t.prototype.li=function(t,e){void 0===e&&(e=null),this.ui(),this.ri.set(t,{hi:null,readTime:e})},t.prototype._i=function(t,e){this.ui();var n=this.ri.get(e);return void 0!==n?Hc.resolve(n.hi):this.fi(t,e)},t.prototype.getEntries=function(t,e){return this.di(t,e)},t.prototype.apply=function(t){return this.ui(),this.oi=!0,this.wi(t)},t.prototype.ui=function(){},t}();function Zh(t,e,n){var r=t.store(lh.store),i=t.store(ph.store),o=[],s=IDBKeyRange.only(n.batchId),a=0,u=r.hs({range:s},(function(t,e,n){return a++,n.delete()}));o.push(u.next((function(){hs(1===a)})));for(var c=[],h=0,f=n.mutations;h<f.length;h++){var l=f[h],p=ph.key(e,l.key.path,n.batchId);o.push(i.delete(p)),c.push(l.key)}return Hc.Mn(o).next((function(){return c}))}function tf(t){var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw cs();e=t.noDocument}return JSON.stringify(e).length}var ef=function(){function t(t,e,n,r){this.userId=t,this.Qt=e,this.Ei=n,this.Ti=r,this.Ii={}}return t.mi=function(e,n,r,i){return hs(""!==e.uid),new t(e.m()?e.uid:"",n,r,i)},t.prototype.Ai=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return rf(t).hs({index:lh.userMutationsIndex,range:n},(function(t,n,r){e=!1,r.done()})).next((function(){return e}))},t.prototype.Ri=function(t,e,n,r){var i=this,o=of(t),s=rf(t);return s.add({}).next((function(a){hs("number"==typeof a);for(var u=new kh(a,e,n,r),c=function(t,e,n){var r=n.baseMutations.map((function(e){return kc(t.Fs,e)})),i=n.mutations.map((function(e){return kc(t.Fs,e)}));return new lh(e,n.batchId,n.vs.toMillis(),r,i)}(i.Qt,i.userId,u),h=[],f=new Vu((function(t,e){return ds(t.rt(),e.rt())})),l=0,p=r;l<p.length;l++){var d=p[l],v=ph.key(i.userId,d.key.path,a);f=f.add(d.key.path.X()),h.push(s.put(c)),h.push(o.put(v,ph.PLACEHOLDER))}return f.forEach((function(e){h.push(i.Ei.qs(t,e))})),t.gs((function(){i.Ii[a]=u.keys()})),Hc.Mn(h).next((function(){return u}))}))},t.prototype.Pi=function(t,e){var n=this;return rf(t).get(e).next((function(t){return t?(hs(t.userId===n.userId),jh(n.Qt,t)):null}))},t.prototype.yi=function(t,e){var n=this;return this.Ii[e]?Hc.resolve(this.Ii[e]):this.Pi(t,e).next((function(t){if(t){var r=t.keys();return n.Ii[e]=r,r}return null}))},t.prototype.gi=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return rf(t).hs({index:lh.userMutationsIndex,range:i},(function(t,e,i){e.userId===n.userId&&(hs(e.batchId>=r),o=jh(n.Qt,e)),i.done()})).next((function(){return o}))},t.prototype.Vi=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return rf(t).hs({index:lh.userMutationsIndex,range:e,reverse:!0},(function(t,e,r){n=e.batchId,r.done()})).next((function(){return n}))},t.prototype.pi=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return rf(t).rs(lh.userMutationsIndex,n).next((function(t){return t.map((function(t){return jh(e.Qt,t)}))}))},t.prototype.bi=function(t,e){var n=this,r=ph.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return of(t).hs({range:i},(function(r,i,s){var a=r[0],u=r[1],c=r[2],h=uh(u);if(a===n.userId&&e.path.isEqual(h))return rf(t).get(c).next((function(t){if(!t)throw cs();hs(t.userId===n.userId),o.push(jh(n.Qt,t))}));s.done()})).next((function(){return o}))},t.prototype.vi=function(t,e){var n=this,r=new Vu(ds),i=[];return e.forEach((function(e){var o=ph.prefixForPath(n.userId,e.path),s=IDBKeyRange.lowerBound(o),a=of(t).hs({range:s},(function(t,i,o){var s=t[0],a=t[1],u=t[2],c=uh(a);s===n.userId&&e.path.isEqual(c)?r=r.add(u):o.done()}));i.push(a)})),Hc.Mn(i).next((function(){return n.Si(t,r)}))},t.prototype.Di=function(t,e){var n=this,r=e.path,i=r.length+1,o=ph.prefixForPath(this.userId,r),s=IDBKeyRange.lowerBound(o),a=new Vu(ds);return of(t).hs({range:s},(function(t,e,o){var s=t[0],u=t[1],c=t[2],h=uh(u);s===n.userId&&r.nt(h)?h.length===i&&(a=a.add(c)):o.done()})).next((function(){return n.Si(t,a)}))},t.prototype.Si=function(t,e){var n=this,r=[],i=[];return e.forEach((function(e){i.push(rf(t).get(e).next((function(t){if(null===t)throw cs();hs(t.userId===n.userId),r.push(jh(n.Qt,t))})))})),Hc.Mn(i).next((function(){return r}))},t.prototype.Ci=function(t,e){var n=this;return Zh(t.ps,this.userId,e).next((function(r){return t.gs((function(){n.xi(e.batchId)})),Hc.forEach(r,(function(e){return n.Ti.Ni(t,e)}))}))},t.prototype.xi=function(t){delete this.Ii[t]},t.prototype.$i=function(t){var e=this;return this.Ai(t).next((function(n){if(!n)return Hc.resolve();var r=IDBKeyRange.lowerBound(ph.prefixForUser(e.userId)),i=[];return of(t).hs({range:r},(function(t,n,r){if(t[0]===e.userId){var o=uh(t[1]);i.push(o)}else r.done()})).next((function(){hs(0===i.length)}))}))},t.prototype.Fi=function(t,e){return nf(t,this.userId,e)},t.prototype.Oi=function(t){var e=this;return sf(t).get(this.userId).next((function(t){return t||new fh(e.userId,-1,"")}))},t}();function nf(t,e,n){var r=ph.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),s=!1;return of(t).hs({range:o,us:!0},(function(t,n,r){var o=t[0],a=t[1];t[2],o===e&&a===i&&(s=!0),r.done()})).next((function(){return s}))}function rf(t){return Nh(t,lh.store)}function of(t){return Nh(t,ph.store)}function sf(t){return Nh(t,fh.store)}var af=function(){function t(t){this.ki=t}return t.prototype.next=function(){return this.ki+=2,this.ki},t.Mi=function(){return new t(0)},t.Li=function(){return new t(-1)},t}(),uf=function(){function t(t,e){this.Ti=t,this.Qt=e}return t.prototype.Bi=function(t){var e=this;return this.qi(t).next((function(n){var r=new af(n.highestTargetId);return n.highestTargetId=r.next(),e.Ui(t,n).next((function(){return n.highestTargetId}))}))},t.prototype.Qi=function(t){return this.qi(t).next((function(t){return xs.K(new ks(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))}))},t.prototype.Ki=function(t){return this.qi(t).next((function(t){return t.highestListenSequenceNumber}))},t.prototype.Wi=function(t,e,n){var r=this;return this.qi(t).next((function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.j()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Ui(t,i)}))},t.prototype.ji=function(t,e){var n=this;return this.Gi(t,e).next((function(){return n.qi(t).next((function(r){return r.targetCount+=1,n.zi(e,r),n.Ui(t,r)}))}))},t.prototype.Hi=function(t,e){return this.Gi(t,e)},t.prototype.Ji=function(t,e){var n=this;return this.Yi(t,e.targetId).next((function(){return cf(t).delete(e.targetId)})).next((function(){return n.qi(t)})).next((function(e){return hs(e.targetCount>0),e.targetCount-=1,n.Ui(t,e)}))},t.prototype.Xi=function(t,e,n){var r=this,i=0,o=[];return cf(t).hs((function(s,a){var u=Uh(a);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(i++,o.push(r.Ji(t,u)))})).next((function(){return Hc.Mn(o)})).next((function(){return i}))},t.prototype.In=function(t,e){return cf(t).hs((function(t,n){var r=Uh(n);e(r)}))},t.prototype.qi=function(t){return hf(t).get(wh.key).next((function(t){return hs(null!==t),t}))},t.prototype.Ui=function(t,e){return hf(t).put(wh.key,e)},t.prototype.Gi=function(t,e){return cf(t).put(Fh(this.Qt,e))},t.prototype.zi=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.Zi=function(t){return this.qi(t).next((function(t){return t.targetCount}))},t.prototype.tr=function(t,e){var n=ga(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return cf(t).hs({range:r,index:mh.queryTargetsIndexName},(function(t,n,r){var o=Uh(n);ma(e,o.target)&&(i=o,r.done())})).next((function(){return i}))},t.prototype.er=function(t,e,n){var r=this,i=[],o=ff(t);return e.forEach((function(e){var s=oh(e.path);i.push(o.put(new bh(n,s))),i.push(r.Ti.nr(t,n,e))})),Hc.Mn(i)},t.prototype.sr=function(t,e,n){var r=this,i=ff(t);return Hc.forEach(e,(function(e){var o=oh(e.path);return Hc.Mn([i.delete([n,o]),r.Ti.ir(t,n,e)])}))},t.prototype.Yi=function(t,e){var n=ff(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.rr=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=ff(t),i=Yu();return r.hs({range:n,us:!0},(function(t,e,n){var r=uh(t[1]),o=new Cs(r);i=i.add(o)})).next((function(){return i}))},t.prototype.Fi=function(t,e){var n=oh(e.path),r=IDBKeyRange.bound([n],[ys(n)],!1,!0),i=0;return ff(t).hs({index:bh.documentTargetsIndex,us:!0,range:r},(function(t,e,n){var r=t[0];t[1],0!==r&&(i++,n.done())})).next((function(){return i>0}))},t.prototype.Sn=function(t,e){return cf(t).get(e).next((function(t){return t?Uh(t):null}))},t}();function cf(t){return Nh(t,mh.store)}function hf(t){return Nh(t,wh.store)}function ff(t){return Nh(t,bh.store)}function lf(t,e){var n=t[0],r=t[1],i=e[0],o=e[1],s=ds(n,i);return 0===s?ds(r,o):s}var pf=function(){function t(t){this.cr=t,this.buffer=new Vu(lf),this.ar=0}return t.prototype.ur=function(){return++this.ar},t.prototype.hr=function(t){var e=[t,this.ur()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();lf(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),df=function(){function t(t,e){this.lr=t,this._s=e,this._r=!1,this.dr=null}return t.prototype.start=function(t){-1!==this.lr.params.zs&&this.wr(t)},t.prototype.stop=function(){this.dr&&(this.dr.cancel(),this.dr=null)},Object.defineProperty(t.prototype,"Er",{get:function(){return null!==this.dr},enumerable:!1,configurable:!0}),t.prototype.wr=function(t){var e=this,n=this._r?3e5:6e4;os("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.dr=this._s.Tr("lru_garbage_collection",n,(function(){return L(e,void 0,void 0,(function(){var e;return M(this,(function(n){switch(n.label){case 0:this.dr=null,this._r=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.Ir(this.lr)];case 2:return n.sent(),[3,7];case 3:return Yc(e=n.sent())?(os("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,Yh(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.wr(t)];case 8:return n.sent(),[2]}}))}))}))},t}(),vf=function(){function t(t,e){this.mr=t,this.params=e}return t.prototype.Ar=function(t,e){return this.mr.Rr(t).next((function(t){return Math.floor(e/100*t)}))},t.prototype.Pr=function(t,e){var n=this;if(0===e)return Hc.resolve(Ns.q);var r=new pf(e);return this.mr.In(t,(function(t){return r.hr(t.sequenceNumber)})).next((function(){return n.mr.yr(t,(function(t){return r.hr(t)}))})).next((function(){return r.maxValue}))},t.prototype.Xi=function(t,e,n){return this.mr.Xi(t,e,n)},t.prototype.gr=function(t,e){return this.mr.gr(t,e)},t.prototype.Vr=function(t,e){var n=this;return-1===this.params.zs?(os("LruGarbageCollector","Garbage collection skipped; disabled"),Hc.resolve(Xh)):this.pr(t).next((function(r){return r<n.params.zs?(os("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.zs),Xh):n.br(t,e)}))},t.prototype.pr=function(t){return this.mr.pr(t)},t.prototype.br=function(t,e){var n,r,i,o,s,a,u,c=this,h=Date.now();return this.Ar(t,this.params.Hs).next((function(e){return e>c.params.Js?(os("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.Js+" from "+e),r=c.params.Js):r=e,o=Date.now(),c.Pr(t,r)})).next((function(r){return n=r,s=Date.now(),c.Xi(t,n,e)})).next((function(e){return i=e,a=Date.now(),c.gr(t,n)})).next((function(t){return u=Date.now(),is()<=ot.DEBUG&&os("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-h)+"ms\n\tDetermined least recently used "+r+" in "+(s-o)+"ms\n\tRemoved "+i+" targets in "+(a-s)+"ms\n\tRemoved "+t+" documents in "+(u-a)+"ms\nTotal Duration: "+(u-h)+"ms"),Hc.resolve({Ks:!0,Ws:r,js:i,Gs:t})}))},t}(),yf=function(){function t(t,e){this.db=t,this.lr=function(t,e){return new vf(t,e)}(this,e)}return t.prototype.Rr=function(t){var e=this.vr(t);return this.db.Sr().Zi(t).next((function(t){return e.next((function(e){return t+e}))}))},t.prototype.vr=function(t){var e=0;return this.yr(t,(function(t){e++})).next((function(){return e}))},t.prototype.In=function(t,e){return this.db.Sr().In(t,e)},t.prototype.yr=function(t,e){return this.Dr(t,(function(t,n){return e(n)}))},t.prototype.nr=function(t,e,n){return gf(t,n)},t.prototype.ir=function(t,e,n){return gf(t,n)},t.prototype.Xi=function(t,e,n){return this.db.Sr().Xi(t,e,n)},t.prototype.Ni=function(t,e){return gf(t,e)},t.prototype.Cr=function(t,e){return function(t,e){var n=!1;return sf(t).ls((function(r){return nf(t,r,e).next((function(t){return t&&(n=!0),Hc.resolve(!t)}))})).next((function(){return n}))}(t,e)},t.prototype.gr=function(t,e){var n=this,r=this.db.$r().Nr(),i=[],o=0;return this.Dr(t,(function(s,a){if(a<=e){var u=n.Cr(t,s).next((function(e){if(!e)return o++,r._i(t,s).next((function(){return r.li(s),ff(t).delete([0,oh(s.path)])}))}));i.push(u)}})).next((function(){return Hc.Mn(i)})).next((function(){return r.apply(t)})).next((function(){return o}))},t.prototype.removeTarget=function(t,e){var n=e.kt(t.bs);return this.db.Sr().Hi(t,n)},t.prototype.Fr=function(t,e){return gf(t,e)},t.prototype.Dr=function(t,e){var n,r=ff(t),i=Ns.q;return r.hs({index:bh.documentTargetsIndex},(function(t,r){var o=t[0],s=(t[1],r.path),a=r.sequenceNumber;0===o?(i!==Ns.q&&e(new Cs(uh(n)),i),i=a,n=s):i=Ns.q})).next((function(){i!==Ns.q&&e(new Cs(uh(n)),i)}))},t.prototype.pr=function(t){return this.db.$r().Or(t)},t}();function gf(t,e){return ff(t).put(function(t,e){return new bh(0,oh(t.path),e)}(e,t.bs))}var mf=function(){function t(t,e){this.Qt=t,this.Ei=e}return t.prototype.ai=function(t,e,n){return _f(t).put(If(e),n)},t.prototype.li=function(t,e){var n=_f(t),r=If(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next((function(r){return r.byteSize+=e,n.kr(t,r)}))},t.prototype._i=function(t,e){var n=this;return _f(t).get(If(e)).next((function(t){return n.Mr(t)}))},t.prototype.Lr=function(t,e){var n=this;return _f(t).get(If(e)).next((function(t){var e=n.Mr(t);return e?{hi:e,size:tf(t)}:null}))},t.prototype.getEntries=function(t,e){var n=this,r=zu();return this.Br(t,e,(function(t,e){var i=n.Mr(e);r=r.zt(t,i)})).next((function(){return r}))},t.prototype.qr=function(t,e){var n=this,r=zu(),i=new ju(Cs.H);return this.Br(t,e,(function(t,e){var o=n.Mr(e);o?(r=r.zt(t,o),i=i.zt(t,tf(e))):(r=r.zt(t,null),i=i.zt(t,0))})).next((function(){return{Ur:r,Qr:i}}))},t.prototype.Br=function(t,e,n){if(e.et())return Hc.resolve();var r=IDBKeyRange.bound(e.first().path.it(),e.last().path.it()),i=e.te(),o=i.oe();return _f(t).hs({range:r},(function(t,e,r){for(var s=Cs.Et(t);o&&Cs.H(o,s)<0;)n(o,null),o=i.oe();o&&o.isEqual(s)&&(n(o,e),o=i.ce()?i.oe():null),o?r.ss(o.path.it()):r.done()})).next((function(){for(;o;)n(o,null),o=i.ce()?i.oe():null}))},t.prototype.Kr=function(t,e,n){var r=this,i=Ku(),o=e.path.length+1,s={};if(n.isEqual(xs.min())){var a=e.path.it();s.range=IDBKeyRange.lowerBound(a)}else{var u=e.path.it(),c=Dh(n);s.range=IDBKeyRange.lowerBound([u,c],!0),s.index=yh.collectionReadTimeIndex}return _f(t).hs(s,(function(t,n,s){if(t.length===o){var a=Ph(r.Qt,n);e.path.nt(a.key.path)?a instanceof la&&$a(e,a)&&(i=i.zt(a.key,a)):s.done()}})).next((function(){return i}))},t.prototype.Nr=function(t){return new bf(this,!!t&&t.Wr)},t.prototype.Or=function(t){return this.getMetadata(t).next((function(t){return t.byteSize}))},t.prototype.getMetadata=function(t){return wf(t).get(gh.key).next((function(t){return hs(!!t),t}))},t.prototype.kr=function(t,e){return wf(t).put(gh.key,e)},t.prototype.Mr=function(t){if(t){var e=Ph(this.Qt,t);return e instanceof pa&&e.version.isEqual(xs.min())?null:e}return null},t}(),bf=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).jr=e,r.Wr=n,r.Gr=new Qh((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),r}return D(e,t),e.prototype.wi=function(t){var e=this,n=[],r=0,i=new Vu((function(t,e){return ds(t.rt(),e.rt())}));return this.ri.forEach((function(o,s){var a=e.Gr.get(o);if(s.hi){var u=Rh(e.jr.Qt,s.hi,e.ci(o));i=i.add(o.path.X());var c=tf(u);r+=c-a,n.push(e.jr.ai(t,o,u))}else if(r-=a,e.Wr){var h=Rh(e.jr.Qt,new pa(o,xs.min()),e.ci(o));n.push(e.jr.ai(t,o,h))}else n.push(e.jr.li(t,o))})),i.forEach((function(r){n.push(e.jr.Ei.qs(t,r))})),n.push(this.jr.updateMetadata(t,r)),Hc.Mn(n)},e.prototype.fi=function(t,e){var n=this;return this.jr.Lr(t,e).next((function(t){return null===t?(n.Gr.set(e,0),null):(n.Gr.set(e,t.size),t.hi)}))},e.prototype.di=function(t,e){var n=this;return this.jr.qr(t,e).next((function(t){var e=t.Ur;return t.Qr.forEach((function(t,e){n.Gr.set(t,e)})),e}))},e}(Jh);function wf(t){return Nh(t,gh.store)}function _f(t){return Nh(t,yh.store)}function If(t){return t.path.it()}var Ef=function(){function t(t){this.Qt=t}return t.prototype.Jn=function(t,e,n,r){var i=this;hs(n<r&&n>=0&&r<=11);var o=new Kc("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(hh.store)}(t),function(t){t.createObjectStore(fh.store,{keyPath:fh.keyPath}),t.createObjectStore(lh.store,{keyPath:lh.keyPath,autoIncrement:!0}).createIndex(lh.userMutationsIndex,lh.userMutationsKeyPath,{unique:!0}),t.createObjectStore(ph.store)}(t),Tf(t),function(t){t.createObjectStore(yh.store)}(t));var s=Hc.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(bh.store),t.deleteObjectStore(mh.store),t.deleteObjectStore(wh.store)}(t),Tf(t)),s=s.next((function(){return function(t){var e=t.store(wh.store),n=new wh(0,0,xs.min().j(),0);return e.put(wh.key,n)}(o)}))),n<4&&r>=4&&(0!==n&&(s=s.next((function(){return function(t,e){return e.store(lh.store).rs().next((function(n){t.deleteObjectStore(lh.store),t.createObjectStore(lh.store,{keyPath:lh.keyPath,autoIncrement:!0}).createIndex(lh.userMutationsIndex,lh.userMutationsKeyPath,{unique:!0});var r=e.store(lh.store),i=n.map((function(t){return r.put(t)}));return Hc.Mn(i)}))}(t,o)}))),s=s.next((function(){!function(t){t.createObjectStore(Ih.store,{keyPath:Ih.keyPath})}(t)}))),n<5&&r>=5&&(s=s.next((function(){return i.zr(o)}))),n<6&&r>=6&&(s=s.next((function(){return function(t){t.createObjectStore(gh.store)}(t),i.Hr(o)}))),n<7&&r>=7&&(s=s.next((function(){return i.Jr(o)}))),n<8&&r>=8&&(s=s.next((function(){return i.Yr(t,o)}))),n<9&&r>=9&&(s=s.next((function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(yh.store);e.createIndex(yh.readTimeIndex,yh.readTimeIndexPath,{unique:!1}),e.createIndex(yh.collectionReadTimeIndex,yh.collectionReadTimeIndexPath,{unique:!1})}(e)}))),n<10&&r>=10&&(s=s.next((function(){return i.Xr(o)}))),n<11&&r>=11&&(s=s.next((function(){!function(t){t.createObjectStore(Eh.store,{keyPath:Eh.keyPath})}(t),function(t){t.createObjectStore(Th.store,{keyPath:Th.keyPath})}(t)}))),s},t.prototype.Hr=function(t){var e=0;return t.store(yh.store).hs((function(t,n){e+=tf(n)})).next((function(){var n=new gh(e);return t.store(gh.store).put(gh.key,n)}))},t.prototype.zr=function(t){var e=this,n=t.store(fh.store),r=t.store(lh.store);return n.rs().next((function(n){return Hc.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.rs(lh.userMutationsIndex,i).next((function(r){return Hc.forEach(r,(function(r){hs(r.userId===n.userId);var i=jh(e.Qt,r);return Zh(t,n.userId,i).next((function(){}))}))}))}))}))},t.prototype.Jr=function(t){var e=t.store(bh.store),n=t.store(yh.store);return t.store(wh.store).get(wh.key).next((function(t){var r=[];return n.hs((function(n,i){var o=new Ps(n),s=function(t){return[0,oh(t)]}(o);r.push(e.get(s).next((function(n){return n?Hc.resolve():function(n){return e.put(new bh(0,oh(n),t.highestListenSequenceNumber))}(o)})))})).next((function(){return Hc.Mn(r)}))}))},t.prototype.Yr=function(t,e){t.createObjectStore(_h.store,{keyPath:_h.keyPath});var n=e.store(_h.store),r=new Hh,i=function(t){if(r.add(t)){var e=t.tt(),i=t.X();return n.put({collectionId:e,parent:oh(i)})}};return e.store(yh.store).hs({us:!0},(function(t,e){var n=new Ps(t);return i(n.X())})).next((function(){return e.store(ph.store).hs({us:!0},(function(t,e){t[0];var n=t[1],r=(t[2],uh(n));return i(r.X())}))}))},t.prototype.Xr=function(t){var e=this,n=t.store(mh.store);return n.hs((function(t,r){var i=Uh(r),o=Fh(e.Qt,i);return n.put(o)}))},t}();function Tf(t){t.createObjectStore(bh.store,{keyPath:bh.keyPath}).createIndex(bh.documentTargetsIndex,bh.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(mh.store,{keyPath:mh.keyPath}).createIndex(mh.queryTargetsIndexName,mh.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(wh.store)}var Sf="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Af=function(){function t(e,n,r,i,o,s,a,u,c,h){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Zr=o,this.window=s,this.document=a,this.eo=c,this.no=h,this.so=null,this.io=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ro=null,this.inForeground=!1,this.oo=null,this.co=null,this.ao=Number.NEGATIVE_INFINITY,this.uo=function(t){return Promise.resolve()},!t.Kn())throw new bs(ms.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.Ti=new yf(this,i),this.ho=n+"main",this.Qt=new Oh(u),this.lo=new Wc(this.ho,11,new Ef(this.Qt)),this._o=new uf(this.Ti,this.Qt),this.Ei=new Kh,this.fo=function(t,e){return new mf(t,e)}(this.Qt,this.Ei),this.wo=new qh,this.window&&this.window.localStorage?this.Eo=this.window.localStorage:(this.Eo=null,!1===h&&ss("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var t=this;return this.To().then((function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new bs(ms.FAILED_PRECONDITION,Sf);return t.Io(),t.mo(),t.Ao(),t.runTransaction("getHighestListenSequenceNumber","readonly",(function(e){return t._o.Ki(e)}))})).then((function(e){t.so=new Ns(e,t.eo)})).then((function(){t.io=!0})).catch((function(e){return t.lo&&t.lo.close(),Promise.reject(e)}))},t.prototype.Ro=function(t){var e=this;return this.uo=function(n){return L(e,void 0,void 0,(function(){return M(this,(function(e){return this.Er?[2,t(n)]:[2]}))}))},t(this.isPrimary)},t.prototype.Po=function(t){var e=this;this.lo.Xn((function(n){return L(e,void 0,void 0,(function(){return M(this,(function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))},t.prototype.yo=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Zr.Ps((function(){return L(e,void 0,void 0,(function(){return M(this,(function(t){switch(t.label){case 0:return this.Er?[4,this.To()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))})))},t.prototype.To=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(e){return kf(e).put(new Ih(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next((function(){if(t.isPrimary)return t.Vo(e).next((function(e){e||(t.isPrimary=!1,t.Zr.po((function(){return t.uo(!1)})))}))})).next((function(){return t.bo(e)})).next((function(n){return t.isPrimary&&!n?t.vo(e).next((function(){return!1})):!!n&&t.So(e).next((function(){return!0}))}))})).catch((function(e){if(Yc(e))return os("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return os("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((function(e){t.isPrimary!==e&&t.Zr.po((function(){return t.uo(e)})),t.isPrimary=e}))},t.prototype.Vo=function(t){var e=this;return Nf(t).get(hh.key).next((function(t){return Hc.resolve(e.Do(t))}))},t.prototype.Co=function(t){return kf(t).delete(this.clientId)},t.prototype.xo=function(){return L(this,void 0,void 0,(function(){var t,e,n,r,i=this;return M(this,(function(o){switch(o.label){case 0:return!this.isPrimary||this.No(this.ao,18e5)?[3,2]:(this.ao=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(t){var e=Nh(t,Ih.store);return e.rs().next((function(t){var n=i.$o(t,18e5),r=t.filter((function(t){return-1===n.indexOf(t)}));return Hc.forEach(r,(function(t){return e.delete(t.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}))]);case 1:if(t=o.sent(),this.Eo)for(e=0,n=t;e<n.length;e++)r=n[e],this.Eo.removeItem(this.Fo(r.clientId));o.label=2;case 2:return[2]}}))}))},t.prototype.Ao=function(){var t=this;this.co=this.Zr.Tr("client_metadata_refresh",4e3,(function(){return t.To().then((function(){return t.xo()})).then((function(){return t.Ao()}))}))},t.prototype.Do=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.bo=function(t){var e=this;return this.no?Hc.resolve(!0):Nf(t).get(hh.key).next((function(n){if(null!==n&&e.No(n.leaseTimestampMs,5e3)&&!e.Oo(n.ownerId)){if(e.Do(n)&&e.networkEnabled)return!0;if(!e.Do(n)){if(!n.allowTabSynchronization)throw new bs(ms.FAILED_PRECONDITION,Sf);return!1}}return!(!e.networkEnabled||!e.inForeground)||kf(t).rs().next((function(t){return void 0===e.$o(t,5e3).find((function(t){if(e.clientId!==t.clientId){var n=!e.networkEnabled&&t.networkEnabled,r=!e.inForeground&&t.inForeground,i=e.networkEnabled===t.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(t){return e.isPrimary!==t&&os("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t}))},t.prototype.ko=function(){return L(this,void 0,void 0,(function(){var t=this;return M(this,(function(e){switch(e.label){case 0:return this.io=!1,this.Mo(),this.co&&(this.co.cancel(),this.co=null),this.Lo(),this.Bo(),[4,this.lo.runTransaction("shutdown","readwrite",[hh.store,Ih.store],(function(e){var n=new Ah(e,Ns.q);return t.vo(n).next((function(){return t.Co(n)}))}))];case 1:return e.sent(),this.lo.close(),this.qo(),[2]}}))}))},t.prototype.$o=function(t,e){var n=this;return t.filter((function(t){return n.No(t.updateTimeMs,e)&&!n.Oo(t.clientId)}))},t.prototype.Uo=function(){var t=this;return this.runTransaction("getActiveClients","readonly",(function(e){return kf(e).rs().next((function(e){return t.$o(e,18e5).map((function(t){return t.clientId}))}))}))},Object.defineProperty(t.prototype,"Er",{get:function(){return this.io},enumerable:!1,configurable:!0}),t.prototype.Qo=function(t){return ef.mi(t,this.Qt,this.Ei,this.Ti)},t.prototype.Sr=function(){return this._o},t.prototype.$r=function(){return this.fo},t.prototype.Ko=function(){return this.Ei},t.prototype.Wo=function(){return this.wo},t.prototype.runTransaction=function(t,e,n){var r=this;os("IndexedDbPersistence","Starting transaction:",t);var i,o="readonly"===e?"readonly":"readwrite";return this.lo.runTransaction(t,o,Sh,(function(o){return i=new Ah(o,r.so?r.so.next():Ns.q),"readwrite-primary"===e?r.Vo(i).next((function(t){return!!t||r.bo(i)})).next((function(e){if(!e)throw ss("Failed to obtain primary lease for action '"+t+"'."),r.isPrimary=!1,r.Zr.po((function(){return r.uo(!1)})),new bs(ms.FAILED_PRECONDITION,rh);return n(i)})).next((function(t){return r.So(i).next((function(){return t}))})):r.jo(i).next((function(){return n(i)}))})).then((function(t){return i.Vs(),t}))},t.prototype.jo=function(t){var e=this;return Nf(t).get(hh.key).next((function(t){if(null!==t&&e.No(t.leaseTimestampMs,5e3)&&!e.Oo(t.ownerId)&&!e.Do(t)&&!(e.no||e.allowTabSynchronization&&t.allowTabSynchronization))throw new bs(ms.FAILED_PRECONDITION,Sf)}))},t.prototype.So=function(t){var e=new hh(this.clientId,this.allowTabSynchronization,Date.now());return Nf(t).put(hh.key,e)},t.Kn=function(){return Wc.Kn()},t.prototype.vo=function(t){var e=this,n=Nf(t);return n.get(hh.key).next((function(t){return e.Do(t)?(os("IndexedDbPersistence","Releasing primary lease."),n.delete(hh.key)):Hc.resolve()}))},t.prototype.No=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(ss("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.Io=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.oo=function(){t.Zr.Ps((function(){return t.inForeground="visible"===t.document.visibilityState,t.To()}))},this.document.addEventListener("visibilitychange",this.oo),this.inForeground="visible"===this.document.visibilityState)},t.prototype.Lo=function(){this.oo&&(this.document.removeEventListener("visibilitychange",this.oo),this.oo=null)},t.prototype.mo=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.ro=function(){e.Mo(),e.Zr.Ps((function(){return e.ko()}))},this.window.addEventListener("unload",this.ro))},t.prototype.Bo=function(){this.ro&&(this.window.removeEventListener("unload",this.ro),this.ro=null)},t.prototype.Oo=function(t){var e;try{var n=null!==(null===(e=this.Eo)||void 0===e?void 0:e.getItem(this.Fo(t)));return os("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return ss("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.Mo=function(){if(this.Eo)try{this.Eo.setItem(this.Fo(this.clientId),String(Date.now()))}catch(t){ss("Failed to set zombie client id.",t)}},t.prototype.qo=function(){if(this.Eo)try{this.Eo.removeItem(this.Fo(this.clientId))}catch(t){}},t.prototype.Fo=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function Nf(t){return Nh(t,hh.store)}function kf(t){return Nh(t,Ih.store)}function xf(t,e){var n=t.projectId;return t.o||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var Of=function(t,e){this.progress=t,this.Go=e},Pf=function(){function t(t,e,n){this.fo=t,this.zo=e,this.Ei=n}return t.prototype.Ho=function(t,e){var n=this;return this.zo.bi(t,e).next((function(r){return n.Jo(t,e,r)}))},t.prototype.Jo=function(t,e,n){return this.fo._i(t,e).next((function(t){for(var r=0,i=n;r<i.length;r++)t=i[r].Cs(e,t);return t}))},t.prototype.Yo=function(t,e,n){var r=zu();return e.forEach((function(t,e){for(var i=0,o=n;i<o.length;i++)e=o[i].Cs(t,e);r=r.zt(t,e)})),r},t.prototype.Xo=function(t,e){var n=this;return this.fo.getEntries(t,e).next((function(e){return n.Zo(t,e)}))},t.prototype.Zo=function(t,e){var n=this;return this.zo.vi(t,e).next((function(r){var i=n.Yo(t,e,r),o=Gu();return i.forEach((function(t,e){e||(e=new pa(t,xs.min())),o=o.zt(t,e)})),o}))},t.prototype.Kr=function(t,e,n){return function(t){return Cs.wt(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.tc(t,e.path):Ba(e)?this.ec(t,e,n):this.nc(t,e,n)},t.prototype.tc=function(t,e){return this.Ho(t,new Cs(e)).next((function(t){var e=Ku();return t instanceof la&&(e=e.zt(t.key,t)),e}))},t.prototype.ec=function(t,e,n){var r=this,i=e.collectionGroup,o=Ku();return this.Ei.Us(t,i).next((function(s){return Hc.forEach(s,(function(s){var a=function(t,e){return new La(e,null,t.xt.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,s.child(i));return r.nc(t,a,n).next((function(t){t.forEach((function(t,e){o=o.zt(t,e)}))}))})).next((function(){return o}))}))},t.prototype.nc=function(t,e,n){var r,i,o=this;return this.fo.Kr(t,e,n).next((function(n){return r=n,o.zo.Di(t,e)})).next((function(e){return i=e,o.sc(t,i,r).next((function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var o=n[e],s=0,a=o.mutations;s<a.length;s++){var u=a[s],c=u.key,h=wu(u,r.get(c),o.vs);r=h instanceof la?r.zt(c,h):r.remove(c)}}))})).next((function(){return r.forEach((function(t,n){$a(e,n)||(r=r.remove(t))})),r}))},t.prototype.sc=function(t,e,n){for(var r=Yu(),i=0,o=e;i<o.length;i++)for(var s=0,a=o[i].mutations;s<a.length;s++){var u=a[s];u instanceof Su&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.fo.getEntries(t,r).next((function(t){return t.forEach((function(t,e){null!==e&&e instanceof la&&(c=c.zt(t,e))})),c}))},t}(),Rf=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.ic=n,this.rc=r}return t.oc=function(e,n){for(var r=Yu(),i=Yu(),o=0,s=n.docChanges;o<s.length;o++){var a=s[o];switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),Df=function(){function t(){}return t.prototype.cc=function(t){this.ac=t},t.prototype.Kr=function(t,e,n,r){var i=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.xt.length||1===t.xt.length&&t.xt[0].field.ut())}(e)||n.isEqual(xs.min())?this.uc(t,e):this.ac.Xo(t,r).next((function(o){var s=i.hc(e,o);return(Ua(e)||Fa(e))&&i.lc(e.limitType,s,r,n)?i.uc(t,e):(is()<=ot.DEBUG&&os("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Xa(e)),i.ac.Kr(t,e,n).next((function(t){return s.forEach((function(e){t=t.zt(e.key,e)})),t})))}))},t.prototype.hc=function(t,e){var n=new Vu(Ya(t));return e.forEach((function(e,r){r instanceof la&&$a(t,r)&&(n=n.add(r))})),n},t.prototype.lc=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version._(r)>0)},t.prototype.uc=function(t,e){return is()<=ot.DEBUG&&os("QueryEngine","Using full collection scan to execute query:",Xa(e)),this.ac.Kr(t,e,xs.min())},t}(),Cf=function(){function t(t,e,n,r){this.persistence=t,this._c=e,this.Qt=r,this.fc=new ju(ds),this.dc=new Qh((function(t){return ga(t)}),ma),this.wc=xs.min(),this.zo=t.Qo(n),this.Ec=t.$r(),this._o=t.Sr(),this.Tc=new Pf(this.Ec,this.zo,this.persistence.Ko()),this.wo=t.Wo(),this._c.cc(this.Tc)}return t.prototype.Ir=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return t.Vr(n,e.fc)}))},t}();function Lf(t,e,n,r){return new Cf(t,e,n,r)}function Mf(t,e){return L(this,void 0,void 0,(function(){var n,r,i,o;return M(this,(function(s){switch(s.label){case 0:return n=fs(t),r=n.zo,i=n.Tc,[4,n.persistence.runTransaction("Handle user change","readonly",(function(t){var o;return n.zo.pi(t).next((function(s){return o=s,r=n.persistence.Qo(e),i=new Pf(n.Ec,r,n.persistence.Ko()),r.pi(t)})).next((function(e){for(var n=[],r=[],s=Yu(),a=0,u=o;a<u.length;a++){var c=u[a];n.push(c.batchId);for(var h=0,f=c.mutations;h<f.length;h++){var l=f[h];s=s.add(l.key)}}for(var p=0,d=e;p<d.length;p++){var v=d[p];r.push(v.batchId);for(var y=0,g=v.mutations;y<g.length;y++){var m=g[y];s=s.add(m.key)}}return i.Xo(t,s).next((function(t){return{Ic:t,mc:n,Ac:r}}))}))}))];case 1:return o=s.sent(),[2,(n.zo=r,n.Tc=i,n._c.cc(n.Tc),o)]}}))}))}function jf(t,e){var n=fs(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(t){var r=e.batch.keys(),i=n.Ec.Nr({Wr:!0});return function(t,e,n,r){var i=n.batch,o=i.keys(),s=Hc.resolve();return o.forEach((function(t){s=s.next((function(){return r._i(e,t)})).next((function(e){var o=e,s=n.$s.get(t);hs(null!==s),(!o||o.version._(s)<0)&&(o=i.Ss(t,o,n))&&r.ai(o,n.Ns)}))})),s.next((function(){return t.zo.Ci(e,i)}))}(n,t,e,i).next((function(){return i.apply(t)})).next((function(){return n.zo.$i(t)})).next((function(){return n.Tc.Xo(t,r)}))}))}function Uf(t){var e=fs(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(function(t){return e._o.Qi(t)}))}function Ff(t,e){var n=fs(t),r=e.Ot,i=n.fc;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(t){var o=n.Ec.Nr({Wr:!0});i=n.fc;var s=[];e.$e.forEach((function(e,o){var a=i.get(o);if(a){s.push(n._o.sr(t,e.Qe,o).next((function(){return n._o.er(t,e.qe,o)})));var u=e.resumeToken;if(u.l()>0){var c=a.Mt(u,r).kt(t.bs);i=i.zt(o,c),function(t,e,n){return hs(e.resumeToken.l()>0),0===t.resumeToken.l()||e.Ot.W()-t.Ot.W()>=3e8||n.qe.size+n.Ue.size+n.Qe.size>0}(a,c,e)&&s.push(n._o.Hi(t,c))}}}));var a=Gu();if(e.Oe.forEach((function(r,i){e.ke.has(r)&&s.push(n.persistence.Ti.Fr(t,r))})),s.push(Vf(t,o,e.Oe,r,void 0).next((function(t){a=t}))),!r.isEqual(xs.min())){var u=n._o.Qi(t).next((function(e){return n._o.Wi(t,t.bs,r)}));s.push(u)}return Hc.Mn(s).next((function(){return o.apply(t)})).next((function(){return n.Tc.Zo(t,a)}))})).then((function(t){return n.fc=i,t}))}function Vf(t,e,n,r,i){var o=Yu();return n.forEach((function(t){return o=o.add(t)})),e.getEntries(t,o).next((function(t){var o=Gu();return n.forEach((function(n,s){var a=t.get(n),u=(null==i?void 0:i.get(n))||r;s instanceof pa&&s.version.isEqual(xs.min())?(e.li(n,u),o=o.zt(n,s)):null==a||s.version._(a.version)>0||0===s.version._(a.version)&&a.hasPendingWrites?(e.ai(s,u),o=o.zt(n,s)):os("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",s.version)})),o}))}function qf(t,e){var n=fs(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(t){return void 0===e&&(e=-1),n.zo.gi(t,e)}))}function Bf(t,e){var n=fs(t);return n.persistence.runTransaction("Allocate target","readwrite",(function(t){var r;return n._o.tr(t,e).next((function(i){return i?(r=i,Hc.resolve(r)):n._o.Bi(t).next((function(i){return r=new Ja(e,i,0,t.bs),n._o.ji(t,r).next((function(){return r}))}))}))})).then((function(t){var r=n.fc.get(t.targetId);return(null===r||t.Ot._(r.Ot)>0)&&(n.fc=n.fc.zt(t.targetId,t),n.dc.set(e,t.targetId)),t}))}function Gf(t,e,n){return L(this,void 0,void 0,(function(){var r,i,o,s;return M(this,(function(a){switch(a.label){case 0:r=fs(t),i=r.fc.get(e),o=n?"readwrite":"readwrite-primary",a.label=1;case 1:return a.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,(function(t){return r.persistence.Ti.removeTarget(t,i)}))];case 2:a.sent(),a.label=3;case 3:return[3,5];case 4:if(!Yc(s=a.sent()))throw s;return os("LocalStore","Failed to update sequence numbers for target "+e+": "+s),[3,5];case 5:return r.fc=r.fc.remove(e),r.dc.delete(i.target),[2]}}))}))}function zf(t,e,n){var r=fs(t),i=xs.min(),o=Yu();return r.persistence.runTransaction("Execute query","readonly",(function(t){return function(t,e,n){var r=fs(t),i=r.dc.get(n);return void 0!==i?Hc.resolve(r.fc.get(i)):r._o.tr(e,n)}(r,t,za(e)).next((function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r._o.rr(t,e.targetId).next((function(t){o=t}))})).next((function(){return r._c.Kr(t,e,n?i:xs.min(),n?o:Yu())})).next((function(t){return{documents:t,Rc:o}}))}))}function Hf(t,e){var n=fs(t),r=fs(n._o),i=n.fc.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(t){return r.Sn(t,e).next((function(t){return t?t.target:null}))}))}function Kf(t){var e=fs(t);return e.persistence.runTransaction("Get new document changes","readonly",(function(t){return function(t,e,n){var r=fs(t),i=Gu(),o=Dh(n),s=_f(e),a=IDBKeyRange.lowerBound(o,!0);return s.hs({index:yh.readTimeIndex,range:a},(function(t,e){var n=Ph(r.Qt,e);i=i.zt(n.key,n),o=e.readTime})).next((function(){return{Go:i,readTime:Ch(o)}}))}(e.Ec,t,e.wc)})).then((function(t){var n=t.Go,r=t.readTime;return e.wc=r,n}))}function Wf(t){return L(this,void 0,void 0,(function(){var e;return M(this,(function(n){return[2,(e=fs(t)).persistence.runTransaction("Synchronize last document change read time","readonly",(function(t){return function(t){var e=_f(t),n=xs.min();return e.hs({index:yh.readTimeIndex,reverse:!0},(function(t,e,r){e.readTime&&(n=Ch(e.readTime)),r.done()})).next((function(){return n}))}(t)})).then((function(t){e.wc=t}))]}))}))}function Xf(t,e,n,r){return L(this,void 0,void 0,(function(){var i,o,s,a,u,c,h,f,l,p;return M(this,(function(d){switch(d.label){case 0:for(i=fs(t),o=Yu(),s=Gu(),a=Xu(),u=0,c=n;u<c.length;u++)h=c[u],f=e.Pc(h.metadata.name),h.document&&(o=o.add(f)),s=s.zt(f,e.yc(h)),a=a.zt(f,e.gc(h.metadata.readTime));return l=i.Ec.Nr({Wr:!0}),[4,Bf(i,function(t){return za(ja(Ps.ot("__bundle__/docs/"+t)))}(r))];case 1:return p=d.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",(function(t){return Vf(t,l,s,xs.min(),a).next((function(e){return l.apply(t),e})).next((function(e){return i._o.Yi(t,p.targetId).next((function(){return i._o.er(t,o,p.targetId)})).next((function(){return i.Tc.Zo(t,e)}))}))}))]}}))}))}function $f(t,e,n){return void 0===n&&(n=Yu()),L(this,void 0,void 0,(function(){var r,i;return M(this,(function(o){switch(o.label){case 0:return[4,Bf(t,za(Vh(e.bundledQuery)))];case 1:return r=o.sent(),[2,(i=fs(t)).persistence.runTransaction("Save named query","readwrite",(function(t){var o=gc(e.readTime);if(r.Ot._(o)>=0)return i.wo.Ls(t,e);var s=r.Mt(gs.T,o);return i.fc=i.fc.zt(s.targetId,s),i._o.Hi(t,s).next((function(){return i._o.Yi(t,r.targetId)})).next((function(){return i._o.er(t,n,r.targetId)})).next((function(){return i.wo.Ls(t,e)}))}))]}}))}))}var Yf=function(){function t(t){this.Qt=t,this.Vc=new Map,this.bc=new Map}return t.prototype.Os=function(t,e){return Hc.resolve(this.Vc.get(e))},t.prototype.ks=function(t,e){var n;return this.Vc.set(e.id,{id:(n=e).id,version:n.version,createTime:gc(n.createTime)}),Hc.resolve()},t.prototype.Ms=function(t,e){return Hc.resolve(this.bc.get(e))},t.prototype.Ls=function(t,e){return this.bc.set(e.name,function(t){return{name:t.name,query:Vh(t.bundledQuery),readTime:gc(t.readTime)}}(e)),Hc.resolve()},t}(),Qf=function(){function t(){this.vc=new Vu(Jf.Sc),this.Dc=new Vu(Jf.Cc)}return t.prototype.et=function(){return this.vc.et()},t.prototype.nr=function(t,e){var n=new Jf(t,e);this.vc=this.vc.add(n),this.Dc=this.Dc.add(n)},t.prototype.xc=function(t,e){var n=this;t.forEach((function(t){return n.nr(t,e)}))},t.prototype.ir=function(t,e){this.Nc(new Jf(t,e))},t.prototype.$c=function(t,e){var n=this;t.forEach((function(t){return n.ir(t,e)}))},t.prototype.Fc=function(t){var e=this,n=new Cs(new Ps([])),r=new Jf(n,t),i=new Jf(n,t+1),o=[];return this.Dc.me([r,i],(function(t){e.Nc(t),o.push(t.key)})),o},t.prototype.Oc=function(){var t=this;this.vc.forEach((function(e){return t.Nc(e)}))},t.prototype.Nc=function(t){this.vc=this.vc.delete(t),this.Dc=this.Dc.delete(t)},t.prototype.kc=function(t){var e=new Cs(new Ps([])),n=new Jf(e,t),r=new Jf(e,t+1),i=Yu();return this.Dc.me([n,r],(function(t){i=i.add(t.key)})),i},t.prototype.Fi=function(t){var e=new Jf(t,0),n=this.vc.Re(e);return null!==n&&t.isEqual(n.key)},t}(),Jf=function(){function t(t,e){this.key=t,this.Mc=e}return t.Sc=function(t,e){return Cs.H(t.key,e.key)||ds(t.Mc,e.Mc)},t.Cc=function(t,e){return ds(t.Mc,e.Mc)||Cs.H(t.key,e.key)},t}(),Zf=function(){function t(t,e){this.Ei=t,this.Ti=e,this.zo=[],this.Lc=1,this.Bc=new Vu(Jf.Sc)}return t.prototype.Ai=function(t){return Hc.resolve(0===this.zo.length)},t.prototype.Ri=function(t,e,n,r){var i=this.Lc;this.Lc++,this.zo.length>0&&this.zo[this.zo.length-1];var o=new kh(i,e,n,r);this.zo.push(o);for(var s=0,a=r;s<a.length;s++){var u=a[s];this.Bc=this.Bc.add(new Jf(u.key,i)),this.Ei.qs(t,u.key.path.X())}return Hc.resolve(o)},t.prototype.Pi=function(t,e){return Hc.resolve(this.qc(e))},t.prototype.gi=function(t,e){var n=e+1,r=this.Uc(n),i=r<0?0:r;return Hc.resolve(this.zo.length>i?this.zo[i]:null)},t.prototype.Vi=function(){return Hc.resolve(0===this.zo.length?-1:this.Lc-1)},t.prototype.pi=function(t){return Hc.resolve(this.zo.slice())},t.prototype.bi=function(t,e){var n=this,r=new Jf(e,0),i=new Jf(e,Number.POSITIVE_INFINITY),o=[];return this.Bc.me([r,i],(function(t){var e=n.qc(t.Mc);o.push(e)})),Hc.resolve(o)},t.prototype.vi=function(t,e){var n=this,r=new Vu(ds);return e.forEach((function(t){var e=new Jf(t,0),i=new Jf(t,Number.POSITIVE_INFINITY);n.Bc.me([e,i],(function(t){r=r.add(t.Mc)}))})),Hc.resolve(this.Qc(r))},t.prototype.Di=function(t,e){var n=e.path,r=n.length+1,i=n;Cs.wt(i)||(i=i.child(""));var o=new Jf(new Cs(i),0),s=new Vu(ds);return this.Bc.Ae((function(t){var e=t.key.path;return!!n.nt(e)&&(e.length===r&&(s=s.add(t.Mc)),!0)}),o),Hc.resolve(this.Qc(s))},t.prototype.Qc=function(t){var e=this,n=[];return t.forEach((function(t){var r=e.qc(t);null!==r&&n.push(r)})),n},t.prototype.Ci=function(t,e){var n=this;hs(0===this.Kc(e.batchId,"removed")),this.zo.shift();var r=this.Bc;return Hc.forEach(e.mutations,(function(i){var o=new Jf(i.key,e.batchId);return r=r.delete(o),n.Ti.Ni(t,i.key)})).next((function(){n.Bc=r}))},t.prototype.xi=function(t){},t.prototype.Fi=function(t,e){var n=new Jf(e,0),r=this.Bc.Re(n);return Hc.resolve(e.isEqual(r&&r.key))},t.prototype.$i=function(t){return this.zo.length,Hc.resolve()},t.prototype.Kc=function(t,e){return this.Uc(t)},t.prototype.Uc=function(t){return 0===this.zo.length?0:t-this.zo[0].batchId},t.prototype.qc=function(t){var e=this.Uc(t);return e<0||e>=this.zo.length?null:this.zo[e]},t}(),tl=function(){function t(t,e){this.Ei=t,this.Wc=e,this.docs=new ju(Cs.H),this.size=0}return t.prototype.ai=function(t,e,n){var r=e.key,i=this.docs.get(r),o=i?i.size:0,s=this.Wc(e);return this.docs=this.docs.zt(r,{hi:e,size:s,readTime:n}),this.size+=s-o,this.Ei.qs(t,r.path.X())},t.prototype.li=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype._i=function(t,e){var n=this.docs.get(e);return Hc.resolve(n?n.hi:null)},t.prototype.getEntries=function(t,e){var n=this,r=zu();return e.forEach((function(t){var e=n.docs.get(t);r=r.zt(t,e?e.hi:null)})),Hc.resolve(r)},t.prototype.Kr=function(t,e,n){for(var r=Ku(),i=new Cs(e.path.child("")),o=this.docs.ee(i);o.ce();){var s=o.oe(),a=s.key,u=s.value,c=u.hi,h=u.readTime;if(!e.path.nt(a.path))break;h._(n)<=0||c instanceof la&&$a(e,c)&&(r=r.zt(c.key,c))}return Hc.resolve(r)},t.prototype.jc=function(t,e){return Hc.forEach(this.docs,(function(t){return e(t)}))},t.prototype.Nr=function(t){return new el(this)},t.prototype.Or=function(t){return Hc.resolve(this.size)},t}(),el=function(t){function e(e){var n=this;return(n=t.call(this)||this).jr=e,n}return D(e,t),e.prototype.wi=function(t){var e=this,n=[];return this.ri.forEach((function(r,i){i&&i.hi?n.push(e.jr.ai(t,i.hi,e.ci(r))):e.jr.li(r)})),Hc.Mn(n)},e.prototype.fi=function(t,e){return this.jr._i(t,e)},e.prototype.di=function(t,e){return this.jr.getEntries(t,e)},e}(Jh),nl=function(){function t(t){this.persistence=t,this.Gc=new Qh((function(t){return ga(t)}),ma),this.lastRemoteSnapshotVersion=xs.min(),this.highestTargetId=0,this.zc=0,this.Hc=new Qf,this.targetCount=0,this.Jc=af.Mi()}return t.prototype.In=function(t,e){return this.Gc.forEach((function(t,n){return e(n)})),Hc.resolve()},t.prototype.Qi=function(t){return Hc.resolve(this.lastRemoteSnapshotVersion)},t.prototype.Ki=function(t){return Hc.resolve(this.zc)},t.prototype.Bi=function(t){return this.highestTargetId=this.Jc.next(),Hc.resolve(this.highestTargetId)},t.prototype.Wi=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.zc&&(this.zc=e),Hc.resolve()},t.prototype.Gi=function(t){this.Gc.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.Jc=new af(e),this.highestTargetId=e),t.sequenceNumber>this.zc&&(this.zc=t.sequenceNumber)},t.prototype.ji=function(t,e){return this.Gi(e),this.targetCount+=1,Hc.resolve()},t.prototype.Hi=function(t,e){return this.Gi(e),Hc.resolve()},t.prototype.Ji=function(t,e){return this.Gc.delete(e.target),this.Hc.Fc(e.targetId),this.targetCount-=1,Hc.resolve()},t.prototype.Xi=function(t,e,n){var r=this,i=0,o=[];return this.Gc.forEach((function(s,a){a.sequenceNumber<=e&&null===n.get(a.targetId)&&(r.Gc.delete(s),o.push(r.Yi(t,a.targetId)),i++)})),Hc.Mn(o).next((function(){return i}))},t.prototype.Zi=function(t){return Hc.resolve(this.targetCount)},t.prototype.tr=function(t,e){var n=this.Gc.get(e)||null;return Hc.resolve(n)},t.prototype.er=function(t,e,n){return this.Hc.xc(e,n),Hc.resolve()},t.prototype.sr=function(t,e,n){this.Hc.$c(e,n);var r=this.persistence.Ti,i=[];return r&&e.forEach((function(e){i.push(r.Ni(t,e))})),Hc.Mn(i)},t.prototype.Yi=function(t,e){return this.Hc.Fc(e),Hc.resolve()},t.prototype.rr=function(t,e){var n=this.Hc.kc(e);return Hc.resolve(n)},t.prototype.Fi=function(t,e){return Hc.resolve(this.Hc.Fi(e))},t}(),rl=function(){function t(t,e){var n=this;this.Yc={},this.so=new Ns(0),this.io=!1,this.io=!0,this.Ti=t(this),this._o=new nl(this),this.Ei=new zh,this.fo=function(t,e){return new tl(t,(function(t){return n.Ti.Xc(t)}))}(this.Ei),this.Qt=new Oh(e),this.wo=new Yf(this.Qt)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.ko=function(){return this.io=!1,Promise.resolve()},Object.defineProperty(t.prototype,"Er",{get:function(){return this.io},enumerable:!1,configurable:!0}),t.prototype.Po=function(){},t.prototype.yo=function(){},t.prototype.Ko=function(){return this.Ei},t.prototype.Qo=function(t){var e=this.Yc[t.A()];return e||(e=new Zf(this.Ei,this.Ti),this.Yc[t.A()]=e),e},t.prototype.Sr=function(){return this._o},t.prototype.$r=function(){return this.fo},t.prototype.Wo=function(){return this.wo},t.prototype.runTransaction=function(t,e,n){var r=this;os("MemoryPersistence","Starting transaction:",t);var i=new il(this.so.next());return this.Ti.Zc(),n(i).next((function(t){return r.Ti.ta(i).next((function(){return t}))})).On().then((function(t){return i.Vs(),t}))},t.prototype.ea=function(t,e){return Hc.Ln(Object.values(this.Yc).map((function(n){return function(){return n.Fi(t,e)}})))},t}(),il=function(t){function e(e){var n=this;return(n=t.call(this)||this).bs=e,n}return D(e,t),e}(ih),ol=function(){function t(t){this.persistence=t,this.na=new Qf,this.sa=null}return t.ia=function(e){return new t(e)},Object.defineProperty(t.prototype,"ra",{get:function(){if(this.sa)return this.sa;throw cs()},enumerable:!1,configurable:!0}),t.prototype.nr=function(t,e,n){return this.na.nr(n,e),this.ra.delete(n.toString()),Hc.resolve()},t.prototype.ir=function(t,e,n){return this.na.ir(n,e),this.ra.add(n.toString()),Hc.resolve()},t.prototype.Ni=function(t,e){return this.ra.add(e.toString()),Hc.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.na.Fc(e.targetId).forEach((function(t){return n.ra.add(t.toString())}));var r=this.persistence.Sr();return r.rr(t,e.targetId).next((function(t){t.forEach((function(t){return n.ra.add(t.toString())}))})).next((function(){return r.Ji(t,e)}))},t.prototype.Zc=function(){this.sa=new Set},t.prototype.ta=function(t){var e=this,n=this.persistence.$r().Nr();return Hc.forEach(this.ra,(function(r){var i=Cs._t(r);return e.oa(t,i).next((function(t){t||n.li(i)}))})).next((function(){return e.sa=null,n.apply(t)}))},t.prototype.Fr=function(t,e){var n=this;return this.oa(t,e).next((function(t){t?n.ra.delete(e.toString()):n.ra.add(e.toString())}))},t.prototype.Xc=function(t){return 0},t.prototype.oa=function(t,e){var n=this;return Hc.Ln([function(){return Hc.resolve(n.na.Fi(e))},function(){return n.persistence.Sr().Fi(t,e)},function(){return n.persistence.ea(t,e)}])},t}();function sl(t,e){return"firestore_clients_"+t+"_"+e}function al(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.m()&&(r+="_"+e.uid),r}function ul(t,e){return"firestore_targets_"+t+"_"+e}var cl=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.ca=function(e,n,r){var i,o=JSON.parse(r),s="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return s&&o.error&&(s="string"==typeof o.error.message&&"string"==typeof o.error.code)&&(i=new bs(o.error.code,o.error.message)),s?new t(e,n,o.state,i):(ss("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.aa=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),hl=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.ca=function(e,n){var r,i=JSON.parse(n),o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new bs(i.error.code,i.error.message)),o?new t(e,i.state,r):(ss("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.aa=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),fl=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.ca=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=Ju(),s=0;i&&s<r.activeTargetIds.length;++s)i=Xs(r.activeTargetIds[s]),o=o.add(r.activeTargetIds[s]);return i?new t(e,o):(ss("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),ll=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.ca=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(ss("SharedClientState","Failed to parse online state: "+e),null)},t}(),pl=function(){function t(){this.activeTargetIds=Ju()}return t.prototype.ua=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.ha=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.aa=function(){var t={activeTargetIds:this.activeTargetIds.it(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),dl=function(){function t(t,e,n,r,i){this.window=t,this.Zr=e,this.persistenceKey=n,this.la=r,this._a=null,this.fa=null,this.k=null,this.da=this.wa.bind(this),this.Ea=new ju(ds),this.Er=!1,this.Ta=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Ia=sl(this.persistenceKey,this.la),this.ma=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.Ea=this.Ea.zt(this.la,new pl),this.Aa=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Ra=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.Pa=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.ya=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.ga=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.da)}return t.Kn=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return L(this,void 0,void 0,(function(){var t,e,n,r,i,o,s,a,u,c,h,f=this;return M(this,(function(l){switch(l.label){case 0:return[4,this._a.Uo()];case 1:for(t=l.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.la&&(i=this.getItem(sl(this.persistenceKey,r)))&&(o=fl.ca(r,i))&&(this.Ea=this.Ea.zt(o.clientId,o));for(this.Va(),(s=this.storage.getItem(this.ya))&&(a=this.pa(s))&&this.ba(a),u=0,c=this.Ta;u<c.length;u++)h=c[u],this.wa(h);return this.Ta=[],this.window.addEventListener("unload",(function(){return f.ko()})),this.Er=!0,[2]}}))}))},t.prototype.B=function(t){this.setItem(this.ma,JSON.stringify(t))},t.prototype.va=function(){return this.Sa(this.Ea)},t.prototype.Da=function(t){var e=!1;return this.Ea.forEach((function(n,r){r.activeTargetIds.has(t)&&(e=!0)})),e},t.prototype.Ca=function(t){this.xa(t,"pending")},t.prototype.Na=function(t,e,n){this.xa(t,e,n),this.$a(t)},t.prototype.Fa=function(t){var e="not-current";if(this.Da(t)){var n=this.storage.getItem(ul(this.persistenceKey,t));if(n){var r=hl.ca(t,n);r&&(e=r.state)}}return this.Oa.ua(t),this.Va(),e},t.prototype.ka=function(t){this.Oa.ha(t),this.Va()},t.prototype.Ma=function(t){return this.Oa.activeTargetIds.has(t)},t.prototype.La=function(t){this.removeItem(ul(this.persistenceKey,t))},t.prototype.Ba=function(t,e,n){this.qa(t,e,n)},t.prototype.Ua=function(t,e,n){var r=this;e.forEach((function(t){r.$a(t)})),this.currentUser=t,n.forEach((function(t){r.Ca(t)}))},t.prototype.Qa=function(t){this.Ka(t)},t.prototype.Wa=function(){this.ja()},t.prototype.ko=function(){this.Er&&(this.window.removeEventListener("storage",this.da),this.removeItem(this.Ia),this.Er=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return os("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){os("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){os("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.wa=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(os("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Ia)return void ss("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Zr.po((function(){return L(e,void 0,void 0,(function(){var t,e,r,i,o,s;return M(this,(function(a){if(this.Er){if(null!==n.key)if(this.Aa.test(n.key)){if(null==n.newValue)return t=this.Ga(n.key),[2,this.za(t,null)];if(e=this.Ha(n.key,n.newValue))return[2,this.za(e.clientId,e)]}else if(this.Ra.test(n.key)){if(null!==n.newValue&&(r=this.Ja(n.key,n.newValue)))return[2,this.Ya(r)]}else if(this.Pa.test(n.key)){if(null!==n.newValue&&(i=this.Xa(n.key,n.newValue)))return[2,this.Za(i)]}else if(n.key===this.ya){if(null!==n.newValue&&(o=this.pa(n.newValue)))return[2,this.ba(o)]}else if(n.key===this.ma)(s=function(t){var e=Ns.q;if(null!=t)try{var n=JSON.parse(t);hs("number"==typeof n),e=n}catch(t){ss("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==Ns.q&&this.k(s);else if(n.key===this.ga)return[2,this._a.tu()]}else this.Ta.push(n);return[2]}))}))}))}},Object.defineProperty(t.prototype,"Oa",{get:function(){return this.Ea.get(this.la)},enumerable:!1,configurable:!0}),t.prototype.Va=function(){this.setItem(this.Ia,this.Oa.aa())},t.prototype.xa=function(t,e,n){var r=new cl(this.currentUser,t,e,n),i=al(this.persistenceKey,this.currentUser,t);this.setItem(i,r.aa())},t.prototype.$a=function(t){var e=al(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.Ka=function(t){var e={clientId:this.la,onlineState:t};this.storage.setItem(this.ya,JSON.stringify(e))},t.prototype.qa=function(t,e,n){var r=ul(this.persistenceKey,t),i=new hl(t,e,n);this.setItem(r,i.aa())},t.prototype.ja=function(){this.setItem(this.ga,"value-not-used")},t.prototype.Ga=function(t){var e=this.Aa.exec(t);return e?e[1]:null},t.prototype.Ha=function(t,e){var n=this.Ga(t);return fl.ca(n,e)},t.prototype.Ja=function(t,e){var n=this.Ra.exec(t),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return cl.ca(new _s(i),r,e)},t.prototype.Xa=function(t,e){var n=this.Pa.exec(t),r=Number(n[1]);return hl.ca(r,e)},t.prototype.pa=function(t){return ll.ca(t)},t.prototype.Ya=function(t){return L(this,void 0,void 0,(function(){return M(this,(function(e){return t.user.uid===this.currentUser.uid?[2,this._a.eu(t.batchId,t.state,t.error)]:(os("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])}))}))},t.prototype.Za=function(t){return this._a.nu(t.targetId,t.state,t.error)},t.prototype.za=function(t,e){var n=this,r=e?this.Ea.zt(t,e):this.Ea.remove(t),i=this.Sa(this.Ea),o=this.Sa(r),s=[],a=[];return o.forEach((function(t){i.has(t)||s.push(t)})),i.forEach((function(t){o.has(t)||a.push(t)})),this._a.su(s,a).then((function(){n.Ea=r}))},t.prototype.ba=function(t){this.Ea.get(t.clientId)&&this.fa(t.onlineState)},t.prototype.Sa=function(t){var e=Ju();return t.forEach((function(t,n){e=e.Pe(n.activeTargetIds)})),e},t}(),vl=function(){function t(){this.iu=new pl,this.ru={},this.fa=null,this.k=null}return t.prototype.Ca=function(t){},t.prototype.Na=function(t,e,n){},t.prototype.Fa=function(t){return this.iu.ua(t),this.ru[t]||"not-current"},t.prototype.Ba=function(t,e,n){this.ru[t]=e},t.prototype.ka=function(t){this.iu.ha(t)},t.prototype.Ma=function(t){return this.iu.activeTargetIds.has(t)},t.prototype.La=function(t){delete this.ru[t]},t.prototype.va=function(){return this.iu.activeTargetIds},t.prototype.Da=function(t){return this.iu.activeTargetIds.has(t)},t.prototype.start=function(){return this.iu=new pl,Promise.resolve()},t.prototype.Ua=function(t,e,n){},t.prototype.Qa=function(t){},t.prototype.ko=function(){},t.prototype.B=function(t){},t.prototype.Wa=function(){},t}(),yl=function(){function t(){}return t.prototype.ou=function(t){},t.prototype.ko=function(){},t}(),gl=function(){function t(){var t=this;this.cu=function(){return t.au()},this.uu=function(){return t.hu()},this.lu=[],this._u()}return t.prototype.ou=function(t){this.lu.push(t)},t.prototype.ko=function(){window.removeEventListener("online",this.cu),window.removeEventListener("offline",this.uu)},t.prototype._u=function(){window.addEventListener("online",this.cu),window.addEventListener("offline",this.uu)},t.prototype.au=function(){os("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.lu;t<e.length;t++)(0,e[t])(0)},t.prototype.hu=function(){os("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.lu;t<e.length;t++)(0,e[t])(1)},t.Kn=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),ml={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},bl=function(){function t(t){this.fu=t.fu,this.du=t.du}return t.prototype.wu=function(t){this.Eu=t},t.prototype.Tu=function(t){this.Iu=t},t.prototype.onMessage=function(t){this.mu=t},t.prototype.close=function(){this.du()},t.prototype.send=function(t){this.fu(t)},t.prototype.Au=function(){this.Eu()},t.prototype.Ru=function(t){this.Iu(t)},t.prototype.Pu=function(t){this.mu(t)},t}(),wl=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.i=e.i,n}return D(e,t),e.prototype.Su=function(t,e,n,r){return new Promise((function(i,o){var s=new ts;s.listenOnce($o.COMPLETE,(function(){try{switch(s.getLastErrorCode()){case Xo.NO_ERROR:var e=s.getResponseJson();os("Connection","XHR received:",JSON.stringify(e)),i(e);break;case Xo.TIMEOUT:os("Connection",'RPC "'+t+'" timed out'),o(new bs(ms.DEADLINE_EXCEEDED,"Request time out"));break;case Xo.HTTP_ERROR:var n=s.getStatus();if(os("Connection",'RPC "'+t+'" failed with status:',n,"response text:",s.getResponseText()),n>0){var r=s.getResponseJson().error;if(r&&r.status&&r.message){var a=function(t){var e=t.toLowerCase().replace(/_/g,"-");return Object.values(ms).indexOf(e)>=0?e:ms.UNKNOWN}(r.status);o(new bs(a,r.message))}else o(new bs(ms.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new bs(ms.UNAVAILABLE,"Connection failed."));break;default:cs()}}finally{os("Connection",'RPC "'+t+'" completed.')}}));var a=JSON.stringify(r);s.send(e,"POST",a,n,15)}))},e.prototype.Cu=function(t,e){var n,r=[this.gu,"/","google.firestore.v1.Firestore","/",t,"/channel"],i=new Go,o=zr(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.t.projectId+"/databases/"+this.t.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.i};this.vu(s.initMessageHeaders,e),"undefined"!=typeof window&&(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(G())||"object"==typeof navigator&&"ReactNative"===navigator.product||G().indexOf("Electron/")>=0||function(){var t=G();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}()||G().indexOf("MSAppHost/")>=0||"object"==typeof(n="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0)&&void 0!==n.id||(s.httpHeadersOverwriteParam="$httpHeaders");var a=r.join("");os("Connection","Creating WebChannel: "+a,s);var u=i.createWebChannel(a,s),c=!1,h=!1,f=new bl({fu:function(t){h?os("Connection","Not sending because WebChannel is closed:",t):(c||(os("Connection","Opening WebChannel transport."),u.open(),c=!0),os("Connection","WebChannel sending:",t),u.send(t))},du:function(){return u.close()}}),l=function(t,e,n){t.listen(e,(function(t){try{n(t)}catch(t){setTimeout((function(){throw t}),0)}}))};return l(u,Zo.EventType.OPEN,(function(){h||os("Connection","WebChannel transport opened.")})),l(u,Zo.EventType.CLOSE,(function(){h||(h=!0,os("Connection","WebChannel transport closed"),f.Ru())})),l(u,Zo.EventType.ERROR,(function(t){h||(h=!0,as("Connection","WebChannel transport errored:",t),f.Ru(new bs(ms.UNAVAILABLE,"The operation could not be completed")))})),l(u,Zo.EventType.MESSAGE,(function(t){var e;if(!h){var n=t.data[0];hs(!!n);var r=n,i=r.error||(null===(e=r[0])||void 0===e?void 0:e.error);if(i){os("Connection","WebChannel received error:",i);var o=i.status,s=function(t){var e=Ou[t];if(void 0!==e)return Mu(e)}(o),a=i.message;void 0===s&&(s=ms.INTERNAL,a="Unknown error status: "+o+" with message "+i.message),h=!0,f.Ru(new bs(s,a)),u.close()}else os("Connection","WebChannel received:",n),f.Pu(n)}})),l(o,Yo.STAT_EVENT,(function(t){t.stat===Qo?os("Connection","Detected buffering proxy"):t.stat===Jo&&os("Connection","Detected no buffering proxy")})),setTimeout((function(){f.Au()}),0),f},e}(function(){function t(t){this.yu=t,this.t=t.t;var e=t.ssl?"https":"http";this.gu=e+"://"+t.host,this.Vu="projects/"+this.t.projectId+"/databases/"+this.t.database+"/documents"}return t.prototype.pu=function(t,e,n,r){var i=this.bu(t,e);os("RestConnection","Sending: ",i,n);var o={};return this.vu(o,r),this.Su(t,i,o,n).then((function(t){return os("RestConnection","Received: ",t),t}),(function(e){throw as("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e}))},t.prototype.Du=function(t,e,n,r){return this.pu(t,e,n,r)},t.prototype.vu=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.2.9",t["Content-Type"]="text/plain",e)for(var n in e.g)e.g.hasOwnProperty(n)&&(t[n]=e.g[n])},t.prototype.bu=function(t,e){var n=ml[t];return this.gu+"/v1/"+e+":"+n},t}());function _l(){return"undefined"!=typeof window?window:null}function Il(){return"undefined"!=typeof document?document:null}function El(t){return new pc(t,!0)}var Tl=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Zr=t,this.fs=e,this.xu=n,this.Nu=r,this.$u=i,this.Fu=0,this.Ou=null,this.ku=Date.now(),this.reset()}return t.prototype.reset=function(){this.Fu=0},t.prototype.Mu=function(){this.Fu=this.$u},t.prototype.Lu=function(t){var e=this;this.cancel();var n=Math.floor(this.Fu+this.Bu()),r=Math.max(0,Date.now()-this.ku),i=Math.max(0,n-r);i>0&&os("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.Fu+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Ou=this.Zr.Tr(this.fs,i,(function(){return e.ku=Date.now(),t()})),this.Fu*=this.Nu,this.Fu<this.xu&&(this.Fu=this.xu),this.Fu>this.$u&&(this.Fu=this.$u)},t.prototype.qu=function(){null!==this.Ou&&(this.Ou.Rs(),this.Ou=null)},t.prototype.cancel=function(){null!==this.Ou&&(this.Ou.cancel(),this.Ou=null)},t.prototype.Bu=function(){return(Math.random()-.5)*this.Fu},t}(),Sl=function(){function t(t,e,n,r,i,o){this.Zr=t,this.Uu=n,this.Qu=r,this.Ku=i,this.listener=o,this.state=0,this.Wu=0,this.ju=null,this.stream=null,this.Gu=new Tl(t,e)}return t.prototype.zu=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.Hu=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.Ju()},t.prototype.stop=function(){return L(this,void 0,void 0,(function(){return M(this,(function(t){switch(t.label){case 0:return this.zu()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},t.prototype.Yu=function(){this.state=0,this.Gu.reset()},t.prototype.Xu=function(){var t=this;this.Hu()&&null===this.ju&&(this.ju=this.Zr.Tr(this.Uu,6e4,(function(){return t.Zu()})))},t.prototype.th=function(t){this.eh(),this.stream.send(t)},t.prototype.Zu=function(){return L(this,void 0,void 0,(function(){return M(this,(function(t){return this.Hu()?[2,this.close(0)]:[2]}))}))},t.prototype.eh=function(){this.ju&&(this.ju.cancel(),this.ju=null)},t.prototype.close=function(t,e){return L(this,void 0,void 0,(function(){return M(this,(function(n){switch(n.label){case 0:return this.eh(),this.Gu.cancel(),this.Wu++,3!==t?this.Gu.reset():e&&e.code===ms.RESOURCE_EXHAUSTED?(ss(e.toString()),ss("Using maximum backoff delay to prevent overloading the backend."),this.Gu.Mu()):e&&e.code===ms.UNAUTHENTICATED&&this.Ku.p(),null!==this.stream&&(this.nh(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Tu(e)];case 1:return n.sent(),[2]}}))}))},t.prototype.nh=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.sh(this.Wu),n=this.Wu;this.Ku.getToken().then((function(e){t.Wu===n&&t.ih(e)}),(function(n){e((function(){var e=new bs(ms.UNKNOWN,"Fetching auth token failed: "+n.message);return t.rh(e)}))}))},t.prototype.ih=function(t){var e=this,n=this.sh(this.Wu);this.stream=this.oh(t),this.stream.wu((function(){n((function(){return e.state=2,e.listener.wu()}))})),this.stream.Tu((function(t){n((function(){return e.rh(t)}))})),this.stream.onMessage((function(t){n((function(){return e.onMessage(t)}))}))},t.prototype.Ju=function(){var t=this;this.state=4,this.Gu.Lu((function(){return L(t,void 0,void 0,(function(){return M(this,(function(t){return this.state=0,this.start(),[2]}))}))}))},t.prototype.rh=function(t){return os("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.sh=function(t){var e=this;return function(n){e.Zr.Ps((function(){return e.Wu===t?n():(os("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},t}(),Al=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).Qt=i,s}return D(e,t),e.prototype.oh=function(t){return this.Qu.Cu("Listen",t)},e.prototype.onMessage=function(t){this.Gu.reset();var e=function(t,e){var n;if("targetChange"in e){e.targetChange;var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:cs()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(t,e){return t.Bt?(hs(void 0===e||"string"==typeof e),gs.fromBase64String(e||"")):(hs(void 0===e||e instanceof Uint8Array),gs.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),s=(a=e.targetChange.cause)&&function(t){var e=void 0===t.code?ms.UNKNOWN:Mu(t.code);return new bs(e,t.message||"")}(a);n=new sc(r,i,o,s||null)}else if("documentChange"in e){e.documentChange,(r=e.documentChange).document,r.document.name,r.document.updateTime,i=_c(t,r.document.name),o=gc(r.document.updateTime);var a=new ua({mapValue:{fields:r.document.fields}}),u=(s=new la(i,o,a,{}),r.targetIds||[]),c=r.removedTargetIds||[];n=new ic(u,c,s.key,s)}else if("documentDelete"in e)e.documentDelete,(r=e.documentDelete).document,i=_c(t,r.document),o=r.readTime?gc(r.readTime):xs.min(),a=new pa(i,o),s=r.removedTargetIds||[],n=new ic([],s,a.key,a);else if("documentRemove"in e)e.documentRemove,(r=e.documentRemove).document,i=_c(t,r.document),o=r.removedTargetIds||[],n=new ic([],o,i,null);else{if(!("filter"in e))return cs();e.filter;var h=e.filter;h.targetId,r=h.count||0,i=new Cu(r),o=h.targetId,n=new oc(o,i)}return n}(this.Qt,t),n=function(t){if(!("targetChange"in t))return xs.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?xs.min():e.readTime?gc(e.readTime):xs.min()}(t);return this.listener.ah(e,n)},e.prototype.uh=function(t){var e={};e.database=Tc(this.Qt),e.addTarget=function(t,e){var n,r=e.target;return(n=ba(r)?{documents:Oc(t,r)}:{query:Pc(t,r)}).targetId=e.targetId,e.resumeToken.l()>0?n.resumeToken=vc(t,e.resumeToken):e.Ot._(xs.min())>0&&(n.readTime=dc(t,e.Ot.j())),n}(this.Qt,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return cs()}}(0,e.Ft);return null==n?null:{"goog-listen-tags":n}}(this.Qt,t);n&&(e.labels=n),this.th(e)},e.prototype.hh=function(t){var e={};e.database=Tc(this.Qt),e.removeTarget=t,this.th(e)},e}(Sl),Nl=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).Qt=i,s.lh=!1,s}return D(e,t),Object.defineProperty(e.prototype,"_h",{get:function(){return this.lh},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.lh=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.nh=function(){this.lh&&this.fh([])},e.prototype.oh=function(t){return this.Qu.Cu("Write",t)},e.prototype.onMessage=function(t){if(hs(!!t.streamToken),this.lastStreamToken=t.streamToken,this.lh){this.Gu.reset();var e=function(t,e){return t&&t.length>0?(hs(void 0!==e),t.map((function(t){return function(t,e){var n=t.updateTime?gc(t.updateTime):gc(e);n.isEqual(xs.min())&&(n=gc(e));var r=null;return t.transformResults&&t.transformResults.length>0&&(r=t.transformResults),new vu(n,r)}(t,e)}))):[]}(t.writeResults,t.commitTime),n=gc(t.commitTime);return this.listener.dh(n,e)}return hs(!t.writeResults||0===t.writeResults.length),this.lh=!0,this.listener.wh()},e.prototype.Eh=function(){var t={};t.database=Tc(this.Qt),this.th(t)},e.prototype.fh=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map((function(t){return kc(e.Qt,t)}))};this.th(n)},e}(Sl),kl=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.Qu=n,i.Qt=r,i.Th=!1,i}return D(e,t),e.prototype.Ih=function(){if(this.Th)throw new bs(ms.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.pu=function(t,e,n){var r=this;return this.Ih(),this.credentials.getToken().then((function(i){return r.Qu.pu(t,e,n,i)})).catch((function(t){throw t.code===ms.UNAUTHENTICATED&&r.credentials.p(),t}))},e.prototype.Du=function(t,e,n){var r=this;return this.Ih(),this.credentials.getToken().then((function(i){return r.Qu.Du(t,e,n,i)})).catch((function(t){throw t.code===ms.UNAUTHENTICATED&&r.credentials.p(),t}))},e.prototype.terminate=function(){this.Th=!1},e}((function(){})),xl=function(){function t(t,e){this._s=t,this.fa=e,this.state="Unknown",this.mh=0,this.Ah=null,this.Rh=!0}return t.prototype.Ph=function(){var t=this;0===this.mh&&(this.yh("Unknown"),this.Ah=this._s.Tr("online_state_timeout",1e4,(function(){return t.Ah=null,t.gh("Backend didn't respond within 10 seconds."),t.yh("Offline"),Promise.resolve()})))},t.prototype.Vh=function(t){"Online"===this.state?this.yh("Unknown"):(this.mh++,this.mh>=1&&(this.ph(),this.gh("Connection failed 1 times. Most recent error: "+t.toString()),this.yh("Offline")))},t.prototype.set=function(t){this.ph(),this.mh=0,"Online"===t&&(this.Rh=!1),this.yh(t)},t.prototype.yh=function(t){t!==this.state&&(this.state=t,this.fa(t))},t.prototype.gh=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Rh?(ss(e),this.Rh=!1):os("OnlineStateTracker",e)},t.prototype.ph=function(){null!==this.Ah&&(this.Ah.cancel(),this.Ah=null)},t}(),Ol=function(t,e,n,r,i){var o=this;this.bh=t,this.Sh=e,this._s=n,this.Dh={},this.Ch=[],this.xh=new Map,this.Nh=new Set,this.$h=[],this.Fh=i,this.Fh.ou((function(t){n.Ps((function(){return L(o,void 0,void 0,(function(){return M(this,(function(t){switch(t.label){case 0:return Fl(this)?(os("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return L(this,void 0,void 0,(function(){var e;return M(this,(function(n){switch(n.label){case 0:return(e=fs(t)).Nh.add(4),[4,Rl(e)];case 1:return n.sent(),e.Oh.set("Unknown"),e.Nh.delete(4),[4,Pl(e)];case 2:return n.sent(),[2]}}))}))}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))})),this.Oh=new xl(n,r)};function Pl(t){return L(this,void 0,void 0,(function(){var e,n;return M(this,(function(r){switch(r.label){case 0:if(!Fl(t))return[3,4];e=0,n=t.$h,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function Rl(t){return L(this,void 0,void 0,(function(){var e,n;return M(this,(function(r){switch(r.label){case 0:e=0,n=t.$h,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function Dl(t,e){var n=fs(t);n.xh.has(e.targetId)||(n.xh.set(e.targetId,e),Ul(n)?jl(n):tp(n).Hu()&&Ll(n,e))}function Cl(t,e){var n=fs(t),r=tp(n);n.xh.delete(e),r.Hu()&&Ml(n,e),0===n.xh.size&&(r.Hu()?r.Xu():Fl(n)&&n.Oh.set("Unknown"))}function Ll(t,e){t.kh.on(e.targetId),tp(t).uh(e)}function Ml(t,e){t.kh.on(e),tp(t).hh(e)}function jl(t){t.kh=new uc({vn:function(e){return t.Dh.vn(e)},Sn:function(e){return t.xh.get(e)||null}}),tp(t).start(),t.Oh.Ph()}function Ul(t){return Fl(t)&&!tp(t).zu()&&t.xh.size>0}function Fl(t){return 0===fs(t).Nh.size}function Vl(t){t.kh=void 0}function ql(t){return L(this,void 0,void 0,(function(){return M(this,(function(e){return t.xh.forEach((function(e,n){Ll(t,e)})),[2]}))}))}function Bl(t,e){return L(this,void 0,void 0,(function(){return M(this,(function(n){return Vl(t),Ul(t)?(t.Oh.Vh(e),jl(t)):t.Oh.set("Unknown"),[2]}))}))}function Gl(t,e,n){return L(this,void 0,void 0,(function(){var r,i,o;return M(this,(function(s){switch(s.label){case 0:if(t.Oh.set("Online"),!(e instanceof sc&&2===e.state&&e.cause))return[3,6];s.label=1;case 1:return s.trys.push([1,3,,5]),[4,function(t,e){return L(this,void 0,void 0,(function(){var n,r,i,o;return M(this,(function(s){switch(s.label){case 0:n=e.cause,r=0,i=e.targetIds,s.label=1;case 1:return r<i.length?(o=i[r],t.xh.has(o)?[4,t.Dh.Mh(o,n)]:[3,3]):[3,5];case 2:s.sent(),t.xh.delete(o),t.kh.removeTarget(o),s.label=3;case 3:s.label=4;case 4:return r++,[3,1];case 5:return[2]}}))}))}(t,e)];case 2:return s.sent(),[3,5];case 3:return r=s.sent(),os("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,zl(t,r)];case 4:return s.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof ic?t.kh.dn(e):e instanceof oc?t.kh.Pn(e):t.kh.Tn(e),n.isEqual(xs.min()))return[3,13];s.label=7;case 7:return s.trys.push([7,11,,13]),[4,Uf(t.bh)];case 8:return i=s.sent(),n._(i)>=0?[4,function(t,e){var n=t.kh.Vn(e);return n.$e.forEach((function(n,r){if(n.resumeToken.l()>0){var i=t.xh.get(r);i&&t.xh.set(r,i.Mt(n.resumeToken,e))}})),n.Fe.forEach((function(e){var n=t.xh.get(e);if(n){t.xh.set(e,n.Mt(gs.T,n.Ot)),Ml(t,e);var r=new Ja(n.target,e,1,n.sequenceNumber);Ll(t,r)}})),t.Dh.Lh(n)}(t,n)]:[3,10];case 9:s.sent(),s.label=10;case 10:return[3,13];case 11:return os("RemoteStore","Failed to raise snapshot:",o=s.sent()),[4,zl(t,o)];case 12:return s.sent(),[3,13];case 13:return[2]}}))}))}function zl(t,e,n){return L(this,void 0,void 0,(function(){var r=this;return M(this,(function(i){switch(i.label){case 0:if(!Yc(e))throw e;return t.Nh.add(1),[4,Rl(t)];case 1:return i.sent(),t.Oh.set("Offline"),n||(n=function(){return Uf(t.bh)}),t._s.po((function(){return L(r,void 0,void 0,(function(){return M(this,(function(e){switch(e.label){case 0:return os("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.Nh.delete(1),[4,Pl(t)];case 2:return e.sent(),[2]}}))}))})),[2]}}))}))}function Hl(t,e){return e().catch((function(n){return zl(t,n,e)}))}function Kl(t){return L(this,void 0,void 0,(function(){var e,n,r,i,o;return M(this,(function(s){switch(s.label){case 0:e=fs(t),n=ep(e),r=e.Ch.length>0?e.Ch[e.Ch.length-1].batchId:-1,s.label=1;case 1:if(!function(t){return Fl(t)&&t.Ch.length<10}(e))return[3,7];s.label=2;case 2:return s.trys.push([2,4,,6]),[4,qf(e.bh,r)];case 3:return null===(i=s.sent())?(0===e.Ch.length&&n.Xu(),[3,7]):(r=i.batchId,function(t,e){t.Ch.push(e);var n=ep(t);n.Hu()&&n._h&&n.fh(e.mutations)}(e,i),[3,6]);case 4:return o=s.sent(),[4,zl(e,o)];case 5:return s.sent(),[3,6];case 6:return[3,1];case 7:return Wl(e)&&Xl(e),[2]}}))}))}function Wl(t){return Fl(t)&&!ep(t).zu()&&t.Ch.length>0}function Xl(t){ep(t).start()}function $l(t){return L(this,void 0,void 0,(function(){return M(this,(function(e){return ep(t).Eh(),[2]}))}))}function Yl(t){return L(this,void 0,void 0,(function(){var e,n,r,i;return M(this,(function(o){for(e=ep(t),n=0,r=t.Ch;n<r.length;n++)i=r[n],e.fh(i.mutations);return[2]}))}))}function Ql(t,e,n){return L(this,void 0,void 0,(function(){var r,i;return M(this,(function(o){switch(o.label){case 0:return r=t.Ch.shift(),i=xh.from(r,e,n),[4,Hl(t,(function(){return t.Dh.Bh(i)}))];case 1:return o.sent(),[4,Kl(t)];case 2:return o.sent(),[2]}}))}))}function Jl(t,e){return L(this,void 0,void 0,(function(){return M(this,(function(n){switch(n.label){case 0:return e&&ep(t)._h?[4,function(t,e){return L(this,void 0,void 0,(function(){var n,r;return M(this,(function(i){switch(i.label){case 0:return Lu(r=e.code)&&r!==ms.ABORTED?(n=t.Ch.shift(),ep(t).Yu(),[4,Hl(t,(function(){return t.Dh.qh(n.batchId,e)}))]):[3,3];case 1:return i.sent(),[4,Kl(t)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return Wl(t)&&Xl(t),[2]}}))}))}function Zl(t,e){return L(this,void 0,void 0,(function(){var n;return M(this,(function(r){switch(r.label){case 0:return n=fs(t),e?(n.Nh.delete(2),[4,Pl(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.Nh.add(2),[4,Rl(n)]);case 3:r.sent(),n.Oh.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}}))}))}function tp(t){var e=this;return t.Uh||(t.Uh=function(t,e,n){var r=fs(t);return r.Ih(),new Al(e,r.Qu,r.credentials,r.Qt,n)}(t.Sh,t._s,{wu:ql.bind(null,t),Tu:Bl.bind(null,t),ah:Gl.bind(null,t)}),t.$h.push((function(n){return L(e,void 0,void 0,(function(){return M(this,(function(e){switch(e.label){case 0:return n?(t.Uh.Yu(),Ul(t)?jl(t):t.Oh.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Uh.stop()];case 2:e.sent(),Vl(t),e.label=3;case 3:return[2]}}))}))}))),t.Uh}function ep(t){var e=this;return t.Qh||(t.Qh=function(t,e,n){var r=fs(t);return r.Ih(),new Nl(e,r.Qu,r.credentials,r.Qt,n)}(t.Sh,t._s,{wu:$l.bind(null,t),Tu:Jl.bind(null,t),wh:Yl.bind(null,t),dh:Ql.bind(null,t)}),t.$h.push((function(n){return L(e,void 0,void 0,(function(){return M(this,(function(e){switch(e.label){case 0:return n?(t.Qh.Yu(),[4,Kl(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.Qh.stop()];case 3:e.sent(),t.Ch.length>0&&(os("RemoteStore","Stopping write stream with "+t.Ch.length+" pending writes"),t.Ch=[]),e.label=4;case 4:return[2]}}))}))}))),t.Qh}var np=function(){this.Kh=void 0,this.listeners=[]},rp=function(){this.queries=new Qh((function(t){return Wa(t)}),Ka),this.onlineState="Unknown",this.Wh=new Set};function ip(t,e){return L(this,void 0,void 0,(function(){var n,r,i,o,s,a,u;return M(this,(function(c){switch(c.label){case 0:if(n=fs(t),r=e.query,i=!1,(o=n.queries.get(r))||(i=!0,o=new np),!i)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),s=o,[4,n.jh(r)];case 2:return s.Kh=c.sent(),[3,4];case 3:return a=c.sent(),u=nh(a,"Initialization of query '"+Xa(e.query)+"' failed"),[2,void e.onError(u)];case 4:return n.queries.set(r,o),o.listeners.push(e),e.Gh(n.onlineState),o.Kh&&e.zh(o.Kh)&&up(n),[2]}}))}))}function op(t,e){return L(this,void 0,void 0,(function(){var n,r,i,o,s;return M(this,(function(a){return n=fs(t),r=e.query,i=!1,(o=n.queries.get(r))&&(s=o.listeners.indexOf(e))>=0&&(o.listeners.splice(s,1),i=0===o.listeners.length),i?[2,(n.queries.delete(r),n.Hh(r))]:[2]}))}))}function sp(t,e){for(var n=fs(t),r=!1,i=0,o=e;i<o.length;i++){var s=o[i],a=s.query,u=n.queries.get(a);if(u){for(var c=0,h=u.listeners;c<h.length;c++)h[c].zh(s)&&(r=!0);u.Kh=s}}r&&up(n)}function ap(t,e,n){var r=fs(t),i=r.queries.get(e);if(i)for(var o=0,s=i.listeners;o<s.length;o++)s[o].onError(n);r.queries.delete(e)}function up(t){t.Wh.forEach((function(t){t.next()}))}var cp=function(){function t(t,e,n){this.query=t,this.Jh=e,this.Yh=!1,this.Xh=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.zh=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new ec(t.query,t.docs,t.Se,e,t.De,t.fromCache,t.Ce,!0)}var o=!1;return this.Yh?this.Zh(t)&&(this.Jh.next(t),o=!0):this.tl(t,this.onlineState)&&(this.el(t),o=!0),this.Xh=t,o},t.prototype.onError=function(t){this.Jh.error(t)},t.prototype.Gh=function(t){this.onlineState=t;var e=!1;return this.Xh&&!this.Yh&&this.tl(this.Xh,t)&&(this.el(this.Xh),e=!0),e},t.prototype.tl=function(t,e){if(!t.fromCache)return!0;var n="Offline"!==e;return!(this.options.nl&&n||t.docs.et()&&"Offline"!==e)},t.prototype.Zh=function(t){if(t.docChanges.length>0)return!0;var e=this.Xh&&this.Xh.hasPendingWrites!==t.hasPendingWrites;return!(!t.Ce&&!e)&&!0===this.options.includeMetadataChanges},t.prototype.el=function(t){t=ec.Ne(t.query,t.docs,t.De,t.fromCache),this.Yh=!0,this.Jh.next(t)},t}(),hp=function(){function t(t,e){this.payload=t,this.byteLength=e}return t.prototype.sl=function(){return"metadata"in this.payload},t}(),fp=function(){function t(t){this.Qt=t}return t.prototype.Pc=function(t){return _c(this.Qt,t)},t.prototype.yc=function(t){return t.metadata.exists?Nc(this.Qt,t.document,!1):new pa(this.Pc(t.metadata.name),this.gc(t.metadata.readTime))},t.prototype.gc=function(t){return gc(t)},t}();!function(){function t(t,e,n){this.il=t,this.bh=e,this.Qt=n,this.queries=[],this.documents=[],this.progress=function(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}(t)}t.prototype.rl=function(t){this.progress.bytesLoaded+=t.byteLength;var e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null},t.prototype.ol=function(t){for(var e=new Map,n=new fp(this.Qt),r=0,i=t;r<i.length;r++){var o=i[r];if(o.metadata.queries)for(var s=n.Pc(o.metadata.name),a=0,u=o.metadata.queries;a<u.length;a++){var c=u[a],h=(e.get(c)||Yu()).add(s);e.set(c,h)}}return e},t.prototype.complete=function(){return L(this,void 0,void 0,(function(){var t,e,n,r,i;return M(this,(function(o){switch(o.label){case 0:return[4,Xf(this.bh,new fp(this.Qt),this.documents,this.il.id)];case 1:t=o.sent(),e=this.ol(this.documents),n=0,r=this.queries,o.label=2;case 2:return n<r.length?(i=r[n],[4,$f(this.bh,i,e.get(i.name))]):[3,5];case 3:o.sent(),o.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new Of(Object.assign({},this.progress),t))]}}))}))}}();var lp=function(t){this.key=t},pp=function(t){this.key=t},dp=function(){function t(t,e){this.query=t,this.cl=e,this.al=null,this.Be=!1,this.ul=Yu(),this.De=Yu(),this.hl=Ya(t),this.ll=new Zu(this.hl)}return Object.defineProperty(t.prototype,"_l",{get:function(){return this.cl},enumerable:!1,configurable:!0}),t.prototype.fl=function(t,e){var n=this,r=e?e.dl:new tc,i=e?e.ll:this.ll,o=e?e.De:this.De,s=i,a=!1,u=Ua(this.query)&&i.size===this.query.limit?i.last():null,c=Fa(this.query)&&i.size===this.query.limit?i.first():null;if(t.Xt((function(t,e){var h=i.get(t),f=e instanceof la?e:null;f&&(f=$a(n.query,f)?f:null);var l=!!h&&n.De.has(h.key),p=!!f&&(f.Vt||n.De.has(f.key)&&f.hasCommittedMutations),d=!1;h&&f?h.data().isEqual(f.data())?l!==p&&(r.track({type:3,doc:f}),d=!0):n.wl(h,f)||(r.track({type:2,doc:f}),d=!0,(u&&n.hl(f,u)>0||c&&n.hl(f,c)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),d=!0):h&&!f&&(r.track({type:1,doc:h}),d=!0,(u||c)&&(a=!0)),d&&(f?(s=s.add(f),o=p?o.add(t):o.delete(t)):(s=s.delete(t),o=o.delete(t)))})),Ua(this.query)||Fa(this.query))for(;s.size>this.query.limit;){var h=Ua(this.query)?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{ll:s,dl:r,lc:a,De:o}},t.prototype.wl=function(t,e){return t.Vt&&e.hasCommittedMutations&&!e.Vt},t.prototype.wi=function(t,e,n){var r=this,i=this.ll;this.ll=t.ll,this.De=t.De;var o=t.dl.ve();o.sort((function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return cs()}};return n(t)-n(e)}(t.type,e.type)||r.hl(t.doc,e.doc)})),this.El(n);var s=e?this.Tl():[],a=0===this.ul.size&&this.Be?1:0,u=a!==this.al;return this.al=a,0!==o.length||u?{snapshot:new ec(this.query,t.ll,i,o,t.De,0===a,u,!1),Il:s}:{Il:s}},t.prototype.Gh=function(t){return this.Be&&"Offline"===t?(this.Be=!1,this.wi({ll:this.ll,dl:new tc,De:this.De,lc:!1},!1)):{Il:[]}},t.prototype.ml=function(t){return!this.cl.has(t)&&!!this.ll.has(t)&&!this.ll.get(t).Vt},t.prototype.El=function(t){var e=this;t&&(t.qe.forEach((function(t){return e.cl=e.cl.add(t)})),t.Ue.forEach((function(t){})),t.Qe.forEach((function(t){return e.cl=e.cl.delete(t)})),this.Be=t.Be)},t.prototype.Tl=function(){var t=this;if(!this.Be)return[];var e=this.ul;this.ul=Yu(),this.ll.forEach((function(e){t.ml(e.key)&&(t.ul=t.ul.add(e.key))}));var n=[];return e.forEach((function(e){t.ul.has(e)||n.push(new pp(e))})),this.ul.forEach((function(t){e.has(t)||n.push(new lp(t))})),n},t.prototype.Al=function(t){this.cl=t.Rc,this.ul=Yu();var e=this.fl(t.documents);return this.wi(e,!0)},t.prototype.Rl=function(){return ec.Ne(this.query,this.ll,this.De,0===this.al)},t}(),vp=function(t,e,n){this.query=t,this.targetId=e,this.view=n},yp=function(t){this.key=t,this.Pl=!1},gp=function(){function t(t,e,n,r,i,o){this.bh=t,this.yl=e,this.gl=n,this.Vl=r,this.currentUser=i,this.pl=o,this.bl={},this.vl=new Qh((function(t){return Wa(t)}),Ka),this.Sl=new Map,this.Dl=new Set,this.Cl=new ju(Cs.H),this.xl=new Map,this.Nl=new Qf,this.$l={},this.Fl=new Map,this.Ol=af.Li(),this.onlineState="Unknown",this.kl=void 0}return Object.defineProperty(t.prototype,"Ml",{get:function(){return!0===this.kl},enumerable:!1,configurable:!0}),t}();function mp(t,e){return L(this,void 0,void 0,(function(){var n,r,i,o,s,a;return M(this,(function(u){switch(u.label){case 0:return n=Wp(t),(o=n.vl.get(e))?(r=o.targetId,n.Vl.Fa(r),i=o.view.Rl(),[3,4]):[3,1];case 1:return[4,Bf(n.bh,za(e))];case 2:return s=u.sent(),a=n.Vl.Fa(s.targetId),r=s.targetId,[4,bp(n,e,r,"current"===a)];case 3:i=u.sent(),n.Ml&&Dl(n.yl,s),u.label=4;case 4:return[2,i]}}))}))}function bp(t,e,n,r){return L(this,void 0,void 0,(function(){var i,o,s,a,u,c;return M(this,(function(h){switch(h.label){case 0:return t.Ll=function(e,n,r){return function(t,e,n,r){return L(this,void 0,void 0,(function(){var i,o,s;return M(this,(function(a){switch(a.label){case 0:return(i=e.view.fl(n)).lc?[4,zf(t.bh,e.query,!1).then((function(t){var n=t.documents;return e.view.fl(n,i)}))]:[3,2];case 1:i=a.sent(),a.label=2;case 2:return o=r&&r.$e.get(e.targetId),s=e.view.wi(i,t.Ml,o),[2,(Rp(t,e.targetId,s.Il),s.snapshot)]}}))}))}(t,e,n,r)},[4,zf(t.bh,e,!0)];case 1:return i=h.sent(),o=new dp(e,i.Rc),s=o.fl(i.documents),a=rc.Le(n,r&&"Offline"!==t.onlineState),u=o.wi(s,t.Ml,a),Rp(t,n,u.Il),c=new vp(e,n,o),[2,(t.vl.set(e,c),t.Sl.has(n)?t.Sl.get(n).push(e):t.Sl.set(n,[e]),u.snapshot)]}}))}))}function wp(t,e){return L(this,void 0,void 0,(function(){var n,r,i;return M(this,(function(o){switch(o.label){case 0:return n=fs(t),r=n.vl.get(e),(i=n.Sl.get(r.targetId)).length>1?[2,(n.Sl.set(r.targetId,i.filter((function(t){return!Ka(t,e)}))),void n.vl.delete(e))]:n.Ml?(n.Vl.ka(r.targetId),n.Vl.Da(r.targetId)?[3,2]:[4,Gf(n.bh,r.targetId,!1).then((function(){n.Vl.La(r.targetId),Cl(n.yl,r.targetId),Op(n,r.targetId)})).catch(Yh)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return Op(n,r.targetId),[4,Gf(n.bh,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}}))}))}function _p(t,e,n){return L(this,void 0,void 0,(function(){var r,i,o,s;return M(this,(function(a){switch(a.label){case 0:r=Xp(t),a.label=1;case 1:return a.trys.push([1,5,,6]),[4,function(t,e){var n,r=fs(t),i=ks.now(),o=e.reduce((function(t,e){return t.add(e.key)}),Yu());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(t){return r.Tc.Xo(t,o).next((function(o){n=o;for(var s=[],a=0,u=e;a<u.length;a++){var c=u[a],h=_u(c,n.get(c.key));null!=h&&s.push(new Su(c.key,h,ha(h.proto.mapValue),yu.exists(!0)))}return r.zo.Ri(t,i,s,e)}))})).then((function(t){var e=t.xs(n);return{batchId:t.batchId,ri:e}}))}(r.bh,e)];case 2:return i=a.sent(),r.Vl.Ca(i.batchId),function(t,e,n){var r=t.$l[t.currentUser.A()];r||(r=new ju(ds)),r=r.zt(e,n),t.$l[t.currentUser.A()]=r}(r,i.batchId,n),[4,Lp(r,i.ri)];case 3:return a.sent(),[4,Kl(r.yl)];case 4:return a.sent(),[3,6];case 5:return o=a.sent(),s=nh(o,"Failed to persist write"),n.reject(s),[3,6];case 6:return[2]}}))}))}function Ip(t,e){return L(this,void 0,void 0,(function(){var n,r;return M(this,(function(i){switch(i.label){case 0:n=fs(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,Ff(n.bh,e)];case 2:return r=i.sent(),e.$e.forEach((function(t,e){var r=n.xl.get(e);r&&(hs(t.qe.size+t.Ue.size+t.Qe.size<=1),t.qe.size>0?r.Pl=!0:t.Ue.size>0?hs(r.Pl):t.Qe.size>0&&(hs(r.Pl),r.Pl=!1))})),[4,Lp(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,Yh(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}}))}))}function Ep(t,e,n){var r=fs(t);if(r.Ml&&0===n||!r.Ml&&1===n){var i=[];r.vl.forEach((function(t,n){var r=n.view.Gh(e);r.snapshot&&i.push(r.snapshot)})),function(t,e){var n=fs(t);n.onlineState=e;var r=!1;n.queries.forEach((function(t,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].Gh(e)&&(r=!0)})),r&&up(n)}(r.gl,e),i.length&&r.bl.ah(i),r.onlineState=e,r.Ml&&r.Vl.Qa(e)}}function Tp(t,e,n){return L(this,void 0,void 0,(function(){var r,i,o,s,a,u;return M(this,(function(c){switch(c.label){case 0:return(r=fs(t)).Vl.Ba(e,"rejected",n),i=r.xl.get(e),(o=i&&i.key)?(s=(s=new ju(Cs.H)).zt(o,new pa(o,xs.min())),a=Yu().add(o),u=new nc(xs.min(),new Map,new Vu(ds),s,a),[4,Ip(r,u)]):[3,2];case 1:return c.sent(),r.Cl=r.Cl.remove(o),r.xl.delete(e),Cp(r),[3,4];case 2:return[4,Gf(r.bh,e,!1).then((function(){return Op(r,e,n)})).catch(Yh)];case 3:c.sent(),c.label=4;case 4:return[2]}}))}))}function Sp(t,e){return L(this,void 0,void 0,(function(){var n,r,i;return M(this,(function(o){switch(o.label){case 0:n=fs(t),r=e.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,jf(n.bh,e)];case 2:return i=o.sent(),xp(n,r,null),kp(n,r),n.Vl.Na(r,"acknowledged"),[4,Lp(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,Yh(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function Ap(t,e,n){return L(this,void 0,void 0,(function(){var r,i;return M(this,(function(o){switch(o.label){case 0:r=fs(t),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,function(t,e){var n=fs(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(t){var r;return n.zo.Pi(t,e).next((function(e){return hs(null!==e),r=e.keys(),n.zo.Ci(t,e)})).next((function(){return n.zo.$i(t)})).next((function(){return n.Tc.Xo(t,r)}))}))}(r.bh,e)];case 2:return i=o.sent(),xp(r,e,n),kp(r,e),r.Vl.Na(e,"rejected",n),[4,Lp(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,Yh(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function Np(t,e){return L(this,void 0,void 0,(function(){var n,r,i,o,s;return M(this,(function(a){switch(a.label){case 0:Fl((n=fs(t)).yl)||os("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,function(t){var e=fs(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(t){return e.zo.Vi(t)}))}(n.bh)];case 2:return-1===(r=a.sent())?[2,void e.resolve()]:((i=n.Fl.get(r)||[]).push(e),n.Fl.set(r,i),[3,4]);case 3:return o=a.sent(),s=nh(o,"Initialization of waitForPendingWrites() operation failed"),e.reject(s),[3,4];case 4:return[2]}}))}))}function kp(t,e){(t.Fl.get(e)||[]).forEach((function(t){t.resolve()})),t.Fl.delete(e)}function xp(t,e,n){var r=fs(t),i=r.$l[r.currentUser.A()];if(i){var o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.$l[r.currentUser.A()]=i}}function Op(t,e,n){void 0===n&&(n=null),t.Vl.ka(e);for(var r=0,i=t.Sl.get(e);r<i.length;r++){var o=i[r];t.vl.delete(o),n&&t.bl.Bl(o,n)}t.Sl.delete(e),t.Ml&&t.Nl.Fc(e).forEach((function(e){t.Nl.Fi(e)||Pp(t,e)}))}function Pp(t,e){t.Dl.delete(e.path.rt());var n=t.Cl.get(e);null!==n&&(Cl(t.yl,n),t.Cl=t.Cl.remove(e),t.xl.delete(n),Cp(t))}function Rp(t,e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof lp?(t.Nl.nr(o.key,e),Dp(t,o)):o instanceof pp?(os("SyncEngine","Document no longer in limbo: "+o.key),t.Nl.ir(o.key,e),t.Nl.Fi(o.key)||Pp(t,o.key)):cs()}}function Dp(t,e){var n=e.key,r=n.path.rt();t.Cl.get(n)||t.Dl.has(r)||(os("SyncEngine","New document in limbo: "+n),t.Dl.add(r),Cp(t))}function Cp(t){for(;t.Dl.size>0&&t.Cl.size<t.pl;){var e=t.Dl.values().next().value;t.Dl.delete(e);var n=new Cs(Ps.ot(e)),r=t.Ol.next();t.xl.set(r,new yp(n)),t.Cl=t.Cl.zt(n,r),Dl(t.yl,new Ja(za(ja(n.path)),r,2,Ns.q))}}function Lp(t,e,n){return L(this,void 0,void 0,(function(){var r,i,o,s;return M(this,(function(a){switch(a.label){case 0:return r=fs(t),i=[],o=[],s=[],r.vl.et()?[3,3]:(r.vl.forEach((function(t,a){s.push(r.Ll(a,e,n).then((function(t){if(t){r.Ml&&r.Vl.Ba(a.targetId,t.fromCache?"not-current":"current"),i.push(t);var e=Rf.oc(a.targetId,t);o.push(e)}})))})),[4,Promise.all(s)]);case 1:return a.sent(),r.bl.ah(i),[4,function(t,e){return L(this,void 0,void 0,(function(){var n,r,i,o,s,a,u,c,h;return M(this,(function(f){switch(f.label){case 0:n=fs(t),f.label=1;case 1:return f.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(t){return Hc.forEach(e,(function(e){return Hc.forEach(e.ic,(function(r){return n.persistence.Ti.nr(t,e.targetId,r)})).next((function(){return Hc.forEach(e.rc,(function(r){return n.persistence.Ti.ir(t,e.targetId,r)}))}))}))}))];case 2:return f.sent(),[3,4];case 3:if(!Yc(r=f.sent()))throw r;return os("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=e;i<o.length;i++)s=o[i],a=s.targetId,s.fromCache||(u=n.fc.get(a),c=u.Ot,h=u.Lt(c),n.fc=n.fc.zt(a,h));return[2]}}))}))}(r.bh,o)];case 2:a.sent(),a.label=3;case 3:return[2]}}))}))}function Mp(t,e){return L(this,void 0,void 0,(function(){var n,r;return M(this,(function(i){switch(i.label){case 0:return(n=fs(t)).currentUser.isEqual(e)?[3,3]:(os("SyncEngine","User change. New user:",e.A()),[4,Mf(n.bh,e)]);case 1:return r=i.sent(),n.currentUser=e,function(t,e){t.Fl.forEach((function(t){t.forEach((function(t){t.reject(new bs(ms.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),t.Fl.clear()}(n),n.Vl.Ua(e,r.mc,r.Ac),[4,Lp(n,r.Ic)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}function jp(t,e){var n=fs(t),r=n.xl.get(e);if(r&&r.Pl)return Yu().add(r.key);var i=Yu(),o=n.Sl.get(e);if(!o)return i;for(var s=0,a=o;s<a.length;s++){var u=a[s],c=n.vl.get(u);i=i.Pe(c.view._l)}return i}function Up(t,e){return L(this,void 0,void 0,(function(){var n,r,i;return M(this,(function(o){switch(o.label){case 0:return[4,zf((n=fs(t)).bh,e.query,!0)];case 1:return r=o.sent(),i=e.view.Al(r),[2,(n.Ml&&Rp(n,e.targetId,i.Il),i)]}}))}))}function Fp(t){return L(this,void 0,void 0,(function(){var e;return M(this,(function(n){return[2,Kf((e=fs(t)).bh).then((function(t){return Lp(e,t)}))]}))}))}function Vp(t,e,n,r){return L(this,void 0,void 0,(function(){var i,o;return M(this,(function(s){switch(s.label){case 0:return[4,function(t,e){var n=fs(t),r=fs(n.zo);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(t){return r.yi(t,e).next((function(e){return e?n.Tc.Xo(t,e):Hc.resolve(null)}))}))}((i=fs(t)).bh,e)];case 1:return null===(o=s.sent())?[3,6]:"pending"!==n?[3,3]:[4,Kl(i.yl)];case 2:return s.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(xp(i,e,r||null),kp(i,e),function(t,e){fs(fs(t).zo).xi(e)}(i.bh,e)):cs(),s.label=4;case 4:return[4,Lp(i,o)];case 5:return s.sent(),[3,7];case 6:os("SyncEngine","Cannot apply mutation batch with id: "+e),s.label=7;case 7:return[2]}}))}))}function qp(t,e){return L(this,void 0,void 0,(function(){var n,r,i,o,s,a,u,c;return M(this,(function(h){switch(h.label){case 0:return Wp(n=fs(t)),Xp(n),!0!==e||!0===n.kl?[3,3]:(r=n.Vl.va(),[4,Bp(n,r.it())]);case 1:return i=h.sent(),n.kl=!0,[4,Zl(n.yl,!0)];case 2:for(h.sent(),o=0,s=i;o<s.length;o++)a=s[o],Dl(n.yl,a);return[3,7];case 3:return!1!==e||!1===n.kl?[3,7]:(u=[],c=Promise.resolve(),n.Sl.forEach((function(t,e){n.Vl.Ma(e)?u.push(e):c=c.then((function(){return Op(n,e),Gf(n.bh,e,!0)})),Cl(n.yl,e)})),[4,c]);case 4:return h.sent(),[4,Bp(n,u)];case 5:return h.sent(),function(t){var e=fs(t);e.xl.forEach((function(t,n){Cl(e.yl,n)})),e.Nl.Oc(),e.xl=new Map,e.Cl=new ju(Cs.H)}(n),n.kl=!1,[4,Zl(n.yl,!1)];case 6:h.sent(),h.label=7;case 7:return[2]}}))}))}function Bp(t,e,n){return L(this,void 0,void 0,(function(){var n,r,i,o,s,a,u,c,h,f,l,p,d,v;return M(this,(function(y){switch(y.label){case 0:n=fs(t),r=[],i=[],o=0,s=e,y.label=1;case 1:return o<s.length?(a=s[o],u=void 0,(c=n.Sl.get(a))&&0!==c.length?[4,Bf(n.bh,za(c[0]))]:[3,7]):[3,13];case 2:u=y.sent(),h=0,f=c,y.label=3;case 3:return h<f.length?(l=f[h],p=n.vl.get(l),[4,Up(n,p)]):[3,6];case 4:(d=y.sent()).snapshot&&i.push(d.snapshot),y.label=5;case 5:return h++,[3,3];case 6:return[3,11];case 7:return[4,Hf(n.bh,a)];case 8:return v=y.sent(),[4,Bf(n.bh,v)];case 9:return u=y.sent(),[4,bp(n,Gp(v),a,!1)];case 10:y.sent(),y.label=11;case 11:r.push(u),y.label=12;case 12:return o++,[3,1];case 13:return[2,(n.bl.ah(i),r)]}}))}))}function Gp(t){return Ma(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function zp(t){var e=fs(t);return fs(fs(e.bh).persistence).Uo()}function Hp(t,e,n,r){return L(this,void 0,void 0,(function(){var i,o,s;return M(this,(function(a){switch(a.label){case 0:return(i=fs(t)).kl?(os("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Sl.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,Kf(i.bh)];case 3:return o=a.sent(),s=nc.Me(e,"current"===n),[4,Lp(i,o,s)];case 4:return a.sent(),[3,8];case 5:return[4,Gf(i.bh,e,!0)];case 6:return a.sent(),Op(i,e,r),[3,8];case 7:cs(),a.label=8;case 8:return[2]}}))}))}function Kp(t,e,n){return L(this,void 0,void 0,(function(){var r,i,o,s,a,u,c,h,f,l;return M(this,(function(p){switch(p.label){case 0:if(!(r=Wp(t)).kl)return[3,10];i=0,o=e,p.label=1;case 1:return i<o.length?(s=o[i],r.Sl.has(s)?(os("SyncEngine","Adding an already active target "+s),[3,5]):[4,Hf(r.bh,s)]):[3,6];case 2:return a=p.sent(),[4,Bf(r.bh,a)];case 3:return u=p.sent(),[4,bp(r,Gp(a),u.targetId,!1)];case 4:p.sent(),Dl(r.yl,u),p.label=5;case 5:return i++,[3,1];case 6:c=function(t){return M(this,(function(e){switch(e.label){case 0:return r.Sl.has(t)?[4,Gf(r.bh,t,!1).then((function(){Cl(r.yl,t),Op(r,t)})).catch(Yh)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))},h=0,f=n,p.label=7;case 7:return h<f.length?(l=f[h],[5,c(l)]):[3,10];case 8:p.sent(),p.label=9;case 9:return h++,[3,7];case 10:return[2]}}))}))}function Wp(t){var e=fs(t);return e.yl.Dh.Lh=Ip.bind(null,e),e.yl.Dh.vn=jp.bind(null,e),e.yl.Dh.Mh=Tp.bind(null,e),e.bl.ah=sp.bind(null,e.gl),e.bl.Bl=ap.bind(null,e.gl),e}function Xp(t){var e=fs(t);return e.yl.Dh.Bh=Sp.bind(null,e),e.yl.Dh.qh=Ap.bind(null,e),e}var $p=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return L(this,void 0,void 0,(function(){return M(this,(function(e){switch(e.label){case 0:return this.Qt=El(t.yu.t),this.Vl=this.Wl(t),this.persistence=this.jl(t),[4,this.persistence.start()];case 1:return e.sent(),this.Gl=this.zl(t),this.bh=this.Hl(t),[2]}}))}))},t.prototype.zl=function(t){return null},t.prototype.Hl=function(t){return Lf(this.persistence,new Df,t.Jl,this.Qt)},t.prototype.jl=function(t){return new rl(ol.ia,this.Qt)},t.prototype.Wl=function(t){return new vl},t.prototype.terminate=function(){return L(this,void 0,void 0,(function(){return M(this,(function(t){switch(t.label){case 0:return this.Gl&&this.Gl.stop(),[4,this.Vl.ko()];case 1:return t.sent(),[4,this.persistence.ko()];case 2:return t.sent(),[2]}}))}))},t}(),Yp=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Yl=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return D(e,t),e.prototype.initialize=function(e){return L(this,void 0,void 0,(function(){return M(this,(function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,Wf(this.bh)];case 2:return n.sent(),[4,this.Yl.initialize(this,e)];case 3:return n.sent(),[4,Xp(this.Yl._a)];case 4:return n.sent(),[4,Kl(this.Yl.yl)];case 5:return n.sent(),[2]}}))}))},e.prototype.Hl=function(t){return Lf(this.persistence,new Df,t.Jl,this.Qt)},e.prototype.zl=function(t){var e=this.persistence.Ti.lr;return new df(e,t._s)},e.prototype.jl=function(t){var e=xf(t.yu.t,t.yu.persistenceKey),n=void 0!==this.cacheSizeBytes?$h.Ys(this.cacheSizeBytes):$h.ti;return new Af(this.synchronizeTabs,e,t.clientId,n,t._s,_l(),Il(),this.Qt,this.Vl,!!this.forceOwnership)},e.prototype.Wl=function(t){return new vl},e}($p),Qp=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Yl=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return D(e,t),e.prototype.initialize=function(e){return L(this,void 0,void 0,(function(){var n,r=this;return M(this,(function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),n=this.Yl._a,this.Vl instanceof dl?(this.Vl._a={eu:Vp.bind(null,n),nu:Hp.bind(null,n),su:Kp.bind(null,n),Uo:zp.bind(null,n),tu:Fp.bind(null,n)},[4,this.Vl.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.Ro((function(t){return L(r,void 0,void 0,(function(){return M(this,(function(e){switch(e.label){case 0:return[4,qp(this.Yl._a,t)];case 1:return e.sent(),this.Gl&&(t&&!this.Gl.Er?this.Gl.start(this.bh):t||this.Gl.stop()),[2]}}))}))}))];case 4:return i.sent(),[2]}}))}))},e.prototype.Wl=function(t){var e=_l();if(!dl.Kn(e))throw new bs(ms.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=xf(t.yu.t,t.yu.persistenceKey);return new dl(e,t._s,n,t.clientId,t.Jl)},e}(Yp),Jp=function(){function t(){}return t.prototype.initialize=function(t,e){return L(this,void 0,void 0,(function(){var n=this;return M(this,(function(r){switch(r.label){case 0:return this.bh?[3,2]:(this.bh=t.bh,this.Vl=t.Vl,this.Sh=this.Xl(e),this.yl=this.Zl(e),this.gl=this.t_(e),this._a=this.e_(e,!t.synchronizeTabs),this.Vl.fa=function(t){return Ep(n._a,t,1)},this.yl.Dh.n_=Mp.bind(null,this._a),[4,Zl(this.yl,this._a.Ml)]);case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},t.prototype.t_=function(t){return new rp},t.prototype.Xl=function(t){var e,n=El(t.yu.t),r=(e=t.yu,new wl(e));return function(t,e,n){return new kl(t,e,n)}(t.credentials,r,n)},t.prototype.Zl=function(t){var e,n,r,i,o,s=this;return e=this.bh,n=this.Sh,r=t._s,i=function(t){return Ep(s._a,t,0)},o=gl.Kn()?new gl:new yl,new Ol(e,n,r,i,o)},t.prototype.e_=function(t,e){return function(t,e,n,r,i,o,s){var a=new gp(t,e,n,r,i,o);return s&&(a.kl=!0),a}(this.bh,this.yl,this.gl,this.Vl,t.Jl,t.pl,e)},t.prototype.terminate=function(){return function(t){return L(this,void 0,void 0,(function(){var e;return M(this,(function(n){switch(n.label){case 0:return e=fs(t),os("RemoteStore","RemoteStore shutting down."),e.Nh.add(5),[4,Rl(e)];case 1:return n.sent(),e.Fh.ko(),e.Oh.set("Unknown"),[2]}}))}))}(this.yl)},t}(),Zp=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.s_(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.s_(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.i_=function(){this.muted=!0},t.prototype.s_=function(t,e){var n=this;this.muted||setTimeout((function(){n.muted||t(e)}),0)},t}(),td=(function(){function t(t,e){var n=this;this.r_=t,this.Qt=e,this.metadata=new zc,this.buffer=new Uint8Array,this.o_=new TextDecoder("utf-8"),this.c_().then((function(t){t&&t.sl()?n.metadata.resolve(t.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==t?void 0:t.payload)))}),(function(t){return n.metadata.reject(t)}))}t.prototype.close=function(){return this.r_.cancel()},t.prototype.getMetadata=function(){return L(this,void 0,void 0,(function(){return M(this,(function(t){return[2,this.metadata.promise]}))}))},t.prototype.Ql=function(){return L(this,void 0,void 0,(function(){return M(this,(function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.c_())]}}))}))},t.prototype.c_=function(){return L(this,void 0,void 0,(function(){var t,e,n,r;return M(this,(function(i){switch(i.label){case 0:return[4,this.a_()];case 1:return null===(t=i.sent())?[2,null]:(e=this.o_.decode(t),n=Number(e),isNaN(n)&&this.u_("length string ("+e+") is not valid number"),[4,this.h_(n)]);case 2:return r=i.sent(),[2,new hp(JSON.parse(r),t.length+n)]}}))}))},t.prototype.l_=function(){return this.buffer.findIndex((function(t){return t==="{".charCodeAt(0)}))},t.prototype.a_=function(){return L(this,void 0,void 0,(function(){var t,e;return M(this,(function(n){switch(n.label){case 0:return this.l_()<0?[4,this.__()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((t=this.l_())<0&&this.u_("Reached the end of bundle when a length string is expected."),e=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),e)])}}))}))},t.prototype.h_=function(t){return L(this,void 0,void 0,(function(){var e;return M(this,(function(n){switch(n.label){case 0:return this.buffer.length<t?[4,this.__()]:[3,3];case 1:n.sent()&&this.u_("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return e=this.o_.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),e)]}}))}))},t.prototype.u_=function(t){throw this.r_.cancel(),new Error("Invalid bundle format: "+t)},t.prototype.__=function(){return L(this,void 0,void 0,(function(){var t,e;return M(this,(function(n){switch(n.label){case 0:return[4,this.r_.read()];case 1:return(t=n.sent()).done||((e=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),e.set(t.value,this.buffer.length),this.buffer=e),[2,t.done]}}))}))}}(),function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new bs(ms.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this.f_=new Ds(t)}return t.prototype.isEqual=function(t){return this.f_.isEqual(t.f_)},t}()),ed=function(t){this._methodName=t},nd=function(t){this.d_=t};function rd(t,e,n){if(!n)throw new bs(ms.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function id(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new bs(ms.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function od(t,e,n,r){if(!0===e&&!0===r)throw new bs(ms.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function sd(t){if(!Cs.wt(t))throw new bs(ms.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function ad(t){if(Cs.wt(t))throw new bs(ms.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function ud(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":cs()}function cd(t,e){if("_delegate"in t&&(t=t.d_),!(t instanceof e)){if(e.name===t.constructor.name)throw new bs(ms.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=ud(t);throw new bs(ms.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function hd(t,e){if(e<=0)throw new bs(ms.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var fd=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new bs(ms.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new bs(ms.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,od("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},t}(),ld=new Map,pd=function(){function t(t,e){this.w_="(lite)",this.E_=new fd({}),this.T_=!1,t instanceof ns?(this.I_=t,this.m_=new Es):(this.A_=t,this.I_=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new bs(ms.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ns(t.options.projectId)}(t),this.m_=new Ts(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this.A_)throw new bs(ms.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.A_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"R_",{get:function(){return this.T_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"P_",{get:function(){return void 0!==this.y_},enumerable:!1,configurable:!0}),t.prototype.g_=function(t){if(this.T_)throw new bs(ms.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this.E_=new fd(t),void 0!==t.credentials&&(this.m_=function(t){if(!t)return new Es;switch(t.type){case"gapi":var e=t.client;return hs(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new As(e,t.sessionIndex||"0");case"provider":return t.client;default:throw new bs(ms.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype.V_=function(){return this.E_},t.prototype.p_=function(){return this.T_=!0,this.E_},t.prototype._delete=function(){return this.y_||(this.y_=this.b_()),this.y_},t.prototype.toJSON=function(){return{app:this.A_,t:this.I_,settings:this.E_}},t.prototype.b_=function(){return(t=ld.get(this))&&(os("ComponentProvider","Removing Datastore"),ld.delete(this),t.terminate()),Promise.resolve();var t},t}(),dd=function(){function t(t,e,n){this.v_=e,this.S_=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"D_",{get:function(){return this.S_.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this.S_.path.tt()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this.S_.path.rt()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new yd(this.firestore,this.v_,this.S_.path.X())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this.S_)},t}(),vd=function(){function t(t,e,n){this.v_=e,this.C_=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this.C_)},t}(),yd=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,ja(r))||this).firestore=e,i.D_=r,i.type="collection",i}return D(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this.C_.path.tt()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.C_.path.rt()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this.D_.X();return t.et()?null:new dd(this.firestore,null,new Cs(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this.D_)},e}(vd);function gd(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t instanceof nd&&(t=t.d_),rd("collection","path",e),t instanceof pd)return ad(n=Ps.ot.apply(Ps,F([e],r))),new yd(t,null,n);if(!(t instanceof dd||t instanceof yd))throw new bs(ms.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return ad(n=Ps.ot.apply(Ps,F([t.path],r)).child(Ps.ot(e))),new yd(t.firestore,null,n)}function md(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t instanceof nd&&(t=t.d_),1===arguments.length&&(e=ps.u()),rd("doc","path",e),t instanceof pd)return sd(n=Ps.ot.apply(Ps,F([e],r))),new dd(t,null,new Cs(n));if(!(t instanceof dd||t instanceof yd))throw new bs(ms.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return sd(n=t.D_.child(Ps.ot.apply(Ps,F([e],r)))),new dd(t.firestore,t instanceof yd?t.v_:null,new Cs(n))}function bd(t,e){return t instanceof nd&&(t=t.d_),e instanceof nd&&(e=e.d_),(t instanceof dd||t instanceof yd)&&(e instanceof dd||e instanceof yd)&&t.firestore===e.firestore&&t.path===e.path&&t.v_===e.v_}function wd(t,e){return t instanceof nd&&(t=t.d_),e instanceof nd&&(e=e.d_),t instanceof vd&&e instanceof vd&&t.firestore===e.firestore&&Ka(t.C_,e.C_)&&t.v_===e.v_}var _d=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new bs(ms.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new bs(ms.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this.x_=t,this.N_=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this.x_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this.N_},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.x_===t.x_&&this.N_===t.N_},t.prototype.toJSON=function(){return{latitude:this.x_,longitude:this.N_}},t.prototype.U=function(t){return ds(this.x_,t.x_)||ds(this.N_,t.N_)},t}(),Id=/^__.*__$/,Ed=function(){function t(t,e,n){this.data=t,this.Gt=e,this.fieldTransforms=n}return t.prototype.F_=function(t,e){return null!==this.Gt?new Su(t,this.data,this.Gt,e,this.fieldTransforms):new Tu(t,this.data,e,this.fieldTransforms)},t}(),Td=function(){function t(t,e,n){this.data=t,this.Gt=e,this.fieldTransforms=n}return t.prototype.F_=function(t,e){return new Su(t,this.data,this.Gt,e,this.fieldTransforms)},t}();function Sd(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw cs()}}var Ad=function(){function t(t,e,n,r,i,o){this.settings=t,this.t=e,this.Qt=n,this.ignoreUndefinedProperties=r,void 0===i&&this.O_(),this.fieldTransforms=i||[],this.Gt=o||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"k_",{get:function(){return this.settings.k_},enumerable:!1,configurable:!0}),t.prototype.M_=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.t,this.Qt,this.ignoreUndefinedProperties,this.fieldTransforms,this.Gt)},t.prototype.L_=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.M_({path:n,B_:!1});return r.q_(t),r},t.prototype.U_=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.M_({path:n,B_:!1});return r.O_(),r},t.prototype.Q_=function(t){return this.M_({path:void 0,B_:!0})},t.prototype.K_=function(t){return Kd(t,this.settings.methodName,this.settings.W_||!1,this.path,this.settings.j_)},t.prototype.contains=function(t){return void 0!==this.Gt.find((function(e){return t.nt(e)}))||void 0!==this.fieldTransforms.find((function(e){return t.nt(e.field)}))},t.prototype.O_=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.q_(this.path.get(t))},t.prototype.q_=function(t){if(0===t.length)throw this.K_("Document fields must not be empty");if(Sd(this.k_)&&Id.test(t))throw this.K_('Document fields cannot begin and end with "__"')},t}(),Nd=function(){function t(t,e,n){this.t=t,this.ignoreUndefinedProperties=e,this.Qt=n||El(t)}return t.prototype.G_=function(t,e,n,r){return void 0===r&&(r=!1),new Ad({k_:t,methodName:e,j_:n,path:Ds.ct(),B_:!1,W_:r},this.t,this.Qt,this.ignoreUndefinedProperties)},t}();function kd(t){var e=t.p_(),n=El(t.I_);return new Nd(t.I_,!!e.ignoreUndefinedProperties,n)}function xd(t,e,n,r,i,o){void 0===o&&(o={});var s=t.G_(o.merge||o.mergeFields?2:0,e,n,i);Bd("Data must be an object, but it was:",s,r);var a,u,c=Vd(r,s);if(o.merge)a=new Us(s.Gt),u=s.fieldTransforms;else if(o.mergeFields){for(var h=[],f=0,l=o.mergeFields;f<l.length;f++){var p=Gd(e,l[f],n);if(!s.contains(p))throw new bs(ms.INVALID_ARGUMENT,"Field '"+p+"' is specified in your field mask but missing from your input data.");Wd(h,p)||h.push(p)}a=new Us(h),u=s.fieldTransforms.filter((function(t){return a.Tt(t.field)}))}else a=null,u=s.fieldTransforms;return new Ed(new ua(c),a,u)}var Od=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return D(e,t),e.prototype.z_=function(t){if(2!==t.k_)throw 1===t.k_?t.K_(this._methodName+"() can only appear at the top level of your update data"):t.K_(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.Gt.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(ed);function Pd(t,e,n){return new Ad({k_:3,j_:e.settings.j_,methodName:t._methodName,B_:n},e.t,e.Qt,e.ignoreUndefinedProperties)}var Rd=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return D(e,t),e.prototype.z_=function(t){return new du(t.path,new su)},e.prototype.isEqual=function(t){return t instanceof e},e}(ed),Dd=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).H_=n,r}return D(e,t),e.prototype.z_=function(t){var e=Pd(this,t,!0),n=this.H_.map((function(t){return Fd(t,e)})),r=new au(n);return new du(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(ed),Cd=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).H_=n,r}return D(e,t),e.prototype.z_=function(t){var e=Pd(this,t,!0),n=this.H_.map((function(t){return Fd(t,e)})),r=new cu(n);return new du(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(ed),Ld=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).J_=n,r}return D(e,t),e.prototype.z_=function(t){var e=new fu(t.Qt,eu(t.Qt,this.J_));return new du(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(ed);function Md(t,e,n,r){var i=t.G_(1,e,n);Bd("Data must be an object, but it was:",i,r);var o=[],s=new ca;Ms(r,(function(t,r){var a=Hd(e,t,n);r instanceof nd&&(r=r.d_);var u=i.U_(a);if(r instanceof Od)o.push(a);else{var c=Fd(r,u);null!=c&&(o.push(a),s.set(a,c))}}));var a=new Us(o);return new Td(s.Pt(),a,i.fieldTransforms)}function jd(t,e,n,r,i,o){var s=t.G_(1,e,n),a=[Gd(e,r,n)],u=[i];if(o.length%2!=0)throw new bs(ms.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)a.push(Gd(e,o[c])),u.push(o[c+1]);for(var h=[],f=new ca,l=a.length-1;l>=0;--l)if(!Wd(h,a[l])){var p=a[l],d=u[l];d instanceof nd&&(d=d.d_);var v=s.U_(p);if(d instanceof Od)h.push(p);else{var y=Fd(d,v);null!=y&&(h.push(p),f.set(p,y))}}var g=new Us(h);return new Td(f.Pt(),g,s.fieldTransforms)}function Ud(t,e,n,r){return void 0===r&&(r=!1),Fd(n,t.G_(r?4:3,e))}function Fd(t,e){if(t instanceof nd&&(t=t.d_),qd(t))return Bd("Unsupported field value:",e,t),Vd(t,e);if(t instanceof ed)return function(t,e){if(!Sd(e.k_))throw e.K_(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.K_(t._methodName+"() is not currently supported inside arrays");var n=t.z_(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.Gt.push(e.path),t instanceof Array){if(e.settings.B_&&4!==e.k_)throw e.K_("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var s=Fd(o[i],e.Q_(r));null==s&&(s={nullValue:"NULL_VALUE"}),n.push(s),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(t instanceof nd&&(t=t.d_),null===t)return{nullValue:"NULL_VALUE"};if("number"==typeof t)return eu(e.Qt,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=ks.fromDate(t);return{timestampValue:dc(e.Qt,n)}}if(t instanceof ks)return n=new ks(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:dc(e.Qt,n)};if(t instanceof _d)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof ws)return{bytesValue:vc(e.Qt,t.I)};if(t instanceof dd){n=e.t;var r=t.firestore.I_;if(!r.isEqual(n))throw e.K_("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:mc(t.firestore.I_||e.t,t.S_.path)}}throw e.K_("Unsupported field value: "+ud(t))}(t,e)}function Vd(t,e){var n={};return js(t)?e.path&&e.path.length>0&&e.Gt.push(e.path):Ms(t,(function(t,r){var i=Fd(r,e.L_(t));null!=i&&(n[t]=i)})),{mapValue:{fields:n}}}function qd(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof ks||t instanceof _d||t instanceof ws||t instanceof dd||t instanceof ed)}function Bd(t,e,n){if(!qd(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var r=ud(n);throw"an object"===r?e.K_(t+" a custom object"):e.K_(t+" "+r)}}function Gd(t,e,n){if(e instanceof nd&&(e=e.d_),e instanceof td)return e.f_;if("string"==typeof e)return Hd(t,e);throw Kd("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var zd=new RegExp("[~\\*/\\[\\]]");function Hd(t,e,n){if(e.search(zd)>=0)throw Kd("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(td.bind.apply(td,F([void 0],e.split("."))))).f_}catch(r){throw Kd("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function Kd(t,e,n,r,i){var o=r&&!r.et(),s=void 0!==i,a="Function "+e+"() called with invalid data";n&&(a+=" (via `toFirestore()`)");var u="";return(o||s)&&(u+=" (found",o&&(u+=" in field "+r),s&&(u+=" in document "+i),u+=")"),new bs(ms.INVALID_ARGUMENT,(a+=". ")+t+u)}function Wd(t,e){return t.some((function(t){return t.isEqual(e)}))}var Xd=function(){function t(t){this.Sh=t,this.Y_=new Map,this.mutations=[],this.X_=!1,this.Z_=null,this.tf=new Set}return t.prototype.ef=function(t){return L(this,void 0,void 0,(function(){var e,n=this;return M(this,(function(r){switch(r.label){case 0:if(this.nf(),this.mutations.length>0)throw new bs(ms.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return L(this,void 0,void 0,(function(){var n,r,i,o,s,a;return M(this,(function(u){switch(u.label){case 0:return n=fs(t),r=Tc(n.Qt)+"/documents",i={documents:e.map((function(t){return wc(n.Qt,t)}))},[4,n.Du("BatchGetDocuments",r,i)];case 1:return o=u.sent(),s=new Map,o.forEach((function(t){var e=function(t,e){return"found"in e?function(t,e){hs(!!e.found),e.found.name,e.found.updateTime;var n=_c(t,e.found.name),r=gc(e.found.updateTime),i=new ua({mapValue:{fields:e.found.fields}});return new la(n,r,i,{})}(t,e):"missing"in e?function(t,e){hs(!!e.missing),hs(!!e.readTime);var n=_c(t,e.missing),r=gc(e.readTime);return new pa(n,r)}(t,e):cs()}(n.Qt,t);s.set(e.key.toString(),e)})),a=[],[2,(e.forEach((function(t){var e=s.get(t.toString());hs(!!e),a.push(e)})),a)]}}))}))}(this.Sh,t)];case 1:return[2,((e=r.sent()).forEach((function(t){t instanceof pa||t instanceof la?n.sf(t):cs()})),e)]}}))}))},t.prototype.set=function(t,e){this.write(e.F_(t,this.jt(t))),this.tf.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.F_(t,this.rf(t)))}catch(t){this.Z_=t}this.tf.add(t.toString())},t.prototype.delete=function(t){this.write(new Ru(t,this.jt(t))),this.tf.add(t.toString())},t.prototype.commit=function(){return L(this,void 0,void 0,(function(){var t,e=this;return M(this,(function(n){switch(n.label){case 0:if(this.nf(),this.Z_)throw this.Z_;return t=this.Y_,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(t,n){var r=Cs._t(n);e.mutations.push(new Du(r,e.jt(r)))})),[4,function(t,e){return L(this,void 0,void 0,(function(){var n,r,i;return M(this,(function(o){switch(o.label){case 0:return n=fs(t),r=Tc(n.Qt)+"/documents",i={writes:e.map((function(t){return kc(n.Qt,t)}))},[4,n.pu("Commit",r,i)];case 1:return o.sent(),[2]}}))}))}(this.Sh,this.mutations)];case 1:return n.sent(),this.X_=!0,[2]}}))}))},t.prototype.sf=function(t){var e;if(t instanceof la)e=t.version;else{if(!(t instanceof pa))throw cs();e=xs.min()}var n=this.Y_.get(t.key.toString());if(n){if(!e.isEqual(n))throw new bs(ms.ABORTED,"Document version changed between two reads.")}else this.Y_.set(t.key.toString(),e)},t.prototype.jt=function(t){var e=this.Y_.get(t.toString());return!this.tf.has(t.toString())&&e?yu.updateTime(e):yu.Kt()},t.prototype.rf=function(t){var e=this.Y_.get(t.toString());if(!this.tf.has(t.toString())&&e){if(e.isEqual(xs.min()))throw new bs(ms.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return yu.updateTime(e)}return yu.exists(!0)},t.prototype.write=function(t){this.nf(),this.mutations.push(t)},t.prototype.nf=function(){},t}(),$d=function(){function t(t,e,n,r){this._s=t,this.Sh=e,this.updateFunction=n,this.Es=r,this.cf=5,this.Gu=new Tl(this._s,"transaction_retry")}return t.prototype.run=function(){this.af()},t.prototype.af=function(){var t=this;this.Gu.Lu((function(){return L(t,void 0,void 0,(function(){var t,e,n=this;return M(this,(function(r){return t=new Xd(this.Sh),(e=this.uf(t))&&e.then((function(e){n._s.Ps((function(){return t.commit().then((function(){n.Es.resolve(e)})).catch((function(t){n.hf(t)}))}))})).catch((function(t){n.hf(t)})),[2]}))}))}))},t.prototype.uf=function(t){try{var e=this.updateFunction(t);return!Ks(e)&&e.catch&&e.then?e:(this.Es.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.Es.reject(t),null}},t.prototype.hf=function(t){var e=this;this.cf>0&&this.lf(t)?(this.cf-=1,this._s.Ps((function(){return e.af(),Promise.resolve()}))):this.Es.reject(t)},t.prototype.lf=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!Lu(e)}return!1},t}(),Yd=function(){function t(t,e,n){var r=this;this.credentials=t,this._s=e,this.yu=n,this.user=_s.UNAUTHENTICATED,this.clientId=ps.u(),this._f=function(){},this.C=new zc,this.credentials.v((function(t){os("FirestoreClient","Received user=",t.uid),r.user=t,r._f(t),r.C.resolve()}))}return t.prototype.getConfiguration=function(){return L(this,void 0,void 0,(function(){return M(this,(function(t){switch(t.label){case 0:return[4,this.C.promise];case 1:return[2,(t.sent(),{_s:this._s,yu:this.yu,clientId:this.clientId,credentials:this.credentials,Jl:this.user,pl:100})]}}))}))},t.prototype.ff=function(t){var e=this;this._f=t,this.C.promise.then((function(){return e._f(e.user)}))},t.prototype.df=function(){if(this._s.wf)throw new bs(ms.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this._s.Ef();var e=new zc;return this._s.Tf((function(){return L(t,void 0,void 0,(function(){var t,n;return M(this,(function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.If?[4,this.If.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.mf?[4,this.mf.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.S(),e.resolve(),[3,6];case 5:return t=r.sent(),n=nh(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}}))}))})),e.promise},t}();function Qd(t,e){return L(this,void 0,void 0,(function(){var n,r,i=this;return M(this,(function(o){switch(o.label){case 0:return t._s.Af(),os("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=o.sent(),[4,e.initialize(n)];case 2:return o.sent(),r=n.Jl,t.ff((function(n){r.isEqual(n)||(r=n,t._s.po((function(){return L(i,void 0,void 0,(function(){return M(this,(function(t){switch(t.label){case 0:return[4,Mf(e.bh,n)];case 1:return t.sent(),[2]}}))}))})))})),e.persistence.Po((function(){return t.terminate()})),t.mf=e,[2]}}))}))}function Jd(t,e){return L(this,void 0,void 0,(function(){var n,r;return M(this,(function(i){switch(i.label){case 0:return t._s.Af(),[4,Zd(t)];case 1:return n=i.sent(),os("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.ff((function(n){return t._s.po((function(){return function(t,e){return L(this,void 0,void 0,(function(){var n,r;return M(this,(function(i){switch(i.label){case 0:return(n=fs(t))._s.Af(),os("RemoteStore","RemoteStore received new credentials"),r=Fl(n),n.Nh.add(3),[4,Rl(n)];case 1:return i.sent(),r&&n.Oh.set("Unknown"),[4,n.Dh.n_(e)];case 2:return i.sent(),n.Nh.delete(3),[4,Pl(n)];case 3:return i.sent(),[2]}}))}))}(e.yl,n)}))})),t.If=e,[2]}}))}))}function Zd(t){return L(this,void 0,void 0,(function(){return M(this,(function(e){switch(e.label){case 0:return t.mf?[3,2]:(os("FirestoreClient","Using default OfflineComponentProvider"),[4,Qd(t,new $p)]);case 1:e.sent(),e.label=2;case 2:return[2,t.mf]}}))}))}function tv(t){return L(this,void 0,void 0,(function(){return M(this,(function(e){switch(e.label){case 0:return t.If?[3,2]:(os("FirestoreClient","Using default OnlineComponentProvider"),[4,Jd(t,new Jp)]);case 1:e.sent(),e.label=2;case 2:return[2,t.If]}}))}))}function ev(t){return Zd(t).then((function(t){return t.persistence}))}function nv(t){return Zd(t).then((function(t){return t.bh}))}function rv(t){return tv(t).then((function(t){return t.yl}))}function iv(t){return tv(t).then((function(t){return t._a}))}function ov(t){return L(this,void 0,void 0,(function(){var e,n;return M(this,(function(r){switch(r.label){case 0:return[4,tv(t)];case 1:return e=r.sent(),[2,((n=e.gl).jh=mp.bind(null,e._a),n.Hh=wp.bind(null,e._a),n)]}}))}))}function sv(t,e,n){var r=this;void 0===n&&(n={});var i=new zc;return t._s.Ps((function(){return L(r,void 0,void 0,(function(){var r;return M(this,(function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new Zp({next:function(o){e.Ps((function(){return op(t,s)}));var a=o.docs.has(n);!a&&o.fromCache?i.reject(new bs(ms.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&o.fromCache&&r&&"server"===r.source?i.reject(new bs(ms.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(t){return i.reject(t)}}),s=new cp(ja(n.path),o,{includeMetadataChanges:!0,nl:!0});return ip(t,s)},[4,ov(t)];case 1:return[2,r.apply(void 0,[o.sent(),t._s,e,n,i])]}}))}))})),i.promise}function av(t,e,n){var r=this;void 0===n&&(n={});var i=new zc;return t._s.Ps((function(){return L(r,void 0,void 0,(function(){var r;return M(this,(function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new Zp({next:function(n){e.Ps((function(){return op(t,s)})),n.fromCache&&"server"===r.source?i.reject(new bs(ms.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),s=new cp(n,o,{includeMetadataChanges:!0,nl:!0});return ip(t,s)},[4,ov(t)];case 1:return[2,r.apply(void 0,[o.sent(),t._s,e,n,i])]}}))}))})),i.promise}var uv=function(){function t(){var t=this;this.Rf=Promise.resolve(),this.Pf=[],this.yf=!1,this.gf=[],this.Vf=null,this.pf=!1,this.bf=[],this.Gu=new Tl(this,"async_queue_retry"),this.vf=function(){var e=Il();e&&os("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Gu.qu()};var e=Il();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.vf)}return Object.defineProperty(t.prototype,"wf",{get:function(){return this.yf},enumerable:!1,configurable:!0}),t.prototype.Ps=function(t){this.enqueue(t)},t.prototype.Tf=function(t){this.Sf(),this.Df(t)},t.prototype.Ef=function(){if(!this.yf){this.yf=!0;var t=Il();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.vf)}},t.prototype.enqueue=function(t){return this.Sf(),this.yf?new Promise((function(t){})):this.Df(t)},t.prototype.po=function(t){var e=this;this.Ps((function(){return e.Pf.push(t),e.Cf()}))},t.prototype.Cf=function(){return L(this,void 0,void 0,(function(){var t,e=this;return M(this,(function(n){switch(n.label){case 0:if(0===this.Pf.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.Pf[0]()];case 2:return n.sent(),this.Pf.shift(),this.Gu.reset(),[3,4];case 3:if(!Yc(t=n.sent()))throw t;return os("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.Pf.length>0&&this.Gu.Lu((function(){return e.Cf()})),n.label=5;case 5:return[2]}}))}))},t.prototype.Df=function(t){var e=this,n=this.Rf.then((function(){return e.pf=!0,t().catch((function(t){throw e.Vf=t,e.pf=!1,ss("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t})).then((function(t){return e.pf=!1,t}))}));return this.Rf=n,n},t.prototype.Tr=function(t,e,n){var r=this;this.Sf(),this.bf.indexOf(t)>-1&&(e=0);var i=eh.Ts(this,t,e,n,(function(t){return r.xf(t)}));return this.gf.push(i),i},t.prototype.Sf=function(){this.Vf&&cs()},t.prototype.Af=function(){},t.prototype.Nf=function(){return L(this,void 0,void 0,(function(){var t;return M(this,(function(e){switch(e.label){case 0:return[4,t=this.Rf];case 1:e.sent(),e.label=2;case 2:if(t!==this.Rf)return[3,0];e.label=3;case 3:return[2]}}))}))},t.prototype.$f=function(t){for(var e=0,n=this.gf;e<n.length;e++)if(n[e].fs===t)return!0;return!1},t.prototype.Ff=function(t){var e=this;return this.Nf().then((function(){e.gf.sort((function(t,e){return t.ds-e.ds}));for(var n=0,r=e.gf;n<r.length;n++){var i=r[n];if(i.Rs(),"all"!==t&&i.fs===t)break}return e.Nf()}))},t.prototype.Of=function(t){this.bf.push(t)},t.prototype.xf=function(t){var e=this.gf.indexOf(t);this.gf.splice(e,1)},t}();function cv(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}!function(){function t(){this.kf={},this.Mf=new zc,this.Lf={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}t.prototype.onProgress=function(t,e,n){this.kf={next:t,error:e,complete:n}},t.prototype.catch=function(t){return this.Mf.promise.catch(t)},t.prototype.then=function(t,e){return this.Mf.promise.then(t,e)},t.prototype.ql=function(t){this.Ul(t),this.kf.complete&&this.kf.complete(),this.Mf.resolve(t)},t.prototype.Kl=function(t){this.Lf.taskState="Error",this.kf.next&&this.kf.next(this.Lf),this.kf.error&&this.kf.error(t),this.Mf.reject(t)},t.prototype.Ul=function(t){this.Lf=t,this.kf.next&&this.kf.next(t)}}();var hv=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).Bf=new uv,r.w_="name"in e?e.name:"[DEFAULT]",r}return D(e,t),e.prototype.b_=function(){return this.qf||lv(this),this.qf.terminate()},e}(pd);function fv(t){return t.qf||lv(t),t.qf.df(),t.qf}function lv(t){var e=t.p_(),n=function(t,e,n){return new es(t,e,n.host,n.ssl,n.experimentalForceLongPolling,n.experimentalAutoDetectLongPolling)}(t.I_,t.w_,e);t.qf=new Yd(t.m_,t.Bf,n)}function pv(t,e,n){var r=this,i=new zc;return t._s.enqueue((function(){return L(r,void 0,void 0,(function(){var r;return M(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,Qd(t,n)];case 1:return o.sent(),[4,Jd(t,e)];case 2:return o.sent(),i.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===ms.FAILED_PRECONDITION||t.code===ms.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(r=o.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}}))}))})).then((function(){return i.promise}))}function dv(t){if(t.R_||t.P_)throw new bs(ms.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var vv=function(){function t(){}return t.prototype.Uf=function(t,e){switch(void 0===e&&(e="none"),$s(t)){case 0:return null;case 1:return t.booleanValue;case 2:return qs(t.integerValue||t.doubleValue);case 3:return this.Qf(t.timestampValue);case 4:return this.Kf(t,e);case 5:return t.stringValue;case 6:return this.Wf(Bs(t.bytesValue));case 7:return this.jf(t.referenceValue);case 8:return this.Gf(t.geoPointValue);case 9:return this.zf(t.arrayValue,e);case 10:return this.Hf(t.mapValue,e);default:throw cs()}},t.prototype.Hf=function(t,e){var n=this,r={};return Ms(t.fields||{},(function(t,i){r[t]=n.Uf(i,e)})),r},t.prototype.Gf=function(t){return new _d(qs(t.latitude),qs(t.longitude))},t.prototype.zf=function(t,e){var n=this;return(t.values||[]).map((function(t){return n.Uf(t,e)}))},t.prototype.Kf=function(t,e){switch(e){case"previous":var n=zs(t);return null==n?null:this.Uf(n,e);case"estimate":return this.Qf(Hs(t));default:return null}},t.prototype.Qf=function(t){var e=Vs(t);return new ks(e.seconds,e.nanos)},t.prototype.Jf=function(t,e){var n=Ps.ot(t);hs(Gc(n));var r=new ns(n.get(1),n.get(3)),i=new Cs(n.Y(5));return r.isEqual(e)||ss("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}(),yv=function(){function t(t,e,n,r,i){this.Yf=t,this.Xf=e,this.S_=n,this.Zf=r,this.v_=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this.S_.path.tt()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new dd(this.Yf,this.v_,this.S_)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this.Zf},t.prototype.data=function(){if(this.Zf){if(this.v_){var t=new gv(this.Yf,this.Xf,this.S_,this.Zf,null);return this.v_.fromFirestore(t)}return this.Xf.Uf(this.Zf.bt())}},t.prototype.get=function(t){if(this.Zf){var e=this.Zf.data().field(mv("DocumentSnapshot.get",t));if(null!==e)return this.Xf.Uf(e)}},t}(),gv=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return D(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(yv);function mv(t,e){return"string"==typeof e?Hd(t,e):e instanceof nd?e.d_.f_:e.f_}function bv(t){if(Fa(t)&&0===t.xt.length)throw new bs(ms.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var wv=function(){};function _v(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var o=i[r];t=o.td(t)}return t}var Iv=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).ed=e,i.nd=n,i.sd=r,i.type="where",i}return D(e,t),e.prototype.td=function(t){var e=kd(t.firestore),n=function(t,e,n,r,i,o,s){var a;if(i.ut()){if("array-contains"===o||"array-contains-any"===o)throw new bs(ms.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){xv(s,o);for(var u=[],c=0,h=s;c<h.length;c++){var f=h[c];u.push(kv(r,t,f))}a={arrayValue:{values:u}}}else a=kv(r,t,s)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||xv(s,o),a=Ud(n,"where",s,"in"===o||"not-in"===o);var l=wa.create(i,o,a);return function(t,e){if(e.Ct()){var n=qa(t);if(null!==n&&!n.isEqual(e.field))throw new bs(ms.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=Va(t);null!==r&&Ov(0,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw i===e.op?new bs(ms.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter."):new bs(ms.INVALID_ARGUMENT,"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,l),l}(t.C_,0,e,t.firestore.I_,this.ed,this.nd,this.sd);return new vd(t.firestore,t.v_,function(t,e){var n=t.filters.concat([e]);return new La(t.path,t.collectionGroup,t.xt.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t.C_,n))},e}(wv),Ev=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).ed=e,r.rd=n,r.type="orderBy",r}return D(e,t),e.prototype.td=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new bs(ms.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new bs(ms.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Pa(e,n);return function(t,e){if(null===Va(t)){var n=qa(t);null!==n&&Ov(0,n,e.field)}}(t,r),r}(t.C_,this.ed,this.rd);return new vd(t.firestore,t.v_,function(t,e){var n=t.xt.concat([e]);return new La(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t.C_,e))},e}(wv),Tv=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.od=n,i.ad=r,i}return D(e,t),e.prototype.td=function(t){return new vd(t.firestore,t.v_,Ha(t.C_,this.od,this.ad))},e}(wv),Sv=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.ud=n,i.hd=r,i}return D(e,t),e.prototype.td=function(t){var e=Nv(t,this.type,this.ud,this.hd);return new vd(t.firestore,t.v_,function(t,e){return new La(t.path,t.collectionGroup,t.xt.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t.C_,e))},e}(wv),Av=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.ud=n,i.hd=r,i}return D(e,t),e.prototype.td=function(t){var e=Nv(t,this.type,this.ud,this.hd);return new vd(t.firestore,t.v_,function(t,e){return new La(t.path,t.collectionGroup,t.xt.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t.C_,e))},e}(wv);function Nv(t,e,n,r){if(n[0]instanceof nd&&(n[0]=n[0].d_),n[0]instanceof yv)return function(t,e,n,r,i){if(!r)throw new bs(ms.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],s=0,a=Ga(t);s<a.length;s++){var u=a[s];if(u.field.ut())o.push(na(e,r.key));else{var c=r.field(u.field);if(Gs(c))throw new bs(ms.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var h=u.field.rt();throw new bs(ms.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+h+"' (used as the orderBy) does not exist.")}o.push(c)}}return new xa(o,i)}(t.C_,t.firestore.I_,e,n[0].Zf,r);var i=kd(t.firestore);return function(t,e,n,r,i,o){var s=t.xt;if(i.length>s.length)throw new bs(ms.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var a=[],u=0;u<i.length;u++){var c=i[u];if(s[u].field.ut()){if("string"!=typeof c)throw new bs(ms.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!Ba(t)&&-1!==c.indexOf("/"))throw new bs(ms.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var h=t.path.child(Ps.ot(c));if(!Cs.wt(h))throw new bs(ms.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+h+"' is not because it contains an odd number of segments.");var f=new Cs(h);a.push(na(e,f))}else{var l=Ud(n,r,c);a.push(l)}}return new xa(a,o)}(t.C_,t.firestore.I_,i,e,n,r)}function kv(t,e,n){if(n instanceof nd&&(n=n.d_),"string"==typeof n){if(""===n)throw new bs(ms.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Ba(e)&&-1!==n.indexOf("/"))throw new bs(ms.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(Ps.ot(n));if(!Cs.wt(r))throw new bs(ms.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return na(t,new Cs(r))}if(n instanceof dd)return na(t,n.S_);throw new bs(ms.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+ud(n)+".")}function xv(t,e){if(!Array.isArray(t)||0===t.length)throw new bs(ms.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new bs(ms.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function Ov(t,e,n){if(!n.isEqual(e))throw new bs(ms.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}function Pv(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var Rv=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return D(e,t),e.prototype.Wf=function(t){return new ws(t)},e.prototype.jf=function(t){var e=this.Jf(t,this.firestore.I_);return new dd(this.firestore,null,e)},e}(vv),Dv=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),Cv=function(t){function e(e,n,r,i,o,s){var a=this;return(a=t.call(this,e,n,r,i,s)||this).Yf=e,a.ld=e,a.metadata=o,a}return D(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this.Zf){if(this.v_){var e=new Lv(this.Yf,this.Xf,this.S_,this.Zf,this.metadata,null);return this.v_.fromFirestore(e,t)}return this.Xf.Uf(this.Zf.bt(),t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this.Zf){var n=this.Zf.data().field(mv("DocumentSnapshot.get",t));if(null!==n)return this.Xf.Uf(n,e.serverTimestamps)}},e}(yv),Lv=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return D(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(Cv),Mv=function(){function t(t,e,n,r){this.Yf=t,this.Xf=e,this._d=r,this.metadata=new Dv(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach((function(e){return t.push(e)})),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._d.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this._d.docs.forEach((function(r){t.call(e,new Lv(n.Yf,n.Xf,r.key,r,new Dv(n._d.De.has(r.key),n._d.fromCache),n.query.v_))}))},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this._d.xe)throw new bs(ms.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this.fd&&this.dd===e||(this.fd=function(t,e){if(t._d.Se.et()){var n=0;return t._d.docChanges.map((function(e){var r=new Lv(t.Yf,t.Xf,e.doc.key,e.doc,new Dv(t._d.De.has(e.doc.key),t._d.fromCache),t.query.v_);return e.doc,{type:"added",doc:r,oldIndex:-1,newIndex:n++}}))}var r=t._d.Se;return t._d.docChanges.filter((function(t){return e||3!==t.type})).map((function(e){var n=new Lv(t.Yf,t.Xf,e.doc.key,e.doc,new Dv(t._d.De.has(e.doc.key),t._d.fromCache),t.query.v_),i=-1,o=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(o=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:jv(e.type),doc:n,oldIndex:i,newIndex:o}}))}(this,e),this.dd=e),this.fd},t}();function jv(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return cs()}}function Uv(t,e){return t instanceof Cv&&e instanceof Cv?t.Yf===e.Yf&&t.S_.isEqual(e.S_)&&(null===t.Zf?null===e.Zf:t.Zf.isEqual(e.Zf))&&t.v_===e.v_:t instanceof Mv&&e instanceof Mv&&t.Yf===e.Yf&&wd(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._d.isEqual(e._d)}var Fv=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return D(e,t),e.prototype.Wf=function(t){return new ws(t)},e.prototype.jf=function(t){var e=this.Jf(t,this.firestore.I_);return new dd(this.firestore,null,e)},e}(vv);function Vv(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=cd(t,dd);var o=cd(t.firestore,hv),s=kd(o);return e instanceof nd&&(e=e.d_),Bv(o,[("string"==typeof e||e instanceof td?jd(s,"updateDoc",t.S_,e,n,r):Md(s,"updateDoc",t.S_,e)).F_(t.S_,yu.exists(!0))])}function qv(t){for(var e,n,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];t instanceof nd&&(t=t.d_);var s={includeMetadataChanges:!1},a=0;"object"!=typeof i[a]||cv(i[a])||(s=i[a],a++);var u,c,h,f={includeMetadataChanges:s.includeMetadataChanges};if(cv(i[a])){var l=i[a];i[a]=null===(e=l.next)||void 0===e?void 0:e.bind(l),i[a+1]=null===(n=l.error)||void 0===n?void 0:n.bind(l),i[a+2]=null===(r=l.complete)||void 0===r?void 0:r.bind(l)}if(t instanceof dd)c=cd(t.firestore,hv),h=ja(t.S_.path),u={next:function(e){i[a]&&i[a](Gv(c,t,e))},error:i[a+1],complete:i[a+2]};else{var p=cd(t,vd);c=cd(p.firestore,hv),h=p.C_;var d=new Fv(c);u={next:function(t){i[a]&&i[a](new Mv(c,d,p,t))},error:i[a+1],complete:i[a+2]},bv(t.C_)}return function(t,e,n,r){var i=this,o=new Zp(r),s=new cp(e,o,n);return t._s.Ps((function(){return L(i,void 0,void 0,(function(){var e;return M(this,(function(n){switch(n.label){case 0:return e=ip,[4,ov(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}}))}))})),function(){o.i_(),t._s.Ps((function(){return L(i,void 0,void 0,(function(){var e;return M(this,(function(n){switch(n.label){case 0:return e=op,[4,ov(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}}))}))}))}}(fv(c),h,f,u)}function Bv(t,e){return function(t,e){var n=this,r=new zc;return t._s.Ps((function(){return L(n,void 0,void 0,(function(){var n;return M(this,(function(i){switch(i.label){case 0:return n=_p,[4,iv(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(fv(t),e)}function Gv(t,e,n){var r=n.docs.get(e.S_),i=new Fv(t);return new Cv(t,i,e.S_,r,new Dv(n.hasPendingWrites,n.fromCache),e.v_)}var zv=function(){function t(t,e){this.Yf=t,this.wd=e,this.Ed=[],this.Td=!1,this.Id=kd(t)}return t.prototype.set=function(t,e,n){this.md();var r=Hv(t,this.Yf),i=Pv(r.v_,e,n),o=xd(this.Id,"WriteBatch.set",r.S_,i,null!==r.v_,n);return this.Ed.push(o.F_(r.S_,yu.Kt())),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this.md();var o,s=Hv(t,this.Yf);return e instanceof nd&&(e=e.d_),o="string"==typeof e||e instanceof td?jd(this.Id,"WriteBatch.update",s.S_,e,n,r):Md(this.Id,"WriteBatch.update",s.S_,e),this.Ed.push(o.F_(s.S_,yu.exists(!0))),this},t.prototype.delete=function(t){this.md();var e=Hv(t,this.Yf);return this.Ed=this.Ed.concat(new Ru(e.S_,yu.Kt())),this},t.prototype.commit=function(){return this.md(),this.Td=!0,this.Ed.length>0?this.wd(this.Ed):Promise.resolve()},t.prototype.md=function(){if(this.Td)throw new bs(ms.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function Hv(t,e){if(t instanceof nd&&(t=t.d_),t.firestore!==e)throw new bs(ms.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var Kv=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).Yf=e,r}return D(e,t),e.prototype.get=function(e){var n=this,r=Hv(e,this.Yf),i=new Fv(this.Yf);return t.prototype.get.call(this,e).then((function(t){return new Cv(n.Yf,i,r.S_,t.Zf,new Dv(!1,!1),r.v_)}))},e}(function(){function t(t,e){this.Yf=t,this.Ad=e,this.Id=kd(t)}return t.prototype.get=function(t){var e=this,n=Hv(t,this.Yf),r=new Rv(this.Yf);return this.Ad.ef([n.S_]).then((function(t){if(!t||1!==t.length)return cs();var i=t[0];if(i instanceof pa)return new yv(e.Yf,r,n.S_,null,n.v_);if(i instanceof la)return new yv(e.Yf,r,i.key,i,n.v_);throw cs()}))},t.prototype.set=function(t,e,n){var r=Hv(t,this.Yf),i=Pv(r.v_,e,n),o=xd(this.Id,"Transaction.set",r.S_,i,null!==r.v_,n);return this.Ad.set(r.S_,o),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o,s=Hv(t,this.Yf);return e instanceof nd&&(e=e.d_),o="string"==typeof e||e instanceof td?jd(this.Id,"Transaction.update",s.S_,e,n,r):Md(this.Id,"Transaction.update",s.S_,e),this.Ad.update(s.S_,o),this},t.prototype.delete=function(t){var e=Hv(t,this.Yf);return this.Ad.delete(e.S_),this},t}());function Wv(){if("undefined"==typeof Uint8Array)throw new bs(ms.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function Xv(){if("undefined"==typeof atob)throw new bs(ms.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var $v=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return D(e,t),e.fromBase64String=function(t){return Xv(),new e(ws.fromBase64String(t))},e.fromUint8Array=function(t){return Wv(),new e(ws.fromUint8Array(t))},e.prototype.toBase64=function(){return Xv(),this.d_.toBase64()},e.prototype.toUint8Array=function(){return Wv(),this.d_.toUint8Array()},e.prototype.isEqual=function(t){return this.d_.isEqual(t.d_)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(nd),Yv=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){dv(t=cd(t,hv));var n=fv(t),r=t.p_(),i=new Jp;return pv(n,i,new Yp(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t.d_,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){dv(t=cd(t,hv));var e=fv(t),n=t.p_(),r=new Jp;return pv(e,r,new Qp(r,n.cacheSizeBytes))}(t.d_)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t.R_&&!t.P_)throw new bs(ms.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new zc;return t.Bf.Tf((function(){return L(e,void 0,void 0,(function(){var e;return M(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return L(this,void 0,void 0,(function(){var e;return M(this,(function(n){switch(n.label){case 0:return Wc.Kn()?(e=t+"main",[4,Wc.delete(e)]):[2,Promise.resolve()];case 1:return n.sent(),[2]}}))}))}(xf(t.I_,t.w_))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}}))}))})),n.promise}(t.d_)},t}(),Qv=function(t){function e(e,n,r){var i=this;return(i=t.call(this,n)||this).Rd=r,i.INTERNAL={delete:function(){return i.terminate()}},e instanceof ns||(i.Pd=e),i}return D(e,t),Object.defineProperty(e.prototype,"I_",{get:function(){return this.d_.I_},enumerable:!1,configurable:!0}),e.prototype.settings=function(t){t.merge&&delete(t=Object.assign(Object.assign({},this.d_.V_()),t)).merge,this.d_.g_(t)},e.prototype.useEmulator=function(t,e){!function(t,e,n){var r=(t=cd(t,pd)).V_();"firestore.googleapis.com"!==r.host&&r.host!==e&&as("Host has been set in both settings() and useEmulator(), emulator host will be used"),t.g_(Object.assign(Object.assign({},r),{host:e+":"+n,ssl:!1}))}(this.d_,t,e)},e.prototype.enableNetwork=function(){return function(t){var e=this;return t._s.enqueue((function(){return L(e,void 0,void 0,(function(){var e,n;return M(this,(function(r){switch(r.label){case 0:return[4,ev(t)];case 1:return e=r.sent(),[4,rv(t)];case 2:return n=r.sent(),[2,(e.yo(!0),function(t){var e=fs(t);return e.Nh.delete(0),Pl(e)}(n))]}}))}))}))}(fv(cd(this.d_,hv)))},e.prototype.disableNetwork=function(){return function(t){var e=this;return t._s.enqueue((function(){return L(e,void 0,void 0,(function(){var e,n;return M(this,(function(r){switch(r.label){case 0:return[4,ev(t)];case 1:return e=r.sent(),[4,rv(t)];case 2:return n=r.sent(),[2,(e.yo(!1),function(t){return L(this,void 0,void 0,(function(){var e;return M(this,(function(n){switch(n.label){case 0:return(e=fs(t)).Nh.add(0),[4,Rl(e)];case 1:return n.sent(),e.Oh.set("Offline"),[2]}}))}))}(n))]}}))}))}))}(fv(cd(this.d_,hv)))},e.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&od("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.Rd.enableMultiTabIndexedDbPersistence(this):this.Rd.enableIndexedDbPersistence(this,n)},e.prototype.clearPersistence=function(){return this.Rd.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.Pd&&(this.Pd._removeServiceInstance("firestore"),this.Pd._removeServiceInstance("firestore-exp")),this.d_._delete()},e.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new zc;return t._s.Ps((function(){return L(e,void 0,void 0,(function(){var e;return M(this,(function(r){switch(r.label){case 0:return e=Np,[4,iv(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}}))}))})),n.promise}(fv(cd(this.d_,hv)))},e.prototype.onSnapshotsInSync=function(t){return function(t,e){return function(t,e){var n=this,r=new Zp(e);return t._s.Ps((function(){return L(n,void 0,void 0,(function(){var e;return M(this,(function(n){switch(n.label){case 0:return e=function(t,e){fs(t).Wh.add(e),e.next()},[4,ov(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}}))}))})),function(){r.i_(),t._s.Ps((function(){return L(n,void 0,void 0,(function(){var e;return M(this,(function(n){switch(n.label){case 0:return e=function(t,e){fs(t).Wh.delete(e)},[4,ov(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}}))}))}))}}(fv(t=cd(t,hv)),cv(e)?e:{next:e})}(this.d_,t)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.Pd)throw new bs(ms.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.Pd},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new fy(this,gd(this.d_,t))}catch(t){throw ry(t,"collection()","Firestore.collection()")}},e.prototype.doc=function(t){try{return new ny(this,md(this.d_,t))}catch(t){throw ry(t,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(t){try{return new uy(this,function(t,e){if(t=cd(t,pd),rd("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new bs(ms.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new vd(t,null,function(t){return new La(Ps.ct(),t)}(e))}(this.d_,t))}catch(t){throw ry(t,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(t){var e=this;return function(t,e){return function(t,e){var n=this,r=new zc;return t._s.Ps((function(){return L(n,void 0,void 0,(function(){var n;return M(this,(function(i){switch(i.label){case 0:return[4,function(t){return tv(t).then((function(t){return t.Sh}))}(t)];case 1:return n=i.sent(),new $d(t._s,n,e,r).run(),[2]}}))}))})),r.promise}(fv(t),(function(n){return e(new Kv(t,n))}))}(this.d_,(function(n){return t(new Zv(e,n))}))},e.prototype.batch=function(){var t=this;return fv(this.d_),new ty(new zv(this.d_,(function(e){return Bv(t.d_,e)})))},e.prototype.loadBundle=function(t){throw new bs(ms.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},e.prototype.namedQuery=function(t){throw new bs(ms.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},e}(nd),Jv=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return D(e,t),e.prototype.Wf=function(t){return new $v(new ws(t))},e.prototype.jf=function(t){var e=this.Jf(t,this.firestore.I_);return ny.yd(e,this.firestore,null)},e}(vv),Zv=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).Yf=e,r.Xf=new Jv(e),r}return D(e,t),e.prototype.get=function(t){var e=this,n=ly(t);return this.d_.get(n).then((function(t){return new sy(e.Yf,new Cv(e.Yf.d_,e.Xf,t.S_,t.Zf,t.metadata,n.v_))}))},e.prototype.set=function(t,e,n){var r=ly(t);return n?(id("Transaction.set",n),this.d_.set(r,e,n)):this.d_.set(r,e),this},e.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=ly(t);return 2===arguments.length?this.d_.update(s,e):(r=this.d_).update.apply(r,F([s,e,n],i)),this},e.prototype.delete=function(t){var e=ly(t);return this.d_.delete(e),this},e}(nd),ty=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return D(e,t),e.prototype.set=function(t,e,n){var r=ly(t);return n?(id("WriteBatch.set",n),this.d_.set(r,e,n)):this.d_.set(r,e),this},e.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=ly(t);return 2===arguments.length?this.d_.update(s,e):(r=this.d_).update.apply(r,F([s,e,n],i)),this},e.prototype.delete=function(t){var e=ly(t);return this.d_.delete(e),this},e.prototype.commit=function(){return this.d_.commit()},e}(nd),ey=function(t){function e(e,n,r){var i=this;return(i=t.call(this,r)||this).Yf=e,i.Xf=n,i}return D(e,t),e.prototype.fromFirestore=function(t,e){var n=new Lv(this.Yf.d_,this.Xf,t.S_,t.Zf,t.metadata,null);return this.d_.fromFirestore(new ay(this.Yf,n),null!=e?e:{})},e.prototype.toFirestore=function(t,e){return e?this.d_.toFirestore(t,e):this.d_.toFirestore(t)},e.gd=function(t,n){var r=e.Vd,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var o=i.get(n);return o||(o=new e(t,new Jv(t),n),i.set(n,o)),o},e}(nd);ey.Vd=new WeakMap;var ny=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r.Xf=new Jv(e),r}return D(e,t),e.pd=function(t,n,r){if(t.length%2!=0)throw new bs(ms.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.rt()+" has "+t.length);return new e(n,new dd(n.d_,r,new Cs(t)))},e.yd=function(t,n,r){return new e(n,new dd(n.d_,r,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this.d_.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new fy(this.firestore,this.d_.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.d_.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new fy(this.firestore,gd(this.d_,t))}catch(t){throw ry(t,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(t){return t instanceof nd&&(t=t.d_),t instanceof dd&&bd(this.d_,t)},e.prototype.set=function(t,e){e=id("DocumentReference.set",e);try{return function(t,e,n){t=cd(t,dd);var r=cd(t.firestore,hv),i=Pv(t.v_,e,n);return Bv(r,[xd(kd(r),"setDoc",t.S_,i,null!==t.v_,n).F_(t.S_,yu.Kt())])}(this.d_,t,e)}catch(t){throw ry(t,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?Vv(this.d_,t):Vv.apply(void 0,F([this.d_,t,e],n))}catch(t){throw ry(t,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return Bv(cd((t=this.d_).firestore,hv),[new Ru(t.S_,yu.Kt())]);var t},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=iy(e),i=oy(e,(function(e){return new sy(t.firestore,new Cv(t.firestore.d_,t.Xf,e.S_,e.Zf,e.metadata,t.d_.v_))}));return qv(this.d_,r,i)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=cd(t,dd);var e=cd(t.firestore,hv),n=fv(e),r=new Fv(e);return function(t,e){var n=this,r=new zc;return t._s.Ps((function(){return L(n,void 0,void 0,(function(){var n;return M(this,(function(i){switch(i.label){case 0:return n=function(t,e,n){return L(this,void 0,void 0,(function(){var r,i;return M(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,function(t,e){var n=fs(t);return n.persistence.runTransaction("read document","readonly",(function(t){return n.Tc.Ho(t,e)}))}(t,e)];case 1:return(i=o.sent())instanceof la?n.resolve(i):i instanceof pa?n.resolve(null):n.reject(new bs(ms.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=o.sent(),i=nh(r,"Failed to get document '"+e+" from cache"),n.reject(i),[3,3];case 3:return[2]}}))}))},[4,nv(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(n,t.S_).then((function(n){return new Cv(e,r,t.S_,n,new Dv(n instanceof la&&n.Vt,!0),t.v_)}))}(this.d_):"server"===(null==t?void 0:t.source)?function(t){t=cd(t,dd);var e=cd(t.firestore,hv);return sv(fv(e),t.S_,{source:"server"}).then((function(n){return Gv(e,t,n)}))}(this.d_):function(t){t=cd(t,dd);var e=cd(t.firestore,hv);return sv(fv(e),t.S_).then((function(n){return Gv(e,t,n)}))}(this.d_)).then((function(t){return new sy(e.firestore,new Cv(e.firestore.d_,e.Xf,t.S_,t.Zf,t.metadata,e.d_.v_))}))},e.prototype.withConverter=function(t){return new e(this.firestore,this.d_.withConverter(ey.gd(this.firestore,t)))},e}(nd);function ry(t,e,n){return t.message=t.message.replace(e,n),t}function iy(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!cv(r))return r}return{}}function oy(t,e){var n,r,i;return{next:function(t){i.next&&i.next(e(t))},error:null===(n=(i=cv(t[0])?t[0]:cv(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var sy=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).Yf=e,r}return D(e,t),Object.defineProperty(e.prototype,"ref",{get:function(){return new ny(this.Yf,this.d_.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this.d_.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this.d_.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this.d_.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(t){return this.d_.data(t)},e.prototype.get=function(t,e){return this.d_.get(t,e)},e.prototype.isEqual=function(t){return Uv(this.d_,t.d_)},e}(nd),ay=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return D(e,t),e.prototype.data=function(t){return this.d_.data(t)},e}(sy),uy=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r.Xf=new Jv(e),r}return D(e,t),e.prototype.where=function(t,n,r){try{return new e(this.firestore,_v(this.d_,function(t,e,n){var r=e,i=mv("where",t);return new Iv(i,r,n)}(t,n,r)))}catch(t){throw ry(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,_v(this.d_,function(t,e){void 0===e&&(e="asc");var n=e,r=mv("orderBy",t);return new Ev(r,n)}(t,n)))}catch(t){throw ry(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,_v(this.d_,function(t){return hd("limit",t),new Tv("limit",t,"F")}(t)))}catch(t){throw ry(t,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,_v(this.d_,function(t){return hd("limitToLast",t),new Tv("limitToLast",t,"L")}(t)))}catch(t){throw ry(t,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,_v(this.d_,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Sv("startAt",t,!0)}.apply(void 0,t)))}catch(t){throw ry(t,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,_v(this.d_,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Sv("startAfter",t,!1)}.apply(void 0,t)))}catch(t){throw ry(t,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,_v(this.d_,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Av("endBefore",t,!0)}.apply(void 0,t)))}catch(t){throw ry(t,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,_v(this.d_,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Av("endAt",t,!1)}.apply(void 0,t)))}catch(t){throw ry(t,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(t){return wd(this.d_,t.d_)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=cd(t,vd);var e=cd(t.firestore,hv),n=fv(e),r=new Fv(e);return function(t,e){var n=this,r=new zc;return t._s.Ps((function(){return L(n,void 0,void 0,(function(){var n;return M(this,(function(i){switch(i.label){case 0:return n=function(t,e,n){return L(this,void 0,void 0,(function(){var r,i,o,s,a;return M(this,(function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,zf(t,e,!0)];case 1:return a=u.sent(),r=new dp(e,a.Rc),i=r.fl(a.documents),o=r.wi(i,!1),n.resolve(o.snapshot),[3,3];case 2:return s=u.sent(),a=nh(s,"Failed to execute query '"+e+" against cache"),n.reject(a),[3,3];case 3:return[2]}}))}))},[4,nv(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(n,t.C_).then((function(n){return new Mv(e,r,t,n)}))}(this.d_):"server"===(null==t?void 0:t.source)?function(t){t=cd(t,vd);var e=cd(t.firestore,hv),n=fv(e),r=new Fv(e);return av(n,t.C_,{source:"server"}).then((function(n){return new Mv(e,r,t,n)}))}(this.d_):function(t){t=cd(t,vd);var e=cd(t.firestore,hv),n=fv(e),r=new Fv(e);return bv(t.C_),av(n,t.C_).then((function(n){return new Mv(e,r,t,n)}))}(this.d_)).then((function(t){return new hy(e.firestore,new Mv(e.firestore.d_,e.Xf,e.d_,t._d))}))},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=iy(e),i=oy(e,(function(e){return new hy(t.firestore,new Mv(t.firestore.d_,t.Xf,t.d_,e._d))}));return qv(this.d_,r,i)},e.prototype.withConverter=function(t){return new e(this.firestore,this.d_.withConverter(ey.gd(this.firestore,t)))},e}(nd),cy=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).Yf=e,r}return D(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return this.d_.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new ay(this.Yf,this.d_.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this.d_.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this.d_.newIndex},enumerable:!1,configurable:!0}),e}(nd),hy=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).Yf=e,r}return D(e,t),Object.defineProperty(e.prototype,"query",{get:function(){return new uy(this.Yf,this.d_.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this.d_.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this.d_.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this.d_.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var t=this;return this.d_.docs.map((function(e){return new ay(t.Yf,e)}))},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(t){var e=this;return this.d_.docChanges(t).map((function(t){return new cy(e.Yf,t)}))},e.prototype.forEach=function(t,e){var n=this;this.d_.forEach((function(r){t.call(e,new ay(n.Yf,r))}))},e.prototype.isEqual=function(t){return Uv(this.d_,t.d_)},e}(nd),fy=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).firestore=e,r.d_=n,r}return D(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this.d_.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.d_.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this.d_.parent;return t?new ny(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new ny(this.firestore,void 0===t?md(this.d_):md(this.d_,t))}catch(t){throw ry(t,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e=this;return function(t,e){var n=cd(t.firestore,hv),r=md(t),i=Pv(t.v_,e);return Bv(n,[xd(kd(t.firestore),"addDoc",r.S_,i,null!==t.v_,{}).F_(r.S_,yu.exists(!1))]).then((function(){return r}))}(this.d_,t).then((function(t){return new ny(e.firestore,t)}))},e.prototype.isEqual=function(t){return bd(this.d_,t.d_)},e.prototype.withConverter=function(t){return new e(this.firestore,this.d_.withConverter(ey.gd(this.firestore,t)))},e}(uy);function ly(t){return t instanceof nd&&(t=t.d_),cd(t,dd)}var py,dy=function(t){function e(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.call(this,new(td.bind.apply(td,F([void 0],e))))||this}return D(e,t),e.documentId=function(){return new e(Ds.ht().rt())},e.prototype.isEqual=function(t){return t instanceof nd&&(t=t.d_),t instanceof td&&this.d_.f_.isEqual(t.f_)},e}(nd),vy=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return D(e,t),e.serverTimestamp=function(){var t=new Rd("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new Od("deleteField");return t._methodName="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Dd("arrayUnion",t)}.apply(void 0,t);return r._methodName="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Cd("arrayRemove",t)}.apply(void 0,t);return r._methodName="FieldValue.arrayRemove",new e(r)},e.increment=function(t){var n=function(t){return new Ld("increment",t)}(t);return n._methodName="FieldValue.increment",new e(n)},e.prototype.isEqual=function(t){return this.d_.isEqual(t.d_)},e}(nd),yy={Firestore:Qv,GeoPoint:_d,Timestamp:ks,Blob:$v,Transaction:Zv,WriteBatch:ty,DocumentReference:ny,DocumentSnapshot:sy,Query:uy,QueryDocumentSnapshot:ay,QuerySnapshot:hy,CollectionReference:fy,FieldPath:dy,FieldValue:vy,setLogLevel:function(t){var e;e=t,rs.setLogLevel(e)},CACHE_SIZE_UNLIMITED:-1};(function(t,e){t.INTERNAL.registerComponent(new tt("firestore",(function(t){return function(t,e){return new Qv(t,new hv(t,e),new Yv)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))}),"PUBLIC").setServiceProps(Object.assign({},yy)))})(py=Nt),py.registerVersion("@firebase/firestore","2.1.7");const gy=function(t={},e){let n=e({...t},{type:"__INIT__"}),r=[];return{subscribe:t=>(r.push(t),{unsubscribe(){r=r.filter((e=>e!==t))}}),dispatch(t){n=e(n,t),r.forEach((t=>t(n)))},getState:()=>n}}((my=e("sound-cloud"))?(t=>({...t,play:!1,isFetching:!0,isRewinding:!1,tracksForUpload:[],trackList:[],shuffledTrackList:[]}))(my):{trackList:[],shuffledTrackList:[],play:!1,mute:!1,shuffle:!1,repeat:!1,currentTrackVolume:1,currentTrackId:null,isRewinding:!1,tracksForUpload:[],isFetching:!0,currentAudioTimePosition:0,currentAudioHandlePosition:0},(function(t,e){let n;switch(e.type){case"TOGGLE_SHUFFLE":return n=t.shuffle,{...t,shuffle:!n};case"TOGGLE_PLAY":return{...t,play:e.payload};case"TOGGLE_MUTE":return n=t.mute,{...t,mute:!n};case"TOGGLE_REPEAT":return n=t.repeat,{...t,repeat:!n};case"UPDATE_CURRENT_TRACKVOLUME":return{...t,currentTrackVolume:e.payload};case"SET_IS_REWINDING":return{...t,isRewinding:e.payload};case"UPDATE_TRACKS_FOR_UPLOAD":return{...t,tracksForUpload:e.payload};case"SET_UPLOAD_PROGRESS":const{idx:r,percentage:i}=e.payload,o=t.tracksForUpload.map(((t,e)=>e===r?Object.assign({},t,{uploadProgress:i}):t));return{...t,tracksForUpload:o};case"SET_TRACK_LIST":return{...t,trackList:e.payload};case"SET_IS_FETCHING":return{...t,isFetching:e.payload};case"SET_CURRENT_TRACK_ID":return{...t,currentTrackId:e.payload};case"SET_CURRENT_AUDIO_TIME_POSITION":return{...t,currentAudioTimePosition:e.payload};case"SET_CURRENT_AUDIO_HANDLE_POSITION":return{...t,currentAudioHandlePosition:e.payload};case"SET_SHUFFLED_TRACK_LIST":return{...t,shuffledTrackList:e.payload};default:return t}}));var my;const by=new class{constructor(){this.subscribers=[],this.audio=new Audio}get getState(){return JSON.parse(JSON.stringify({isPlaying:!this.audio.paused,isMuted:this.audio.muted,isLopped:this.audio.loop,isEnded:this.audio.ended,currentTime:Math.floor(this.audio.currentTime)||0,currentVolume:this.audio.volume,readyState:this.audio.readyState,trackDuration:this.audio.duration||0}))}get trackDuration(){return this.audio.duration}subscribe(t){return this.subscribers.push(t),{unsubscribe(){this.subscribers=this.subscribers.filter((e=>e!==t))}}}emit(t){this.subscribers.forEach((e=>e(t)))}init(t,e){this.audio.currentTime=e.currentTime||0,this.audio.volume=e.volume||1,this.audio.muted=e.muted||!1,this.audio.loop=e.loop||!1,this.audio.src=t,this.audio.ontimeupdate=()=>this.emit(this.getState),this.audio.onended=()=>this.emit(this.getState)}play(){this.audio.paused?this.audio.play():this.audio.pause(),this.emit(this.getState)}pause(){this.audio.pause(),this.emit(this.getState)}rewind(t=0){this.audio.currentTime=t,this.emit(this.getState)}volume(t=1){this.audio.volume=t,this.emit(this.getState)}mute(){this.audio.muted?this.audio.muted=!1:this.audio.muted=!0,this.emit(this.getState)}repeat(){this.audio.loop?this.audio.loop=!1:this.audio.loop=!0,this.emit(this.getState)}},wy=new class{constructor(t={}){Nt.initializeApp(t),this.storage=Nt.storage()}async fetchData(){const t=[],e=this.storage.ref().child("music"),{items:n}=await e.listAll();for(const e of n){const n=await e.getDownloadURL(),r=await e.getMetadata();t.push({name:e.name.replace(".mp3",""),size:o(r.size),hash:r.md5Hash,url:n})}return t}put(t){return this.storage.ref(`music/${t.name}`).put(t)}auth(t,e){return Nt.auth().signInWithEmailAndPassword(t,e).then((t=>{const e=t.user;console.log(e)})).catch((t=>{console.log(t)}))}async getAllUsers(){try{const t=(await Nt.firestore().collection("users").get()).docs.map((t=>({...t.data()})));return console.log("All Users",t),t}catch(t){console.log(`Some error ${t} has occured in getMusicList()`)}}async getMusicList(){try{return(await Nt.firestore().collection("music").get()).docs.map((t=>({...t.data()})))}catch(t){return console.error(`Ошибка в методе getMusicList()\n\n${t.message}`),!1}}async createCollectionRecord(t,e,n,r){try{await Nt.firestore().collection("music").add({name:e,url:n,size:o(r),hashId:t})}catch(t){console.error(`Ошибка в методе createCollectionRecord()\n\n${t.message}`)}}async findTrackByHashId(t){try{if((await Nt.firestore().collection("music").where("hashId","==",`${t}`).get()).docs.map((t=>({...t.data()}))).length>0)throw new Error("Трек с таким hashId уже существует!");return!1}catch(t){return console.error(`Ошибка в методе findTrackByHashId()\n\n${t.message}`),!0}}}({apiKey:"AIzaSyDQIYGDohT6X5ckVKEwkOH91p_VLurr-04",authDomain:"sound-cloud-408fc.firebaseapp.com",projectId:"sound-cloud-408fc",storageBucket:"sound-cloud-408fc.appspot.com",messagingSenderId:"360477666381",appId:"1:360477666381:web:143ac502ef8a5b1b93c004"});gy.subscribe((t=>e("sound-cloud",t))),new class{constructor(t,e={}){this.$rootElement=d(t),this.components=e.components||[],this.store=e.store,this.audio=e.audio,this.storeObserver=new x(this.store),this.audioObserver=new k(this.audio),this.api=e.firebase}init(){const t=d.create("div","soundcloud"),e={store:this.store,audio:this.audio,api:this.api};return this.components=this.components.map((n=>{const r=d.create("div",n.className),i=new n(r,e);return r.html(i.renderComponent()),t.append(r),i})),this.$rootElement.append(t),this.components.forEach((t=>t.componentDidMount())),this.storeObserver.subscribeComponents(this.components),this.audioObserver.subscribeComponents(this.components),this.components.forEach((t=>t.init())),!0}destroy(){return this.storeObserver.unsubscribeFromStore(),this.audioObserver.unsubscribeFromAudio(),this.components.forEach((t=>t.destroy())),!0}}("#root",{components:[c,N,P,O],store:gy,audio:by,firebase:wy}).init()})()})();